<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=2"><meta name="theme-color" content="#FFF"><link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png"><link rel="icon" type="image/ico" sizes="32x32" href="/images/favicon.ico"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><link rel="alternate" type="application/rss+xml" title="谢剑锋的博客" href="http://yoursite.com/rss.xml"><link rel="alternate" type="application/atom+xml" title="谢剑锋的博客" href="http://yoursite.com/atom.xml"><link rel="alternate" type="application/json" title="谢剑锋的博客" href="http://yoursite.com/feed.json"><link rel="stylesheet" href="//fonts.googleapis.com/css?family=Mulish:300,300italic,400,400italic,700,700italic%7CFredericka%20the%20Great:300,300italic,400,400italic,700,700italic%7CNoto%20Serif%20JP:300,300italic,400,400italic,700,700italic%7CNoto%20Serif%20SC:300,300italic,400,400italic,700,700italic%7CInconsolata:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext"><link rel="stylesheet" href="/css/app.css?v=0.2.5"><link rel="canonical" href="http://yoursite.com/SSMproject%E6%B5%81%E7%A8%8B/"><title>SSMproject流程 | Ricardo·M·Xie = 谢剑锋的博客 = 愿你一生努力，一生被爱</title><meta name="generator" content="Hexo 5.4.0"></head><body itemscope itemtype="http://schema.org/WebPage"><div id="loading"><div class="cat"><div class="body"></div><div class="head"><div class="face"></div></div><div class="foot"><div class="tummy-end"></div><div class="bottom"></div><div class="legs left"></div><div class="legs right"></div></div><div class="paw"><div class="hands left"></div><div class="hands right"></div></div></div></div><div id="container"><header id="header" itemscope itemtype="http://schema.org/WPHeader"><div class="inner"><div id="brand"><div class="pjax"><h1 itemprop="name headline">SSMproject流程</h1><div class="meta"><span class="item" title="创建时间：2021-08-12 11:59:31"><span class="icon"><i class="ic i-calendar"></i> </span><span class="text">发表于</span> <time itemprop="dateCreated datePublished" datetime="2021-08-12T11:59:31+08:00">2021-08-12</time></span></div></div></div><nav id="nav"><div class="inner"><div class="toggle"><div class="lines" aria-label="切换导航栏"><span class="line"></span> <span class="line"></span> <span class="line"></span></div></div><ul class="menu"><li class="item title"><a href="/" rel="start">Ricardo·M·Xie</a></li></ul><ul class="right"><li class="item theme"><i class="ic i-sun"></i></li><li class="item search"><i class="ic i-search"></i></li></ul></div></nav></div><div id="imgs" class="pjax"><ul><li class="item" data-background-image="https://tva3.sinaimg.cn/large/6833939bly1giclil3m4ej20zk0m8tn8.jpg"></li><li class="item" data-background-image="https://tva3.sinaimg.cn/large/6833939bly1giciusoyjnj219g0u0x56.jpg"></li><li class="item" data-background-image="https://tva3.sinaimg.cn/large/6833939bly1giclize41wj20zk0m87gk.jpg"></li><li class="item" data-background-image="https://tva3.sinaimg.cn/large/6833939bly1giph4lm9i7j20zk0m84qp.jpg"></li><li class="item" data-background-image="https://tva3.sinaimg.cn/large/6833939bly1giclimtf7dj20zk0m8qav.jpg"></li><li class="item" data-background-image="https://tva3.sinaimg.cn/large/6833939bly1giciszlczyj20zk0m816d.jpg"></li></ul></div></header><div id="waves"><svg class="waves" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 24 150 28" preserveAspectRatio="none" shape-rendering="auto"><defs><path id="gentle-wave" d="M-160 44c30 0 58-18 88-18s 58 18 88 18 58-18 88-18 58 18 88 18 v44h-352z"/></defs><g class="parallax"><use xlink:href="#gentle-wave" x="48" y="0"/><use xlink:href="#gentle-wave" x="48" y="3"/><use xlink:href="#gentle-wave" x="48" y="5"/><use xlink:href="#gentle-wave" x="48" y="7"/></g></svg></div><main><div class="inner"><div id="main" class="pjax"><div class="article wrap"><div class="breadcrumb" itemscope itemtype="https://schema.org/BreadcrumbList"><i class="ic i-home"></i> <span><a href="/">首页</a></span></div><article itemscope itemtype="http://schema.org/Article" class="post block" lang="zh-CN"><link itemprop="mainEntityOfPage" href="http://yoursite.com/SSMproject%E6%B5%81%E7%A8%8B/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="image" content="/images/avatar.jpg"><meta itemprop="name" content="谢剑锋"><meta itemprop="description" content="愿你一生努力，一生被爱, 阿巴阿巴，像个憨瓜"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="谢剑锋的博客"></span><div class="body md" itemprop="articleBody"><h1 id="ssmproject流程"><a class="anchor" href="#ssmproject流程">#</a> SSMproject 流程</h1><h2 id="项目需求分析"><a class="anchor" href="#项目需求分析">#</a> 项目需求分析</h2><p>非常重要！！！</p><h2 id="系统架构设计"><a class="anchor" href="#系统架构设计">#</a> 系统架构设计</h2><p>3 层架构设计</p><blockquote><p>Web 表现层：</p><p>该层主要包括 Spring MVC 中的 Controller 类和 JSP 页面。</p><p>Controller 类主要负责拦截用户请求，并调用业务逻辑层中相应组件的业务逻辑方法来处理用户请求，然后将相应的结果返回给 JSP 页面。</p></blockquote><blockquote><p>业务逻辑层（Service 层）：</p><p>该层由若干 Service 接口和实现类组成。</p><p>在本系统中，业务逻辑层的接口统一使用 Service 结尾，其实现类名称统一在接口名后加 Impl。该层主要用于实现系统的业务逻辑。</p></blockquote><blockquote><p>数据访问层（DAO 层）：</p><p>由若干 DAO 接口和 MyBatis 映射文件组成。</p><p>接口的名称统一以 Dao 结尾，且 MyBatis 的映射文件名称要与接口的名称相同。</p><p>持久对象层（也称持久层或持久化层）：该层由若干持久化类（实体类）组成。</p></blockquote><p><img data-src="https://cdn.jsdelivr.net/gh/Xiejianfeng2000/image-hosting/image-20210807094011935.png" alt="image-20210807094011935"></p><h2 id="系统环境所需jar包"><a class="anchor" href="#系统环境所需jar包">#</a> 系统环境所需 jar 包</h2><p>要由于本系统使用的是 SSM 框架开发，因此需要准备这三大框架的 JAR 包，需要准备的 JAR 共计 35 个。</p><blockquote><p>Spring 框架所需的 JAR 包（10 个）</p><p>aopalliance-1.0.jar</p><p>aspectjweaver-1.8.10.jar</p><p>spring-aop-4.3.6.RELEASE.jar</p><p>spring-aspects-4.3.6.RELEASE.jar</p><p>spring-beans-4.3.6.RELEASE.jar</p><p>spring-context-4.3.6.RELEASE.jar</p><p>spring-core-4.3.6.RELEASE.jar</p><p>spring-expression-4.3.6.RELEASE.jar</p><p>spring-jdbc-4.3.6.RELEASE.jar</p><p>spring-tx-4.3.6.RELEASE.jar</p><p>Spring MVC 框架所需要的 JAR 包（2 个）</p><p>spring-web-4.3.6.RELEASE.jar</p><p>spring-webmvc-4.3.6.RELEASE.jar</p><p>MyBatis 框架所需的 JAR 包（13 个）</p><p>ant-1.9.6.jar</p><p>ant-launcher-1.9.6.jar</p><p>asm-5.1.jar</p><p>cglib-3.2.4.jar</p><p>commons-logging-1.2.jar</p><p>javassist-3.21.0-GA.jar</p><p>log4j-1.2.17.jar</p><p>log4j-api-2.3.jar</p><p>log4j-core-2.3.jar</p><p>mybatis-3.4.2.jar</p><p>ognl-3.1.12.jar</p><p>slf4j-api-1.7.22.jar</p><p>slf4j-log4j12-1.7.22.jar</p><p>MyBatis 与 Spring 整合的中间 JAR（1 个）</p><p>mybatis-spring-1.3.1.jar</p><p>数据库驱动 JAR（MySQL，1 个）</p><p>mysql-connector-java-5.1.40-bin.jar</p><p>数据源所需 JAR（DBCP，2 个）</p><p>commons-dbcp2-2.1.1.jar</p><p>commons-pool2-2.4.2.jar</p><p>JSTL 标签库 JAR（2 个）</p><p>taglibs-standard-impl-1.2.5.jar</p><p>taglibs-standard-spec-1.2.5.jar</p><p>Jackson 框架所需 JAR（3 个）</p><p>jackson-annotations-2.8.6.jar</p><p>jackson-core-2.8.6.jar</p><p>jackson-databind-2.8.6.jar</p><p>Java 工具类 JAR（1 个）</p><p>commons-lang3-3.4.jar</p></blockquote><h2 id="设计数据表结构"><a class="anchor" href="#设计数据表结构">#</a> 设计数据表结构</h2><p>全英文一般用下划线 &quot;_&quot; 分隔，例如：</p><p><img data-src="https://cdn.jsdelivr.net/gh/Xiejianfeng2000/image-hosting/image-20210807095139730.png" alt="image-20210807095139730"></p><p><img data-src="https://cdn.jsdelivr.net/gh/Xiejianfeng2000/image-hosting/image-20210807095147612.png" alt="image-20210807095147612"></p><p><img data-src="https://cdn.jsdelivr.net/gh/Xiejianfeng2000/image-hosting/image-20210807095156542.png" alt="image-20210807095156542"></p><h2 id="配置目录"><a class="anchor" href="#配置目录">#</a> 配置目录</h2><p>共 6 个</p><blockquote><p>Spring 配置文件：applicationContext.xml</p><p>数据库常量配置文件：db.properties</p><p>log4j 配置文件：log4j.properties</p><p>MyBatis 配置文件：mybatis-config.xml</p><p>资源配置文件：resource.properties</p><p>Spring MVC 配置文件 springmvc-config.xml</p></blockquote><p><img data-src="https://cdn.jsdelivr.net/gh/Xiejianfeng2000/image-hosting/image-20210807095356688.png" alt="image-20210807095356688"></p><p><img data-src="https://cdn.jsdelivr.net/gh/Xiejianfeng2000/image-hosting/image-20210807095412390.png" alt="image-20210807095412390"></p><h2 id="项目开始"><a class="anchor" href="#项目开始">#</a> 项目开始</h2><ul><li>用户类 User</li></ul><h3 id="创建持久化类userjava"><a class="anchor" href="#创建持久化类userjava">#</a> 创建持久化类 User.java</h3><blockquote><p>用户持久化类</p></blockquote><p>根据数据库表创建</p><figure class="highlight java"><figcaption data-lang="java"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">User</span> <span class="token keyword">implements</span> <span class="token class-name">Serializable</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="2"></td><td><pre>	<span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">long</span> serialVersionUID <span class="token operator">=</span> <span class="token number">1L</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="3"></td><td><pre>	<span class="token keyword">private</span> <span class="token class-name">Integer</span> user_id<span class="token punctuation">;</span>      <span class="token comment">// 用户 id </span></pre></td></tr><tr><td data-num="4"></td><td><pre>	<span class="token keyword">private</span> <span class="token class-name">String</span> user_code<span class="token punctuation">;</span>     <span class="token comment">// 用户账号</span></pre></td></tr><tr><td data-num="5"></td><td><pre>	<span class="token keyword">private</span> <span class="token class-name">String</span> user_name<span class="token punctuation">;</span>     <span class="token comment">// 用户名称</span></pre></td></tr><tr><td data-num="6"></td><td><pre>	<span class="token keyword">private</span> <span class="token class-name">String</span> user_password<span class="token punctuation">;</span> <span class="token comment">// 用户密码</span></pre></td></tr><tr><td data-num="7"></td><td><pre>	<span class="token keyword">private</span> <span class="token class-name">Integer</span> user_state<span class="token punctuation">;</span>   <span class="token comment">// 用户状态</span></pre></td></tr><tr><td data-num="8"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><h3 id="创建dao层接口userdaojava"><a class="anchor" href="#创建dao层接口userdaojava">#</a> 创建 DAO 层接口 UserDao.java</h3><blockquote><p>用户 DAO 层<strong>接口</strong> 负责处理数据表</p></blockquote><p>例如：通过账号和密码查询用户</p><figure class="highlight java"><figcaption data-lang="java"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">UserDao</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="2"></td><td><pre>	<span class="token comment">/**</span></pre></td></tr><tr><td data-num="3"></td><td><pre>	 * 通过账号和密码查询用户</pre></td></tr><tr><td data-num="4"></td><td><pre>	 */</pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token keyword">public</span> <span class="token class-name">User</span> <span class="token function">findUser</span><span class="token punctuation">(</span><span class="token annotation punctuation">@Param</span><span class="token punctuation">(</span><span class="token string">"usercode"</span><span class="token punctuation">)</span> <span class="token class-name">String</span> usercode<span class="token punctuation">,</span>  <span class="token annotation punctuation">@Param</span><span class="token punctuation">(</span><span class="token string">"password"</span><span class="token punctuation">)</span> <span class="token class-name">String</span> password<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><h3 id="创建映射文件userdaoxml"><a class="anchor" href="#创建映射文件userdaoxml">#</a> 创建映射文件 UserDao.xml</h3><blockquote><p>实现 UserDao.java 中编写的方法</p></blockquote><p>例如：实现查询用户</p><figure class="highlight xml"><figcaption data-lang="XML"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mapper</span> <span class="token attr-name">namespace</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>com.itheima.core.dao.UserDao<span class="token punctuation">"</span></span> <span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="2"></td><td><pre>    <span class="token comment">&lt;!-- 查询用户 --></span></pre></td></tr><tr><td data-num="3"></td><td><pre>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>select</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>findUser<span class="token punctuation">"</span></span> <span class="token attr-name">parameterType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>String<span class="token punctuation">"</span></span> <span class="token attr-name">resultType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>user<span class="token punctuation">"</span></span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="4"></td><td><pre>	       select *  from sys_user</pre></td></tr><tr><td data-num="5"></td><td><pre>	       where user_code = #&#123;usercode&#125;</pre></td></tr><tr><td data-num="6"></td><td><pre>	       and user_password =#&#123;password&#125;</pre></td></tr><tr><td data-num="7"></td><td><pre>	       and user_state = '1'</pre></td></tr><tr><td data-num="8"></td><td><pre>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>select</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="9"></td><td><pre><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>mapper</span><span class="token punctuation">></span></span></pre></td></tr></table></figure><h3 id="创建service层接口userservicejava"><a class="anchor" href="#创建service层接口userservicejava">#</a> 创建 Service 层接口 UserService.java</h3><blockquote><p>用户 Service 层接口，提供功能服务</p></blockquote><p>例如：业务功能实现</p><figure class="highlight java"><figcaption data-lang="java"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">UserService</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="2"></td><td><pre></pre></td></tr><tr><td data-num="3"></td><td><pre>	<span class="token comment">// 业务功能方法：通过账号和密码查询用户，核对用户的身份信息</span></pre></td></tr><tr><td data-num="4"></td><td><pre>	<span class="token keyword">public</span> <span class="token class-name">User</span> <span class="token function">findUser</span><span class="token punctuation">(</span><span class="token class-name">String</span> usercode<span class="token punctuation">,</span><span class="token class-name">String</span> password<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><h3 id="创建service层类userserviceimpljava"><a class="anchor" href="#创建service层类userserviceimpljava">#</a> 创建 Service 层类 UserServiceImpl.java</h3><blockquote><p>用户 Service 接口实现类</p></blockquote><p>例如：UserDao 注入，查询用户</p><figure class="highlight java"><figcaption data-lang="java"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token annotation punctuation">@Service</span><span class="token punctuation">(</span><span class="token string">"userService"</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token annotation punctuation">@Transactional</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">UserServiceImpl</span> <span class="token keyword">implements</span> <span class="token class-name">UserService</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="4"></td><td><pre>	<span class="token comment">// 注入 UserDao</span></pre></td></tr><tr><td data-num="5"></td><td><pre>	<span class="token annotation punctuation">@Autowired</span></pre></td></tr><tr><td data-num="6"></td><td><pre>	<span class="token keyword">private</span> <span class="token class-name">UserDao</span> userDao<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="7"></td><td><pre>	<span class="token comment">// 通过账号和密码查询用户</span></pre></td></tr><tr><td data-num="8"></td><td><pre>	<span class="token annotation punctuation">@Override</span></pre></td></tr><tr><td data-num="9"></td><td><pre>	<span class="token keyword">public</span> <span class="token class-name">User</span> <span class="token function">findUser</span><span class="token punctuation">(</span><span class="token class-name">String</span> usercode<span class="token punctuation">,</span> <span class="token class-name">String</span> password<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="10"></td><td><pre>		<span class="token class-name">User</span> user <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>userDao<span class="token punctuation">.</span><span class="token function">findUser</span><span class="token punctuation">(</span>usercode<span class="token punctuation">,</span> password<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="11"></td><td><pre>		<span class="token keyword">return</span> user<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="12"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="13"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><h3 id="创建用户控制器类usercontrollerjava核心代码"><a class="anchor" href="#创建用户控制器类usercontrollerjava核心代码">#</a> 创建用户控制器类 UserController.java (核心代码)</h3><blockquote><p>接收客户端表单传过来的数据</p></blockquote><p>例如：依赖注入，调用查询方法，并返回一个界面</p><figure class="highlight java"><figcaption data-lang="java"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token annotation punctuation">@Controller</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">UserController</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="3"></td><td><pre>	<span class="token comment">// 依赖注入</span></pre></td></tr><tr><td data-num="4"></td><td><pre>	<span class="token annotation punctuation">@Autowired</span></pre></td></tr><tr><td data-num="5"></td><td><pre>	<span class="token keyword">private</span> <span class="token class-name">UserService</span> userService<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="6"></td><td><pre>	<span class="token comment">/**</span></pre></td></tr><tr><td data-num="7"></td><td><pre>	 * 用户登录</pre></td></tr><tr><td data-num="8"></td><td><pre>	 */</pre></td></tr><tr><td data-num="9"></td><td><pre>	<span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">"/login.action"</span><span class="token punctuation">,</span> method <span class="token operator">=</span> <span class="token class-name">RequestMethod</span><span class="token punctuation">.</span>POST<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="10"></td><td><pre>	<span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">login</span><span class="token punctuation">(</span><span class="token class-name">String</span> usercode<span class="token punctuation">,</span><span class="token class-name">String</span> password<span class="token punctuation">,</span> <span class="token class-name">Model</span> model<span class="token punctuation">,</span> <span class="token class-name">HttpSession</span> session<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="11"></td><td><pre>		<span class="token comment">// 通过账号和密码查询用户</span></pre></td></tr><tr><td data-num="12"></td><td><pre>		<span class="token class-name">User</span> user <span class="token operator">=</span> userService<span class="token punctuation">.</span><span class="token function">findUser</span><span class="token punctuation">(</span>usercode<span class="token punctuation">,</span> password<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="13"></td><td><pre>		<span class="token keyword">if</span><span class="token punctuation">(</span>user <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>		</pre></td></tr><tr><td data-num="14"></td><td><pre>			 <span class="token comment">// 将用户对象添加到 Session</span></pre></td></tr><tr><td data-num="15"></td><td><pre>			session<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">"USER_SESSION"</span><span class="token punctuation">,</span> user<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="16"></td><td><pre>			 <span class="token comment">// 跳转到主页面</span></pre></td></tr><tr><td data-num="17"></td><td><pre><span class="token comment">// return "customer";</span></pre></td></tr><tr><td data-num="18"></td><td><pre>			<span class="token keyword">return</span> <span class="token string">"redirect:customer/list.action"</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="19"></td><td><pre>		<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="20"></td><td><pre>		model<span class="token punctuation">.</span><span class="token function">addAttribute</span><span class="token punctuation">(</span><span class="token string">"msg"</span><span class="token punctuation">,</span> <span class="token string">"账号或密码错误，请重新输入！"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="21"></td><td><pre>         <span class="token comment">// 返回到登录页面</span></pre></td></tr><tr><td data-num="22"></td><td><pre>		<span class="token keyword">return</span> <span class="token string">"login"</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="23"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="24"></td><td><pre>	</pre></td></tr><tr><td data-num="25"></td><td><pre>	<span class="token comment">/**</span></pre></td></tr><tr><td data-num="26"></td><td><pre>	 * 模拟其他类中跳转到客户管理页面的方法</pre></td></tr><tr><td data-num="27"></td><td><pre>	 */</pre></td></tr><tr><td data-num="28"></td><td><pre>	<span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">"/toCustomer.action"</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="29"></td><td><pre>	<span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">toCustomer</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="30"></td><td><pre>	    <span class="token keyword">return</span> <span class="token string">"customer"</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="31"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="32"></td><td><pre>	</pre></td></tr><tr><td data-num="33"></td><td><pre>	<span class="token comment">/**</span></pre></td></tr><tr><td data-num="34"></td><td><pre>	 * 退出登录</pre></td></tr><tr><td data-num="35"></td><td><pre>	 */</pre></td></tr><tr><td data-num="36"></td><td><pre>	<span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">"/logout.action"</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="37"></td><td><pre>	<span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">logout</span><span class="token punctuation">(</span><span class="token class-name">HttpSession</span> session<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="38"></td><td><pre>	    <span class="token comment">// 清除 Session</span></pre></td></tr><tr><td data-num="39"></td><td><pre>	    session<span class="token punctuation">.</span><span class="token function">invalidate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="40"></td><td><pre>	    <span class="token comment">// 重定向到登录页面的跳转方法</span></pre></td></tr><tr><td data-num="41"></td><td><pre>	    <span class="token keyword">return</span> <span class="token string">"redirect:login.action"</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="42"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="43"></td><td><pre>	<span class="token comment">/**</span></pre></td></tr><tr><td data-num="44"></td><td><pre>	 * 向用户登陆页面跳转</pre></td></tr><tr><td data-num="45"></td><td><pre>	 */</pre></td></tr><tr><td data-num="46"></td><td><pre>	<span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">"/login.action"</span><span class="token punctuation">,</span> method <span class="token operator">=</span> <span class="token class-name">RequestMethod</span><span class="token punctuation">.</span>GET<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="47"></td><td><pre>	<span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">toLogin</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="48"></td><td><pre>	    <span class="token keyword">return</span> <span class="token string">"login"</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="49"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="50"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><p>或者使用其他退出登录的方法：</p><figure class="highlight java"><figcaption data-lang="java"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">"/logout.action"</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">logout</span><span class="token punctuation">(</span><span class="token class-name">HttpSession</span> session <span class="token punctuation">,</span> <span class="token class-name">Model</span> model<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="3"></td><td><pre>	    <span class="token comment">// 清除 Session</span></pre></td></tr><tr><td data-num="4"></td><td><pre>	    session<span class="token punctuation">.</span><span class="token function">invalidate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="5"></td><td><pre>	    model<span class="token punctuation">.</span><span class="token function">addAttribute</span><span class="token punctuation">(</span><span class="token string">"msg"</span><span class="token punctuation">,</span> <span class="token string">"您可以重新登录系统！"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="6"></td><td><pre>	    <span class="token comment">// 重定向到登录页面的跳转方法</span></pre></td></tr><tr><td data-num="7"></td><td><pre>	    <span class="token keyword">return</span> <span class="token string">"login"</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="8"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr></table></figure><h3 id="导入web配置文件"><a class="anchor" href="#导入web配置文件">#</a> 导入 web 配置文件</h3><blockquote><p>文档配置了 spring 的监听器、编码过滤器和 springmvc 的前端控制器等信息</p></blockquote><figure class="highlight xml"><figcaption data-lang="XML"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token prolog">&lt;?xml version="1.0" encoding="UTF-8"?></span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>web-app</span> <span class="token attr-name"><span class="token namespace">xmlns:</span>xsi</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://www.w3.org/2001/XMLSchema-instance<span class="token punctuation">"</span></span></span></pre></td></tr><tr><td data-num="3"></td><td><pre>	<span class="token attr-name">xmlns</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://xmlns.jcp.org/xml/ns/javaee<span class="token punctuation">"</span></span></pre></td></tr><tr><td data-num="4"></td><td><pre>	<span class="token attr-name"><span class="token namespace">xsi:</span>schemaLocation</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://xmlns.jcp.org/xml/ns/javaee </span></pre></td></tr><tr><td data-num="5"></td><td><pre>	http://xmlns.jcp.org/xml/ns/javaee/web-app_3_1.xsd<span class="token punctuation">"</span></pre></td></tr><tr><td data-num="6"></td><td><pre>	<span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>WebApp_ID<span class="token punctuation">"</span></span> <span class="token attr-name">version</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>3.1<span class="token punctuation">"</span></span><span class="token punctuation">></span></pre></td></tr><tr><td data-num="7"></td><td><pre></pre></td></tr><tr><td data-num="8"></td><td><pre>	<span class="token comment">&lt;!-- 配置加载 Spring 文件的监听器 --></span>	</pre></td></tr><tr><td data-num="9"></td><td><pre>	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>context-param</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="10"></td><td><pre>		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>param-name</span><span class="token punctuation">></span></span>contextConfigLocation<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>param-name</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="11"></td><td><pre>		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>param-value</span><span class="token punctuation">></span></span>classpath:applicationContext.xml<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>param-value</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="12"></td><td><pre>	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>context-param</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="13"></td><td><pre>	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>listener</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="14"></td><td><pre>		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>listener-class</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="15"></td><td><pre>			org.springframework.web.context.ContextLoaderListener</pre></td></tr><tr><td data-num="16"></td><td><pre>		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>listener-class</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="17"></td><td><pre>	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>listener</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="18"></td><td><pre>	<span class="token comment">&lt;!-- 编码过滤器 --></span></pre></td></tr><tr><td data-num="19"></td><td><pre>	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>filter</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="20"></td><td><pre>		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>filter-name</span><span class="token punctuation">></span></span>encoding<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>filter-name</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="21"></td><td><pre>		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>filter-class</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="22"></td><td><pre>			org.springframework.web.filter.CharacterEncodingFilter</pre></td></tr><tr><td data-num="23"></td><td><pre>		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>filter-class</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="24"></td><td><pre>		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>init-param</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="25"></td><td><pre>			<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>param-name</span><span class="token punctuation">></span></span>encoding<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>param-name</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="26"></td><td><pre>			<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>param-value</span><span class="token punctuation">></span></span>UTF-8<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>param-value</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="27"></td><td><pre>		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>init-param</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="28"></td><td><pre>	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>filter</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="29"></td><td><pre>	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>filter-mapping</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="30"></td><td><pre>		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>filter-name</span><span class="token punctuation">></span></span>encoding<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>filter-name</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="31"></td><td><pre>		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>url-pattern</span><span class="token punctuation">></span></span>*.action<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>url-pattern</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="32"></td><td><pre>	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>filter-mapping</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="33"></td><td><pre></pre></td></tr><tr><td data-num="34"></td><td><pre>	<span class="token comment">&lt;!-- 配置 Spring MVC 前端核心控制器 --></span></pre></td></tr><tr><td data-num="35"></td><td><pre>	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="36"></td><td><pre>		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-name</span><span class="token punctuation">></span></span>crm<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-name</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="37"></td><td><pre>		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-class</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="38"></td><td><pre>			org.springframework.web.servlet.DispatcherServlet</pre></td></tr><tr><td data-num="39"></td><td><pre>		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-class</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="40"></td><td><pre>		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>init-param</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="41"></td><td><pre>			<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>param-name</span><span class="token punctuation">></span></span>contextConfigLocation<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>param-name</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="42"></td><td><pre>			<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>param-value</span><span class="token punctuation">></span></span>classpath:springmvc-config.xml<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>param-value</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="43"></td><td><pre>		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>init-param</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="44"></td><td><pre>		<span class="token comment">&lt;!-- 配置服务器启动后立即加载 Spring MVC 配置文件 --></span></pre></td></tr><tr><td data-num="45"></td><td><pre>		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>load-on-startup</span><span class="token punctuation">></span></span>1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>load-on-startup</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="46"></td><td><pre>	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="47"></td><td><pre>	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-mapping</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="48"></td><td><pre>		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-name</span><span class="token punctuation">></span></span>crm<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-name</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="49"></td><td><pre>		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>url-pattern</span><span class="token punctuation">></span></span>*.action<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>url-pattern</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="50"></td><td><pre>	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-mapping</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="51"></td><td><pre></pre></td></tr><tr><td data-num="52"></td><td><pre>	<span class="token comment">&lt;!-- 系统默认页面 --></span></pre></td></tr><tr><td data-num="53"></td><td><pre>	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>welcome-file-list</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="54"></td><td><pre>		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>welcome-file</span><span class="token punctuation">></span></span>index.jsp<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>welcome-file</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="55"></td><td><pre>	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>welcome-file-list</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="56"></td><td><pre><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>web-app</span><span class="token punctuation">></span></span></pre></td></tr></table></figure><h3 id="导入jsp页面资源"><a class="anchor" href="#导入jsp页面资源">#</a> 导入 JSP 页面资源:</h3><blockquote><p>boot-crm\WebContent\index.jsp 系统默认首页</p><p>boot-crm\WebContent\WEB-INF\jsp\login.jsp 登录页面</p><p>boot-crm\WebContent\WEB-INF\jsp\customer.jsp 客户信息管理主页面</p><p>boot-crm\WebContent\WEB-INF\tld\ commons.tld 分页标签文件</p></blockquote><h4 id="系统登录页面"><a class="anchor" href="#系统登录页面">#</a> 系统登录页面</h4><blockquote><p>默认首页 index.jsp 转发到登录界面 login.jsp</p></blockquote><p>boot-crm\WebContent\index.jsp 系统默认首页</p><pre><code class="language-jsp">&lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=UTF-8&quot;   pageEncoding=&quot;UTF-8&quot;%&gt;
&lt;!-- 转发到登录页面 --&gt;
&lt;jsp:forward page=&quot;/WEB-INF/jsp/login.jsp&quot;/&gt;
</code></pre><p>boot-crm\WebContent\WEB-INF\jsp\login.jsp 系统登录界面</p><pre><code class="language-jsp">&lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=UTF-8&quot;  pageEncoding=&quot;UTF-8&quot;%&gt;
&lt;!DOCTYPE HTML&gt;
&lt;html&gt;
&lt;head&gt;
&lt;title&gt;登录页面&lt;/title&gt;
&lt;meta http-equiv=Content-Type content=&quot;text/html; charset=utf-8&quot;&gt;
&lt;link href=&quot;$&#123;pageContext.request.contextPath&#125;/css/style.css&quot;  type=text/css rel=stylesheet&gt;
&lt;link href=&quot;$&#123;pageContext.request.contextPath&#125;/css/boot-crm.css&quot; type=text/css rel=stylesheet&gt;
&lt;script src=&quot;$&#123;pageContext.request.contextPath&#125;/js/jquery-1.11.3.min.js&quot;&gt;
&lt;/script&gt;
&lt;meta content=&quot;MSHTML 6.00.2600.0&quot; name=GENERATOR&gt;
&lt;script&gt;
// 判断是登录账号和密码是否为空
function check()&#123;
    var usercode = $(&quot;#usercode&quot;).val();
    var password = $(&quot;#password&quot;).val();
    if(usercode==&quot;&quot; || password==&quot;&quot;)&#123;
    	$(&quot;#message&quot;).text(&quot;账号或密码不能为空！&quot;);
        return false;
    &#125;  
    return true;
&#125;
&lt;/script&gt;
&lt;/head&gt;
&lt;body leftMargin=0 topMargin=0 marginwidth=&quot;0&quot; marginheight=&quot;0&quot;
	background=&quot;$&#123;pageContext.request.contextPath&#125;/images/rightbg.jpg&quot;&gt;
&lt;div ALIGN=&quot;center&quot;&gt;
&lt;table border=&quot;0&quot; width=&quot;1140px&quot; cellspacing=&quot;0&quot; cellpadding=&quot;0&quot;  id=&quot;table1&quot;&gt;
	&lt;tr&gt;
		&lt;td height=&quot;93&quot;&gt;&lt;/td&gt;
		&lt;td&gt;&lt;/td&gt;
	&lt;/tr&gt;
	&lt;tr&gt;
 &lt;td background=&quot;$&#123;pageContext.request.contextPath&#125;/images/rights.jpg&quot;  width=&quot;740&quot; height=&quot;412&quot;&gt;
   &lt;/td&gt;
   &lt;td class=&quot;login_msg&quot; width=&quot;400&quot; align=&quot;center&quot;&gt;
	 &lt;!-- margin:0px auto; 控制当前标签居中 --&gt;
	 &lt;fieldset style=&quot;width: auto; margin: 0px auto;&quot;&gt;
		  &lt;legend&gt;
		     &lt;font style=&quot;font-size:15px&quot; face=&quot;宋体&quot;&gt;
		          欢迎使用BOOT客户管理系统
		     &lt;/font&gt;
		  &lt;/legend&gt; 
		&lt;font color=&quot;red&quot;&gt;
			 &lt;%-- 提示信息--%&gt;
			 &lt;span id=&quot;message&quot;&gt;$&#123;msg&#125;&lt;/span&gt;
		&lt;/font&gt;
		&lt;%-- 提交后的位置：/WEB-INF/jsp/customer.jsp--%&gt;
&lt;form action=&quot;$&#123;pageContext.request.contextPath &#125;/login.action&quot;   method=&quot;post&quot; onsubmit=&quot;return check()&quot;&gt;
                      &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;br /&gt;&lt;br /&gt;
          账&amp;nbsp;号：&lt;input id=&quot;usercode&quot; type=&quot;text&quot; name=&quot;usercode&quot; /&gt;
          &lt;br /&gt;&lt;br /&gt;
          密&amp;nbsp;码：&lt;input id=&quot;password&quot; type=&quot;password&quot; name=&quot;password&quot; /&gt;
          &lt;br /&gt;&lt;br /&gt;
          &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;
          &lt;center&gt;&lt;input type=&quot;submit&quot; value=&quot;登录&quot; /&gt;&lt;/center&gt;
		 &lt;/form&gt;
	 &lt;/fieldset&gt;
	&lt;/td&gt;
	&lt;/tr&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre><h4 id="用户信息管理页面"><a class="anchor" href="#用户信息管理页面">#</a> 用户信息管理页面</h4><blockquote><p>客户信息管理系统主界面 customer.jsp</p></blockquote><p>boot-crm\WebContent\WEB-INF\jsp\customer.jsp 客户管理主界面</p><pre><code class="language-jsp">&lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=UTF-8&quot; pageEncoding=&quot;UTF-8&quot;%&gt;
&lt;%@ page trimDirectiveWhitespaces=&quot;true&quot;%&gt;
&lt;%@ taglib prefix=&quot;c&quot; uri=&quot;http://java.sun.com/jsp/jstl/core&quot;%&gt;
&lt;%@ taglib prefix=&quot;itheima&quot; uri=&quot;http://itheima.com/common/&quot;%&gt;
&lt;%
	String path = request.getContextPath();
	String basePath = request.getScheme() + &quot;://&quot; + request.getServerName() 
	                  + &quot;:&quot; + request.getServerPort() + path + &quot;/&quot;;
%&gt;
&lt;!DOCTYPE HTML&gt;
&lt;html&gt;
&lt;head&gt;
	&lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=UTF-8&quot;&gt;
	&lt;title&gt;客户管理-BootCRM&lt;/title&gt;
	&lt;!-- 引入css样式文件 --&gt;
	&lt;!-- Bootstrap Core CSS --&gt;
	&lt;link href=&quot;&lt;%=basePath%&gt;css/bootstrap.min.css&quot; rel=&quot;stylesheet&quot; /&gt;
	&lt;!-- MetisMenu CSS --&gt;
	&lt;link href=&quot;&lt;%=basePath%&gt;css/metisMenu.min.css&quot; rel=&quot;stylesheet&quot; /&gt;
	&lt;!-- DataTables CSS --&gt;
	&lt;link href=&quot;&lt;%=basePath%&gt;css/dataTables.bootstrap.css&quot; rel=&quot;stylesheet&quot; /&gt;
	&lt;!-- Custom CSS --&gt;
	&lt;link href=&quot;&lt;%=basePath%&gt;css/sb-admin-2.css&quot; rel=&quot;stylesheet&quot; /&gt;
	&lt;!-- Custom Fonts --&gt;
	&lt;link href=&quot;&lt;%=basePath%&gt;css/font-awesome.min.css&quot; rel=&quot;stylesheet&quot; type=&quot;text/css&quot; /&gt;
	&lt;link href=&quot;&lt;%=basePath%&gt;css/boot-crm.css&quot; rel=&quot;stylesheet&quot; type=&quot;text/css&quot; /&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;div id=&quot;wrapper&quot;&gt;
  &lt;!-- 导航栏部分 --&gt;
 &lt;nav class=&quot;navbar navbar-default navbar-static-top&quot; role=&quot;navigation&quot; style=&quot;margin-bottom: 0&quot;&gt;
	&lt;div class=&quot;navbar-header&quot;&gt;
	&lt;a class=&quot;navbar-brand&quot; href=&quot;&lt;%=basePath%&gt;customer/list.action&quot;&gt;BOOT客户管理系统 v2.0&lt;/a&gt;
	&lt;/div&gt;
	&lt;!-- 导航栏右侧图标部分 --&gt;
	&lt;ul class=&quot;nav navbar-top-links navbar-right&quot;&gt;
	    &lt;!-- 邮件通知 start --&gt;
		&lt;li class=&quot;dropdown&quot;&gt;
			&lt;a class=&quot;dropdown-toggle&quot; data-toggle=&quot;dropdown&quot; href=&quot;#&quot;&gt; 
				&lt;i class=&quot;fa fa-envelope fa-fw&quot;&gt;&lt;/i&gt;
				&lt;i class=&quot;fa fa-caret-down&quot;&gt;&lt;/i&gt;
			&lt;/a&gt;
			&lt;ul class=&quot;dropdown-menu dropdown-messages&quot;&gt;
				&lt;li&gt;
				    &lt;a href=&quot;#&quot;&gt;
						&lt;div&gt;
							&lt;strong&gt;张经理&lt;/strong&gt; &lt;span class=&quot;pull-right text-muted&quot;&gt;
								&lt;em&gt;昨天&lt;/em&gt;
							&lt;/span&gt;
						&lt;/div&gt;
						&lt;div&gt;今天晚上开会，讨论一下下个月工作的事...&lt;/div&gt;
				    &lt;/a&gt;
				&lt;/li&gt;
				&lt;li class=&quot;divider&quot;&gt;&lt;/li&gt;
				&lt;li&gt;
				    &lt;a class=&quot;text-center&quot; href=&quot;#&quot;&gt;
				        &lt;strong&gt;查看全部消息&lt;/strong&gt;
						&lt;i class=&quot;fa fa-angle-right&quot;&gt;&lt;/i&gt;
				    &lt;/a&gt;
				&lt;/li&gt;
			&lt;/ul&gt;
		&lt;/li&gt;
		&lt;!-- 邮件通知 end --&gt;
		&lt;!-- 任务通知 start --&gt;
		&lt;li class=&quot;dropdown&quot;&gt;
			&lt;a class=&quot;dropdown-toggle&quot; data-toggle=&quot;dropdown&quot; href=&quot;#&quot;&gt; 
			    &lt;i class=&quot;fa fa-tasks fa-fw&quot;&gt;&lt;/i&gt;
				&lt;i class=&quot;fa fa-caret-down&quot;&gt;&lt;/i&gt;
			&lt;/a&gt;
			&lt;ul class=&quot;dropdown-menu dropdown-tasks&quot;&gt;
				&lt;li&gt;
				    &lt;a href=&quot;#&quot;&gt;
						&lt;div&gt;
							&lt;p&gt;
								&lt;strong&gt;任务 1&lt;/strong&gt; 
								&lt;span class=&quot;pull-right text-muted&quot;&gt;完成40%&lt;/span&gt;
							&lt;/p&gt;
							&lt;div class=&quot;progress progress-striped active&quot;&gt;
								&lt;div class=&quot;progress-bar progress-bar-success&quot;
									role=&quot;progressbar&quot; aria-valuenow=&quot;40&quot; aria-valuemin=&quot;0&quot;
									aria-valuemax=&quot;100&quot; style=&quot;width: 40%&quot;&gt;
									&lt;span class=&quot;sr-only&quot;&gt;完成40%&lt;/span&gt;
								&lt;/div&gt;
							&lt;/div&gt;
						&lt;/div&gt;
				    &lt;/a&gt;
				&lt;/li&gt;
				&lt;li class=&quot;divider&quot;&gt;&lt;/li&gt;
				&lt;li&gt;
				    &lt;a href=&quot;#&quot;&gt;
						&lt;div&gt;
							&lt;p&gt;
								&lt;strong&gt;任务 2&lt;/strong&gt; 
								&lt;span class=&quot;pull-right text-muted&quot;&gt;完成20%&lt;/span&gt;
							&lt;/p&gt;
							&lt;div class=&quot;progress progress-striped active&quot;&gt;
								&lt;div class=&quot;progress-bar progress-bar-info&quot; role=&quot;progressbar&quot;
									aria-valuenow=&quot;20&quot; aria-valuemin=&quot;0&quot; aria-valuemax=&quot;100&quot;
									style=&quot;width: 20%&quot;&gt;
									&lt;span class=&quot;sr-only&quot;&gt;完成20%&lt;/span&gt;
								&lt;/div&gt;
							&lt;/div&gt;
						&lt;/div&gt;
				    &lt;/a&gt;
				&lt;/li&gt;
				&lt;li class=&quot;divider&quot;&gt;&lt;/li&gt;
				&lt;li&gt;
				    &lt;a class=&quot;text-center&quot; href=&quot;#&quot;&gt; 
				        &lt;strong&gt;查看所有任务&lt;/strong&gt;
						&lt;i class=&quot;fa fa-angle-right&quot;&gt;&lt;/i&gt;
				    &lt;/a&gt;
				&lt;/li&gt;
			&lt;/ul&gt; 
		&lt;/li&gt;
		&lt;!-- 任务通知 end --&gt;
		&lt;!-- 消息通知 start --&gt;
		&lt;li class=&quot;dropdown&quot;&gt;
			&lt;a class=&quot;dropdown-toggle&quot; data-toggle=&quot;dropdown&quot; href=&quot;#&quot;&gt; 
				&lt;i class=&quot;fa fa-bell fa-fw&quot;&gt;&lt;/i&gt;
				&lt;i class=&quot;fa fa-caret-down&quot;&gt;&lt;/i&gt;
			&lt;/a&gt;
			&lt;ul class=&quot;dropdown-menu dropdown-alerts&quot;&gt;
				&lt;li&gt;
				    &lt;a href=&quot;#&quot;&gt;
						&lt;div&gt;
							&lt;i class=&quot;fa fa-comment fa-fw&quot;&gt;&lt;/i&gt; 新回复 
							&lt;span class=&quot;pull-right text-muted small&quot;&gt;4分钟之前&lt;/span&gt;
						&lt;/div&gt;
				    &lt;/a&gt;
				&lt;/li&gt;
				&lt;li class=&quot;divider&quot;&gt;&lt;/li&gt;
				&lt;li&gt;
				    &lt;a href=&quot;#&quot;&gt;
						&lt;div&gt;
							&lt;i class=&quot;fa fa-envelope fa-fw&quot;&gt;&lt;/i&gt; 新消息 
							&lt;span class=&quot;pull-right text-muted small&quot;&gt;4分钟之前&lt;/span&gt;
						&lt;/div&gt;
				    &lt;/a&gt;
				&lt;/li&gt;
				&lt;li class=&quot;divider&quot;&gt;&lt;/li&gt;
				&lt;li&gt;
				    &lt;a href=&quot;#&quot;&gt;
						&lt;div&gt;
							&lt;i class=&quot;fa fa-tasks fa-fw&quot;&gt;&lt;/i&gt; 新任务 
							&lt;span class=&quot;pull-right text-muted small&quot;&gt;4分钟之前&lt;/span&gt;
						&lt;/div&gt;
				    &lt;/a&gt;
				&lt;/li&gt;
				&lt;li class=&quot;divider&quot;&gt;&lt;/li&gt;
				&lt;li&gt;
				    &lt;a href=&quot;#&quot;&gt;
						&lt;div&gt;
							&lt;i class=&quot;fa fa-upload fa-fw&quot;&gt;&lt;/i&gt; 服务器重启 
							&lt;span class=&quot;pull-right text-muted small&quot;&gt;4分钟之前&lt;/span&gt;
						&lt;/div&gt;
				    &lt;/a&gt;
				&lt;/li&gt;
				&lt;li class=&quot;divider&quot;&gt;&lt;/li&gt;
				&lt;li&gt;
				    &lt;a class=&quot;text-center&quot; href=&quot;#&quot;&gt; 
				        &lt;strong&gt;查看所有提醒&lt;/strong&gt;
						&lt;i class=&quot;fa fa-angle-right&quot;&gt;&lt;/i&gt;
				    &lt;/a&gt;
				&lt;/li&gt;
			&lt;/ul&gt; 
		&lt;/li&gt;
		&lt;!-- 消息通知 end --&gt;
		&lt;!-- 用户信息和系统设置 start --&gt;
		&lt;li class=&quot;dropdown&quot;&gt;
			&lt;a class=&quot;dropdown-toggle&quot; data-toggle=&quot;dropdown&quot; href=&quot;#&quot;&gt; 
				&lt;i class=&quot;fa fa-user fa-fw&quot;&gt;&lt;/i&gt;
				&lt;i class=&quot;fa fa-caret-down&quot;&gt;&lt;/i&gt;
			&lt;/a&gt;
			&lt;ul class=&quot;dropdown-menu dropdown-user&quot;&gt;
				&lt;li&gt;&lt;a href=&quot;#&quot;&gt;&lt;i class=&quot;fa fa-user fa-fw&quot;&gt;&lt;/i&gt;
				               用户：$&#123;USER_SESSION.user_name&#125;
				    &lt;/a&gt;
				&lt;/li&gt;
				&lt;li&gt;&lt;a href=&quot;#&quot;&gt;&lt;i class=&quot;fa fa-gear fa-fw&quot;&gt;&lt;/i&gt; 系统设置&lt;/a&gt;&lt;/li&gt;
				&lt;li class=&quot;divider&quot;&gt;&lt;/li&gt;
				&lt;li&gt;
					&lt;a href=&quot;$&#123;pageContext.request.contextPath &#125;/logout.action&quot;&gt;
					&lt;i class=&quot;fa fa-sign-out fa-fw&quot;&gt;&lt;/i&gt;退出登录
					&lt;/a&gt;
				&lt;/li&gt;
			&lt;/ul&gt; 
		&lt;/li&gt;
		&lt;!-- 用户信息和系统设置结束 --&gt;
	&lt;/ul&gt;
	&lt;!-- 左侧显示列表部分 start--&gt;
	&lt;div class=&quot;navbar-default sidebar&quot; role=&quot;navigation&quot;&gt;
		&lt;div class=&quot;sidebar-nav navbar-collapse&quot;&gt;
			&lt;ul class=&quot;nav&quot; id=&quot;side-menu&quot;&gt;
				&lt;li class=&quot;sidebar-search&quot;&gt;
					&lt;div class=&quot;input-group custom-search-form&quot;&gt;
						&lt;input type=&quot;text&quot; class=&quot;form-control&quot; placeholder=&quot;查询内容...&quot;&gt;
						&lt;span class=&quot;input-group-btn&quot;&gt;
							&lt;button class=&quot;btn btn-default&quot; type=&quot;button&quot;&gt;
								&lt;i class=&quot;fa fa-search&quot; style=&quot;padding: 3px 0 3px 0;&quot;&gt;&lt;/i&gt;
							&lt;/button&gt;
						&lt;/span&gt;
					&lt;/div&gt; 
				&lt;/li&gt;
				&lt;li&gt;
		    &lt;a href=&quot;$&#123;pageContext.request.contextPath &#125;/customer/list.action&quot; class=&quot;active&quot;&gt;
				      &lt;i class=&quot;fa fa-edit fa-fw&quot;&gt;&lt;/i&gt; 客户管理
				    &lt;/a&gt;
				&lt;/li&gt;
				&lt;li&gt;
				    &lt;a href=&quot;#&quot;&gt;
				      &lt;i class=&quot;fa fa-dashboard fa-fw&quot; &gt;&lt;/i&gt; 客户拜访
				    &lt;/a&gt;
				&lt;/li&gt;
			&lt;/ul&gt;
		&lt;/div&gt;
	&lt;/div&gt;
	&lt;!-- 左侧显示列表部分 end--&gt; 
  &lt;/nav&gt;
    &lt;!-- 客户列表查询部分  start--&gt;
	&lt;div id=&quot;page-wrapper&quot;&gt;
		&lt;div class=&quot;row&quot;&gt;
			&lt;div class=&quot;col-lg-12&quot;&gt;
				&lt;h1 class=&quot;page-header&quot;&gt;客户管理&lt;/h1&gt;
			&lt;/div&gt;
			&lt;!-- /.col-lg-12 --&gt;
		&lt;/div&gt;
		&lt;!-- /.row --&gt;
		&lt;div class=&quot;panel panel-default&quot;&gt;
			&lt;div class=&quot;panel-body&quot;&gt;
				&lt;form class=&quot;form-inline&quot; method=&quot;get&quot; 
				      action=&quot;$&#123;pageContext.request.contextPath &#125;/customer/list.action&quot;&gt;
					&lt;div class=&quot;form-group&quot;&gt;
						&lt;label for=&quot;customerName&quot;&gt;客户名称&lt;/label&gt; 
						&lt;input type=&quot;text&quot; class=&quot;form-control&quot; id=&quot;customerName&quot; 
						                   value=&quot;$&#123;custName &#125;&quot; name=&quot;custName&quot; /&gt;
					&lt;/div&gt;
					&lt;div class=&quot;form-group&quot;&gt;
						&lt;label for=&quot;customerFrom&quot;&gt;客户来源&lt;/label&gt; 
						&lt;select	class=&quot;form-control&quot; id=&quot;customerFrom&quot; name=&quot;custSource&quot;&gt;
							&lt;option value=&quot;&quot;&gt;--请选择--&lt;/option&gt;
							&lt;c:forEach items=&quot;$&#123;fromType&#125;&quot; var=&quot;item&quot;&gt;
								&lt;option value=&quot;$&#123;item.dict_id&#125;&quot;
							       &lt;c:if test=&quot;$&#123;item.dict_id == custSource&#125;&quot;&gt;selected&lt;/c:if&gt;&gt;
								    $&#123;item.dict_item_name &#125;
								&lt;/option&gt;
							&lt;/c:forEach&gt;
						&lt;/select&gt;
					&lt;/div&gt;
					&lt;div class=&quot;form-group&quot;&gt;
						&lt;label for=&quot;custIndustry&quot;&gt;所属行业&lt;/label&gt; 
						&lt;select	class=&quot;form-control&quot; id=&quot;custIndustry&quot;  name=&quot;custIndustry&quot;&gt;
							&lt;option value=&quot;&quot;&gt;--请选择--&lt;/option&gt;
							&lt;c:forEach items=&quot;$&#123;industryType&#125;&quot; var=&quot;item&quot;&gt;
								&lt;option value=&quot;$&#123;item.dict_id&#125;&quot;
							   &lt;c:if test=&quot;$&#123;item.dict_id == custIndustry&#125;&quot;&gt; selected&lt;/c:if&gt;&gt;
								    $&#123;item.dict_item_name &#125;
								&lt;/option&gt;
							&lt;/c:forEach&gt;
						&lt;/select&gt;
					&lt;/div&gt;
					&lt;div class=&quot;form-group&quot;&gt;
						&lt;label for=&quot;custLevel&quot;&gt;客户级别&lt;/label&gt;
						&lt;select	class=&quot;form-control&quot; id=&quot;custLevel&quot; name=&quot;custLevel&quot;&gt;
							&lt;option value=&quot;&quot;&gt;--请选择--&lt;/option&gt;
							&lt;c:forEach items=&quot;$&#123;levelType&#125;&quot; var=&quot;item&quot;&gt;
								&lt;option value=&quot;$&#123;item.dict_id&#125;&quot;
						         &lt;c:if test=&quot;$&#123;item.dict_id == custLevel&#125;&quot;&gt; selected&lt;/c:if&gt;&gt;
								    $&#123;item.dict_item_name &#125;
								&lt;/option&gt;
							&lt;/c:forEach&gt;
						&lt;/select&gt;
					&lt;/div&gt;
					&lt;button type=&quot;submit&quot; class=&quot;btn btn-primary&quot;&gt;查询&lt;/button&gt;
				&lt;/form&gt;
			&lt;/div&gt;
		&lt;/div&gt;
		&lt;a href=&quot;#&quot; class=&quot;btn btn-primary&quot; data-toggle=&quot;modal&quot; 
		           data-target=&quot;#newCustomerDialog&quot; onclick=&quot;clearCustomer()&quot;&gt;新建&lt;/a&gt;
		&lt;div class=&quot;row&quot;&gt;
			&lt;div class=&quot;col-lg-12&quot;&gt;
				&lt;div class=&quot;panel panel-default&quot;&gt;
					&lt;div class=&quot;panel-heading&quot;&gt;客户信息列表&lt;/div&gt;
					&lt;!-- /.panel-heading --&gt;
					&lt;table class=&quot;table table-bordered table-striped&quot;&gt;
						&lt;thead&gt;
							&lt;tr&gt;
								&lt;th&gt;编号&lt;/th&gt;
								&lt;th&gt;客户名称&lt;/th&gt;
								&lt;th&gt;客户来源&lt;/th&gt;
								&lt;th&gt;客户所属行业&lt;/th&gt;
								&lt;th&gt;客户级别&lt;/th&gt;
								&lt;th&gt;固定电话&lt;/th&gt;
								&lt;th&gt;手机&lt;/th&gt;
								&lt;th&gt;操作&lt;/th&gt;
							&lt;/tr&gt;
						&lt;/thead&gt;
						&lt;tbody&gt;
							&lt;c:forEach items=&quot;$&#123;page.rows&#125;&quot; var=&quot;row&quot;&gt;
								&lt;tr&gt;
									&lt;td&gt;$&#123;row.cust_id&#125;&lt;/td&gt;
									&lt;td&gt;$&#123;row.cust_name&#125;&lt;/td&gt;
									&lt;td&gt;$&#123;row.cust_source&#125;&lt;/td&gt;
									&lt;td&gt;$&#123;row.cust_industry&#125;&lt;/td&gt;
									&lt;td&gt;$&#123;row.cust_level&#125;&lt;/td&gt;
									&lt;td&gt;$&#123;row.cust_phone&#125;&lt;/td&gt;
								    &lt;td&gt;$&#123;row.cust_mobile&#125;&lt;/td&gt;
									&lt;td&gt;
										&lt;a href=&quot;#&quot; class=&quot;btn btn-primary btn-xs&quot; data-toggle=&quot;modal&quot; data-target=&quot;#customerEditDialog&quot; onclick= &quot;editCustomer($&#123;row.cust_id&#125;)&quot;&gt;修改&lt;/a&gt;
										&lt;a href=&quot;#&quot; class=&quot;btn btn-danger btn-xs&quot; onclick=&quot;deleteCustomer($&#123;row.cust_id&#125;)&quot;&gt;删除&lt;/a&gt;
									&lt;/td&gt;
								&lt;/tr&gt;
							&lt;/c:forEach&gt;
						&lt;/tbody&gt;
					&lt;/table&gt;
					&lt;div class=&quot;col-md-12 text-right&quot;&gt;
						&lt;itheima:page url=&quot;$&#123;pageContext.request.contextPath &#125;/customer/list.action&quot; /&gt;
					&lt;/div&gt;
					&lt;!-- /.panel-body --&gt;
				&lt;/div&gt;
				&lt;!-- /.panel --&gt;
			&lt;/div&gt;
			&lt;!-- /.col-lg-12 --&gt;
		&lt;/div&gt;
	&lt;/div&gt;
	&lt;!-- 客户列表查询部分  end--&gt;
&lt;/div&gt;
&lt;!-- 创建客户模态框 --&gt;
&lt;div class=&quot;modal fade&quot; id=&quot;newCustomerDialog&quot; tabindex=&quot;-1&quot; role=&quot;dialog&quot;
	aria-labelledby=&quot;myModalLabel&quot;&gt;
	&lt;div class=&quot;modal-dialog&quot; role=&quot;document&quot;&gt;
		&lt;div class=&quot;modal-content&quot;&gt;
			&lt;div class=&quot;modal-header&quot;&gt;
				&lt;button type=&quot;button&quot; class=&quot;close&quot; data-dismiss=&quot;modal&quot; aria-label=&quot;Close&quot;&gt;
					&lt;span aria-hidden=&quot;true&quot;&gt;&amp;times;&lt;/span&gt;
				&lt;/button&gt;
				&lt;h4 class=&quot;modal-title&quot; id=&quot;myModalLabel&quot;&gt;新建客户信息&lt;/h4&gt;
			&lt;/div&gt;
			&lt;div class=&quot;modal-body&quot;&gt;
				&lt;form class=&quot;form-horizontal&quot; id=&quot;new_customer_form&quot;&gt;
					&lt;div class=&quot;form-group&quot;&gt;
						&lt;label for=&quot;new_customerName&quot; class=&quot;col-sm-2 control-label&quot;&gt;
						    客户名称
						&lt;/label&gt;
						&lt;div class=&quot;col-sm-10&quot;&gt;
							&lt;input type=&quot;text&quot; class=&quot;form-control&quot; id=&quot;new_customerName&quot; placeholder=&quot;客户名称&quot; name=&quot;cust_name&quot; /&gt;
						&lt;/div&gt;
					&lt;/div&gt;
					&lt;div class=&quot;form-group&quot;&gt;
						&lt;label for=&quot;new_customerFrom&quot; style=&quot;float:left;padding:7px 15px 0 27px;&quot;&gt;客户来源&lt;/label&gt; 
						&lt;div class=&quot;col-sm-10&quot;&gt;
						&lt;select	class=&quot;form-control&quot; id=&quot;new_customerFrom&quot; name=&quot;cust_source&quot;&gt;
								&lt;option value=&quot;&quot;&gt;--请选择--&lt;/option&gt;
								&lt;c:forEach items=&quot;$&#123;fromType&#125;&quot; var=&quot;item&quot;&gt;
									&lt;option value=&quot;$&#123;item.dict_id&#125;&quot;&lt;c:if test=&quot;$&#123;item.dict_id == custSource&#125;&quot;&gt;selected&lt;/c:if&gt;&gt;
									$&#123;item.dict_item_name &#125;									
									&lt;/option&gt;
								&lt;/c:forEach&gt;
							&lt;/select&gt;
						&lt;/div&gt;
					&lt;/div&gt;
					&lt;div class=&quot;form-group&quot;&gt;
						&lt;label for=&quot;new_custIndustry&quot; style=&quot;float:left;padding:7px 15px 0 27px;&quot;&gt;所属行业&lt;/label&gt;
						&lt;div class=&quot;col-sm-10&quot;&gt; 
							&lt;select	class=&quot;form-control&quot; id=&quot;new_custIndustry&quot;  name=&quot;cust_industry&quot;&gt;
								&lt;option value=&quot;&quot;&gt;--请选择--&lt;/option&gt;
								&lt;c:forEach items=&quot;$&#123;industryType&#125;&quot; var=&quot;item&quot;&gt;
									&lt;option value=&quot;$&#123;item.dict_id&#125;&quot;&lt;c:if test=&quot;$&#123;item.dict_id == custIndustry&#125;&quot;&gt; selected&lt;/c:if&gt;&gt;
									$&#123;item.dict_item_name &#125;
									&lt;/option&gt;
								&lt;/c:forEach&gt;
							&lt;/select&gt;
						&lt;/div&gt;
					&lt;/div&gt;
					&lt;div class=&quot;form-group&quot;&gt;
		&lt;label for=&quot;new_custLevel&quot; style=&quot;float:left;padding:7px 15px 0 27px;&quot;&gt;客户级别&lt;/label&gt;
						&lt;div class=&quot;col-sm-10&quot;&gt;
							&lt;select	class=&quot;form-control&quot; id=&quot;new_custLevel&quot; name=&quot;cust_level&quot;&gt;
								&lt;option value=&quot;&quot;&gt;--请选择--&lt;/option&gt;
								&lt;c:forEach items=&quot;$&#123;levelType&#125;&quot; var=&quot;item&quot;&gt;
									&lt;option value=&quot;$&#123;item.dict_id&#125;&quot;&lt;c:if test=&quot;$&#123;item.dict_id == custLevel&#125;&quot;&gt; selected&lt;/c:if&gt;&gt;$&#123;item.dict_item_name &#125;&lt;/option&gt;
								&lt;/c:forEach&gt;
							&lt;/select&gt;
						&lt;/div&gt;
					&lt;/div&gt;
					&lt;div class=&quot;form-group&quot;&gt;
						&lt;label for=&quot;new_linkMan&quot; class=&quot;col-sm-2 control-label&quot;&gt;联系人&lt;/label&gt;
						&lt;div class=&quot;col-sm-10&quot;&gt;
							&lt;input type=&quot;text&quot; class=&quot;form-control&quot; id=&quot;new_linkMan&quot; placeholder=&quot;联系人&quot; name=&quot;cust_linkman&quot; /&gt;
						&lt;/div&gt;
					&lt;/div&gt;
					&lt;div class=&quot;form-group&quot;&gt;
						&lt;label for=&quot;new_phone&quot; class=&quot;col-sm-2 control-label&quot;&gt;固定电话&lt;/label&gt;
						&lt;div class=&quot;col-sm-10&quot;&gt;
							&lt;input type=&quot;text&quot; class=&quot;form-control&quot; id=&quot;new_phone&quot; placeholder=&quot;固定电话&quot; name=&quot;cust_phone&quot; /&gt;
						&lt;/div&gt;
					&lt;/div&gt;
					&lt;div class=&quot;form-group&quot;&gt;
						&lt;label for=&quot;new_mobile&quot; class=&quot;col-sm-2 control-label&quot;&gt;移动电话&lt;/label&gt;
						&lt;div class=&quot;col-sm-10&quot;&gt;
							&lt;input type=&quot;text&quot; class=&quot;form-control&quot; id=&quot;new_mobile&quot; placeholder=&quot;移动电话&quot; name=&quot;cust_mobile&quot; /&gt;
						&lt;/div&gt;
					&lt;/div&gt;
					&lt;div class=&quot;form-group&quot;&gt;
						&lt;label for=&quot;new_zipcode&quot; class=&quot;col-sm-2 control-label&quot;&gt;邮政编码&lt;/label&gt;
						&lt;div class=&quot;col-sm-10&quot;&gt;
							&lt;input type=&quot;text&quot; class=&quot;form-control&quot; id=&quot;new_zipcode&quot; placeholder=&quot;邮政编码&quot; name=&quot;cust_zipcode&quot; /&gt;
						&lt;/div&gt;
					&lt;/div&gt;
					&lt;div class=&quot;form-group&quot;&gt;
						&lt;label for=&quot;new_address&quot; class=&quot;col-sm-2 control-label&quot;&gt;联系地址&lt;/label&gt;
						&lt;div class=&quot;col-sm-10&quot;&gt;
							&lt;input type=&quot;text&quot; class=&quot;form-control&quot; id=&quot;new_address&quot; placeholder=&quot;联系地址&quot; name=&quot;cust_address&quot; /&gt;
						&lt;/div&gt;
					&lt;/div&gt;
				&lt;/form&gt;
			&lt;/div&gt;
			&lt;div class=&quot;modal-footer&quot;&gt;
				&lt;button type=&quot;button&quot; class=&quot;btn btn-default&quot; data-dismiss=&quot;modal&quot;&gt;关闭&lt;/button&gt;
				&lt;button type=&quot;button&quot; class=&quot;btn btn-primary&quot; onclick=&quot;createCustomer()&quot;&gt;创建客户&lt;/button&gt;
			&lt;/div&gt;
		&lt;/div&gt;
	&lt;/div&gt;
&lt;/div&gt;
&lt;!-- 修改客户模态框 --&gt;
&lt;div class=&quot;modal fade&quot; id=&quot;customerEditDialog&quot; tabindex=&quot;-1&quot; role=&quot;dialog&quot;
	aria-labelledby=&quot;myModalLabel&quot;&gt;
	&lt;div class=&quot;modal-dialog&quot; role=&quot;document&quot;&gt;
		&lt;div class=&quot;modal-content&quot;&gt;
			&lt;div class=&quot;modal-header&quot;&gt;
				&lt;button type=&quot;button&quot; class=&quot;close&quot; data-dismiss=&quot;modal&quot; aria-label=&quot;Close&quot;&gt;
					&lt;span aria-hidden=&quot;true&quot;&gt;&amp;times;&lt;/span&gt;
				&lt;/button&gt;
				&lt;h4 class=&quot;modal-title&quot; id=&quot;myModalLabel&quot;&gt;修改客户信息&lt;/h4&gt;
			&lt;/div&gt;
			&lt;div class=&quot;modal-body&quot;&gt;
				&lt;form class=&quot;form-horizontal&quot; id=&quot;edit_customer_form&quot;&gt;
					&lt;input type=&quot;hidden&quot; id=&quot;edit_cust_id&quot; name=&quot;cust_id&quot;/&gt;
					&lt;div class=&quot;form-group&quot;&gt;
						&lt;label for=&quot;edit_customerName&quot; class=&quot;col-sm-2 control-label&quot;&gt;客户名称&lt;/label&gt;
						&lt;div class=&quot;col-sm-10&quot;&gt;
							&lt;input type=&quot;text&quot; class=&quot;form-control&quot; id=&quot;edit_customerName&quot; placeholder=&quot;客户名称&quot; name=&quot;cust_name&quot; /&gt;
						&lt;/div&gt;
					&lt;/div&gt;
					&lt;div class=&quot;form-group&quot;&gt;
						&lt;label for=&quot;edit_customerFrom&quot; style=&quot;float:left;padding:7px 15px 0 27px;&quot;&gt;客户来源&lt;/label&gt; 
						&lt;div class=&quot;col-sm-10&quot;&gt;
							&lt;select	class=&quot;form-control&quot; id=&quot;edit_customerFrom&quot; name=&quot;cust_source&quot;&gt;
								&lt;option value=&quot;&quot;&gt;--请选择--&lt;/option&gt;
								&lt;c:forEach items=&quot;$&#123;fromType&#125;&quot; var=&quot;item&quot;&gt;
									&lt;option value=&quot;$&#123;item.dict_id&#125;&quot;&lt;c:if test=&quot;$&#123;item.dict_id == custSource&#125;&quot;&gt; selected&lt;/c:if&gt;&gt;$&#123;item.dict_item_name &#125;&lt;/option&gt;
								&lt;/c:forEach&gt;
							&lt;/select&gt;
						&lt;/div&gt;
					&lt;/div&gt;
					&lt;div class=&quot;form-group&quot;&gt;
						&lt;label for=&quot;edit_custIndustry&quot; style=&quot;float:left;padding:7px 15px 0 27px;&quot;&gt;所属行业&lt;/label&gt;
						&lt;div class=&quot;col-sm-10&quot;&gt; 
							&lt;select	class=&quot;form-control&quot; id=&quot;edit_custIndustry&quot;  name=&quot;cust_industry&quot;&gt;
								&lt;option value=&quot;&quot;&gt;--请选择--&lt;/option&gt;
								&lt;c:forEach items=&quot;$&#123;industryType&#125;&quot; var=&quot;item&quot;&gt;
									&lt;option value=&quot;$&#123;item.dict_id&#125;&quot;&lt;c:if test=&quot;$&#123;item.dict_id == custIndustry&#125;&quot;&gt; selected&lt;/c:if&gt;&gt;$&#123;item.dict_item_name &#125;&lt;/option&gt;
								&lt;/c:forEach&gt;
							&lt;/select&gt;
						&lt;/div&gt;
					&lt;/div&gt;
					&lt;div class=&quot;form-group&quot;&gt;
						&lt;label for=&quot;edit_custLevel&quot; style=&quot;float:left;padding:7px 15px 0 27px;&quot;&gt;客户级别&lt;/label&gt;
						&lt;div class=&quot;col-sm-10&quot;&gt;
							&lt;select	class=&quot;form-control&quot; id=&quot;edit_custLevel&quot; name=&quot;cust_level&quot;&gt;
								&lt;option value=&quot;&quot;&gt;--请选择--&lt;/option&gt;
								&lt;c:forEach items=&quot;$&#123;levelType&#125;&quot; var=&quot;item&quot;&gt;
									&lt;option value=&quot;$&#123;item.dict_id&#125;&quot;&lt;c:if test=&quot;$&#123;item.dict_id == custLevel&#125;&quot;&gt; selected&lt;/c:if&gt;&gt;$&#123;item.dict_item_name &#125;&lt;/option&gt;
								&lt;/c:forEach&gt;
							&lt;/select&gt;
						&lt;/div&gt;
					&lt;/div&gt;
					&lt;div class=&quot;form-group&quot;&gt;
						&lt;label for=&quot;edit_linkMan&quot; class=&quot;col-sm-2 control-label&quot;&gt;联系人&lt;/label&gt;
						&lt;div class=&quot;col-sm-10&quot;&gt;
							&lt;input type=&quot;text&quot; class=&quot;form-control&quot; id=&quot;edit_linkMan&quot; placeholder=&quot;联系人&quot; name=&quot;cust_linkman&quot; /&gt;
						&lt;/div&gt;
					&lt;/div&gt;
					&lt;div class=&quot;form-group&quot;&gt;
						&lt;label for=&quot;edit_phone&quot; class=&quot;col-sm-2 control-label&quot;&gt;固定电话&lt;/label&gt;
						&lt;div class=&quot;col-sm-10&quot;&gt;
							&lt;input type=&quot;text&quot; class=&quot;form-control&quot; id=&quot;edit_phone&quot; placeholder=&quot;固定电话&quot; name=&quot;cust_phone&quot; /&gt;
						&lt;/div&gt;
					&lt;/div&gt;
					&lt;div class=&quot;form-group&quot;&gt;
						&lt;label for=&quot;edit_mobile&quot; class=&quot;col-sm-2 control-label&quot;&gt;移动电话&lt;/label&gt;
						&lt;div class=&quot;col-sm-10&quot;&gt;
							&lt;input type=&quot;text&quot; class=&quot;form-control&quot; id=&quot;edit_mobile&quot; placeholder=&quot;移动电话&quot; name=&quot;cust_mobile&quot; /&gt;
						&lt;/div&gt;
					&lt;/div&gt;
					&lt;div class=&quot;form-group&quot;&gt;
						&lt;label for=&quot;edit_zipcode&quot; class=&quot;col-sm-2 control-label&quot;&gt;邮政编码&lt;/label&gt;
						&lt;div class=&quot;col-sm-10&quot;&gt;
							&lt;input type=&quot;text&quot; class=&quot;form-control&quot; id=&quot;edit_zipcode&quot; placeholder=&quot;邮政编码&quot; name=&quot;cust_zipcode&quot; /&gt;
						&lt;/div&gt;
					&lt;/div&gt;
					&lt;div class=&quot;form-group&quot;&gt;
						&lt;label for=&quot;edit_address&quot; class=&quot;col-sm-2 control-label&quot;&gt;联系地址&lt;/label&gt;
						&lt;div class=&quot;col-sm-10&quot;&gt;
							&lt;input type=&quot;text&quot; class=&quot;form-control&quot; id=&quot;edit_address&quot; placeholder=&quot;联系地址&quot; name=&quot;cust_address&quot; /&gt;
						&lt;/div&gt;
					&lt;/div&gt;
				&lt;/form&gt;
			&lt;/div&gt;
			&lt;div class=&quot;modal-footer&quot;&gt;
				&lt;button type=&quot;button&quot; class=&quot;btn btn-default&quot; data-dismiss=&quot;modal&quot;&gt;关闭&lt;/button&gt;
				&lt;button type=&quot;button&quot; class=&quot;btn btn-primary&quot; onclick=&quot;updateCustomer()&quot;&gt;保存修改&lt;/button&gt;
			&lt;/div&gt;
		&lt;/div&gt;
	&lt;/div&gt;
&lt;/div&gt;
&lt;!-- 引入js文件 --&gt;
&lt;!-- jQuery --&gt;
&lt;script src=&quot;&lt;%=basePath%&gt;js/jquery-1.11.3.min.js&quot;&gt;&lt;/script&gt;
&lt;!-- Bootstrap Core JavaScript --&gt;
&lt;script src=&quot;&lt;%=basePath%&gt;js/bootstrap.min.js&quot;&gt;&lt;/script&gt;
&lt;!-- Metis Menu Plugin JavaScript --&gt;
&lt;script src=&quot;&lt;%=basePath%&gt;js/metisMenu.min.js&quot;&gt;&lt;/script&gt;
&lt;!-- DataTables JavaScript --&gt;
&lt;script src=&quot;&lt;%=basePath%&gt;js/jquery.dataTables.min.js&quot;&gt;&lt;/script&gt;
&lt;script src=&quot;&lt;%=basePath%&gt;js/dataTables.bootstrap.min.js&quot;&gt;&lt;/script&gt;
&lt;!-- Custom Theme JavaScript --&gt;
&lt;script src=&quot;&lt;%=basePath%&gt;js/sb-admin-2.js&quot;&gt;&lt;/script&gt;
&lt;!-- 编写js代码 --&gt;
&lt;script type=&quot;text/javascript&quot;&gt;
//清空新建客户窗口中的数据
	function clearCustomer() &#123;
	    $(&quot;#new_customerName&quot;).val(&quot;&quot;);
	    $(&quot;#new_customerFrom&quot;).val(&quot;&quot;)
	    $(&quot;#new_custIndustry&quot;).val(&quot;&quot;)
	    $(&quot;#new_custLevel&quot;).val(&quot;&quot;)
	    $(&quot;#new_linkMan&quot;).val(&quot;&quot;);
	    $(&quot;#new_phone&quot;).val(&quot;&quot;);
	    $(&quot;#new_mobile&quot;).val(&quot;&quot;);
	    $(&quot;#new_zipcode&quot;).val(&quot;&quot;);
	    $(&quot;#new_address&quot;).val(&quot;&quot;);
	&#125;
	// 创建客户
	function createCustomer() &#123;
	$.post(&quot;&lt;%=basePath%&gt;customer/create.action&quot;,
	$(&quot;#new_customer_form&quot;).serialize(),function(data)&#123;
	        if(data ==&quot;OK&quot;)&#123;
	            alert(&quot;客户创建成功！&quot;);
	            window.location.reload();
	        &#125;else&#123;
	            alert(&quot;客户创建失败！&quot;);
	            window.location.reload();
	        &#125;
	    &#125;);
	&#125;
	// 通过id获取修改的客户信息
	function editCustomer(id) &#123;
	    $.ajax(&#123;
	        type:&quot;get&quot;,
	        url:&quot;&lt;%=basePath%&gt;customer/getCustomerById.action&quot;,
	        data:&#123;&quot;id&quot;:id&#125;,
	        success:function(data) &#123;
	            $(&quot;#edit_cust_id&quot;).val(data.cust_id);
	            $(&quot;#edit_customerName&quot;).val(data.cust_name);
	            $(&quot;#edit_customerFrom&quot;).val(data.cust_source)
	            $(&quot;#edit_custIndustry&quot;).val(data.cust_industry)
	            $(&quot;#edit_custLevel&quot;).val(data.cust_level)
	            $(&quot;#edit_linkMan&quot;).val(data.cust_linkman);
	            $(&quot;#edit_phone&quot;).val(data.cust_phone);
	            $(&quot;#edit_mobile&quot;).val(data.cust_mobile);
	            $(&quot;#edit_zipcode&quot;).val(data.cust_zipcode);
	            $(&quot;#edit_address&quot;).val(data.cust_address);
	            
	        &#125;
	    &#125;);
	&#125;
    // 执行修改客户操作
	function updateCustomer() &#123;
		$.post(&quot;&lt;%=basePath%&gt;customer/update.action&quot;,$(&quot;#edit_customer_form&quot;).serialize(),function(data)&#123;
			if(data ==&quot;OK&quot;)&#123;
				alert(&quot;客户信息更新成功！&quot;);
				window.location.reload();
			&#125;else&#123;
				alert(&quot;客户信息更新失败！&quot;);
				window.location.reload();
			&#125;
		&#125;);
	&#125;
	// 删除客户
	function deleteCustomer(id) &#123;
	    if(confirm('确实要删除该客户吗?')) &#123;
	$.post(&quot;&lt;%=basePath%&gt;customer/delete.action&quot;,&#123;&quot;id&quot;:id&#125;,
	function(data)&#123;
	            if(data ==&quot;OK&quot;)&#123;
	                alert(&quot;客户删除成功！&quot;);
	                window.location.reload();
	            &#125;else&#123;
	                alert(&quot;删除客户失败！&quot;);
	                window.location.reload();
	            &#125;
	        &#125;);
	    &#125;
	&#125;
&lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre><h4 id="分页标记文件代码"><a class="anchor" href="#分页标记文件代码">#</a> 分页标记文件代码</h4><blockquote><p>分页标签文件 commons.tld</p></blockquote><p>boot-crm\WebContent\WEB-INF\tld\ commons.tld 分页标签文件</p><figure class="highlight xml"><figcaption data-lang="XML"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token prolog">&lt;?xml version="1.0" encoding="UTF-8" ?></span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">taglib</span>  <span class="token name">PUBLIC</span> <span class="token string">"-//Sun Microsystems, Inc.//DTD JSP Tag Library 1.2//EN"</span></span></pre></td></tr><tr><td data-num="3"></td><td><pre>   <span class="token string">"http://java.sun.com/dtd/web-jsptaglibrary_1_2.dtd"</span><span class="token punctuation">></span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>taglib</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="5"></td><td><pre>    <span class="token comment">&lt;!-- 指定标签库的版本号 --></span></pre></td></tr><tr><td data-num="6"></td><td><pre>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tlib-version</span><span class="token punctuation">></span></span>2.0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tlib-version</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="7"></td><td><pre>    <span class="token comment">&lt;!-- 指定 JSP 的版本号 --></span></pre></td></tr><tr><td data-num="8"></td><td><pre>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>jsp-version</span><span class="token punctuation">></span></span>1.2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>jsp-version</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="9"></td><td><pre>    <span class="token comment">&lt;!-- 指定标签库的名称 --></span></pre></td></tr><tr><td data-num="10"></td><td><pre>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>short-name</span><span class="token punctuation">></span></span>common<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>short-name</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="11"></td><td><pre>    <span class="token comment">&lt;!-- 指定标签库的 URI --></span></pre></td></tr><tr><td data-num="12"></td><td><pre>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>uri</span><span class="token punctuation">></span></span>http://itheima.com/common/<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>uri</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="13"></td><td><pre>    <span class="token comment">&lt;!-- 指定标签库的显示名称 --></span></pre></td></tr><tr><td data-num="14"></td><td><pre>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>display-name</span><span class="token punctuation">></span></span>Common Tag<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>display-name</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="15"></td><td><pre>    <span class="token comment">&lt;!-- 指定标签库的描述 --></span></pre></td></tr><tr><td data-num="16"></td><td><pre>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>description</span><span class="token punctuation">></span></span>Common Tag library<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>description</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="17"></td><td><pre>    <span class="token comment">&lt;!-- 注册一个自定义标签 --></span></pre></td></tr><tr><td data-num="18"></td><td><pre>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tag</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="19"></td><td><pre>        <span class="token comment">&lt;!-- 指定注册的自定义标签名称 --></span></pre></td></tr><tr><td data-num="20"></td><td><pre>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">></span></span>page<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="21"></td><td><pre>        <span class="token comment">&lt;!-- 指定自定义标签的标签处理器类 --></span></pre></td></tr><tr><td data-num="22"></td><td><pre>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tag-class</span><span class="token punctuation">></span></span>com.itheima.common.utils.NavigationTag<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tag-class</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="23"></td><td><pre>        <span class="token comment">&lt;!-- 指定标签体类型 --></span></pre></td></tr><tr><td data-num="24"></td><td><pre>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body-content</span><span class="token punctuation">></span></span>JSP<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body-content</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="25"></td><td><pre>        <span class="token comment">&lt;!-- 描述 --></span></pre></td></tr><tr><td data-num="26"></td><td><pre>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>description</span><span class="token punctuation">></span></span>create navigation for paging<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>description</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="27"></td><td><pre>        <span class="token comment">&lt;!-- 指定标签中的属性 --></span></pre></td></tr><tr><td data-num="28"></td><td><pre>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>attribute</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="29"></td><td><pre>            <span class="token comment">&lt;!-- 指定属性名称 --></span></pre></td></tr><tr><td data-num="30"></td><td><pre>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">></span></span>url<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="31"></td><td><pre>            <span class="token comment">&lt;!-- 该属性为 true 时表示其指定是属性为必须属性 --></span></pre></td></tr><tr><td data-num="32"></td><td><pre>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>required</span><span class="token punctuation">></span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>required</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="33"></td><td><pre>            <span class="token comment">&lt;!-- 该属性用于指定能不能使用表达式来动态指定数据，为 true 时表示可以 --></span></pre></td></tr><tr><td data-num="34"></td><td><pre>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>rtexprvalue</span><span class="token punctuation">></span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>rtexprvalue</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="35"></td><td><pre>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>attribute</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="36"></td><td><pre>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>attribute</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="37"></td><td><pre>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">></span></span>bean<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">></span></span> </pre></td></tr><tr><td data-num="38"></td><td><pre>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>rtexprvalue</span><span class="token punctuation">></span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>rtexprvalue</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="39"></td><td><pre>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>attribute</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="40"></td><td><pre>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>attribute</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="41"></td><td><pre>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">></span></span>number<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">></span></span> </pre></td></tr><tr><td data-num="42"></td><td><pre>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>rtexprvalue</span><span class="token punctuation">></span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>rtexprvalue</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="43"></td><td><pre>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>attribute</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="44"></td><td><pre>	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tag</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="45"></td><td><pre><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>taglib</span><span class="token punctuation">></span></span></pre></td></tr></table></figure><h4 id="导入图片文件"><a class="anchor" href="#导入图片文件">#</a> 导入图片文件</h4><p>文件目录：/boot-crm/WebContent/images</p><p><img data-src="https://cdn.jsdelivr.net/gh/Xiejianfeng2000/image-hosting/image-20210808104153601.png" alt="image-20210808104153601"></p><h3 id="导入config配置文件"><a class="anchor" href="#导入config配置文件">#</a> 导入 config 配置文件:</h3><h4 id="spring配置文件applicationcontextxml"><a class="anchor" href="#spring配置文件applicationcontextxml">#</a> spring 配置文件：applicationContext.xml</h4><figure class="highlight xml"><figcaption data-lang="XML"></figcaption><table><tr><td data-num="1"></td><td><pre>&lt;%@ page language="java" contentType="text/html; charset=UTF-8"  pageEncoding="UTF-8"%></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">HTML</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">></span></span>登录页面<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">http-equiv</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span>Content-Type</span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text/html; charset=utf-8<span class="token punctuation">"</span></span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>$&#123;pageContext.request.contextPath&#125;/css/style.css<span class="token punctuation">"</span></span>  <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span>text/css</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span>stylesheet</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="8"></td><td><pre><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>$&#123;pageContext.request.contextPath&#125;/css/boot-crm.css<span class="token punctuation">"</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span>text/css</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span>stylesheet</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="9"></td><td><pre><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>$&#123;pageContext.request.contextPath&#125;/js/jquery-1.11.3.min.js<span class="token punctuation">"</span></span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="10"></td><td><pre><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="11"></td><td><pre><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>MSHTML 6.00.2600.0<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span>GENERATOR</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="12"></td><td><pre><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="13"></td><td><pre>// 判断是登录账号和密码是否为空</pre></td></tr><tr><td data-num="14"></td><td><pre>function check()&#123;</pre></td></tr><tr><td data-num="15"></td><td><pre>    var usercode = $("#usercode").val();</pre></td></tr><tr><td data-num="16"></td><td><pre>    var password = $("#password").val();</pre></td></tr><tr><td data-num="17"></td><td><pre>    if(usercode=="" || password=="")&#123;</pre></td></tr><tr><td data-num="18"></td><td><pre>    	$("#message").text("账号或密码不能为空！");</pre></td></tr><tr><td data-num="19"></td><td><pre>        return false;</pre></td></tr><tr><td data-num="20"></td><td><pre>    &#125;  </pre></td></tr><tr><td data-num="21"></td><td><pre>    return true;</pre></td></tr><tr><td data-num="22"></td><td><pre>&#125;</pre></td></tr><tr><td data-num="23"></td><td><pre><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="24"></td><td><pre><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="25"></td><td><pre><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span> <span class="token attr-name">leftMargin</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span>0</span> <span class="token attr-name">topMargin</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span>0</span> <span class="token attr-name">marginwidth</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>0<span class="token punctuation">"</span></span> <span class="token attr-name">marginheight</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>0<span class="token punctuation">"</span></span></span></pre></td></tr><tr><td data-num="26"></td><td><pre>	<span class="token attr-name">background</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>$&#123;pageContext.request.contextPath&#125;/images/rightbg.jpg<span class="token punctuation">"</span></span><span class="token punctuation">></span></pre></td></tr><tr><td data-num="27"></td><td><pre><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">ALIGN</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>center<span class="token punctuation">"</span></span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="28"></td><td><pre><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>table</span> <span class="token attr-name">border</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>0<span class="token punctuation">"</span></span> <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>1140px<span class="token punctuation">"</span></span> <span class="token attr-name">cellspacing</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>0<span class="token punctuation">"</span></span> <span class="token attr-name">cellpadding</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>0<span class="token punctuation">"</span></span>  <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>table1<span class="token punctuation">"</span></span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="29"></td><td><pre>	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="30"></td><td><pre>		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span> <span class="token attr-name">height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>93<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="31"></td><td><pre>		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="32"></td><td><pre>	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="33"></td><td><pre>	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="34"></td><td><pre> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span> <span class="token attr-name">background</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>$&#123;pageContext.request.contextPath&#125;/images/rights.jpg<span class="token punctuation">"</span></span>  <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>740<span class="token punctuation">"</span></span> <span class="token attr-name">height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>412<span class="token punctuation">"</span></span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="35"></td><td><pre>   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="36"></td><td><pre>   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>login_msg<span class="token punctuation">"</span></span> <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>400<span class="token punctuation">"</span></span> <span class="token attr-name">align</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>center<span class="token punctuation">"</span></span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="37"></td><td><pre>	 <span class="token comment">&lt;!-- margin:0px auto; 控制当前标签居中 --></span></pre></td></tr><tr><td data-num="38"></td><td><pre>	 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>fieldset</span> <span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>width: auto; margin: 0px auto;<span class="token punctuation">"</span></span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="39"></td><td><pre>		  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>legend</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="40"></td><td><pre>		     <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>font</span> <span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>font-size:15px<span class="token punctuation">"</span></span> <span class="token attr-name">face</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>宋体<span class="token punctuation">"</span></span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="41"></td><td><pre>		          欢迎使用BOOT客户管理系统</pre></td></tr><tr><td data-num="42"></td><td><pre>		     <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>font</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="43"></td><td><pre>		  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>legend</span><span class="token punctuation">></span></span> </pre></td></tr><tr><td data-num="44"></td><td><pre>		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>font</span> <span class="token attr-name">color</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>red<span class="token punctuation">"</span></span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="45"></td><td><pre>			 &lt;%-- 提示信息--%></pre></td></tr><tr><td data-num="46"></td><td><pre>			 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>message<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>$&#123;msg&#125;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="47"></td><td><pre>		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>font</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="48"></td><td><pre>		&lt;%-- 提交后的位置：/WEB-INF/jsp/customer.jsp--%></pre></td></tr><tr><td data-num="49"></td><td><pre><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span> <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>$&#123;pageContext.request.contextPath &#125;/login.action<span class="token punctuation">"</span></span>   <span class="token attr-name">method</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>post<span class="token punctuation">"</span></span> <span class="token attr-name">onsubmit</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>return check()<span class="token punctuation">"</span></span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="50"></td><td><pre>                      <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span><span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span><span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span><span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span><span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span> <span class="token punctuation">/></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span> <span class="token punctuation">/></span></span></pre></td></tr><tr><td data-num="51"></td><td><pre>          账<span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span>号：<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>usercode<span class="token punctuation">"</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>usercode<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span></pre></td></tr><tr><td data-num="52"></td><td><pre>          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span> <span class="token punctuation">/></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span> <span class="token punctuation">/></span></span></pre></td></tr><tr><td data-num="53"></td><td><pre>          密<span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span>码：<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>password<span class="token punctuation">"</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>password<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>password<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span></pre></td></tr><tr><td data-num="54"></td><td><pre>          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span> <span class="token punctuation">/></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span> <span class="token punctuation">/></span></span></pre></td></tr><tr><td data-num="55"></td><td><pre>          <span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span><span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span><span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span><span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span><span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span><span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span><span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span></pre></td></tr><tr><td data-num="56"></td><td><pre>          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>center</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>submit<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>登录<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>center</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="57"></td><td><pre>		 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="58"></td><td><pre>	 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>fieldset</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="59"></td><td><pre>	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="60"></td><td><pre>	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="61"></td><td><pre><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>table</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="62"></td><td><pre><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="63"></td><td><pre><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="64"></td><td><pre><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">></span></span></pre></td></tr></table></figure><h4 id="数据库常量配置文件dbproperties"><a class="anchor" href="#数据库常量配置文件dbproperties">#</a> 数据库常量配置文件：db.properties</h4><figure class="highlight properties"><figcaption data-lang=".properties"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token attr-name">jdbc.driver</span><span class="token punctuation">=</span><span class="token attr-value">com.mysql.jdbc.Driver</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token attr-name">jdbc.url</span><span class="token punctuation">=</span><span class="token attr-value">jdbc:mysql://localhost:3306/boot_crm</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token attr-name">jdbc.username</span><span class="token punctuation">=</span><span class="token attr-value">root</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token attr-name">jdbc.password</span><span class="token punctuation">=</span><span class="token attr-value">root</span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token attr-name">jdbc.maxTotal</span><span class="token punctuation">=</span><span class="token attr-value">30</span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token attr-name">jdbc.maxIdle</span><span class="token punctuation">=</span><span class="token attr-value">10</span></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token attr-name">jdbc.initialSize</span><span class="token punctuation">=</span><span class="token attr-value">5</span></pre></td></tr></table></figure><h4 id="log4j配置文件log4jproperties"><a class="anchor" href="#log4j配置文件log4jproperties">#</a> log4j 配置文件：log4j.properties</h4><figure class="highlight properties"><figcaption data-lang=".properties"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment"># Global logging configuration</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token attr-name">log4j.rootLogger</span><span class="token punctuation">=</span><span class="token attr-value">ERROR, stdout</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token comment"># MyBatis logging configuration...</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token attr-name">log4j.logger.com.itheima.core</span><span class="token punctuation">=</span><span class="token attr-value">DEBUG</span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token comment"># Console output...</span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token attr-name">log4j.appender.stdout</span><span class="token punctuation">=</span><span class="token attr-value">org.apache.log4j.ConsoleAppender</span></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token attr-name">log4j.appender.stdout.layout</span><span class="token punctuation">=</span><span class="token attr-value">org.apache.log4j.PatternLayout</span></pre></td></tr><tr><td data-num="8"></td><td><pre><span class="token attr-name">log4j.appender.stdout.layout.ConversionPattern</span><span class="token punctuation">=</span><span class="token attr-value">%5p [%t] - %m%n</span></pre></td></tr></table></figure><h4 id="资源配置文件resourceproperties"><a class="anchor" href="#资源配置文件resourceproperties">#</a> 资源配置文件：resource.properties</h4><figure class="highlight properties"><figcaption data-lang=".properties"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token attr-name">customer.from.type</span><span class="token punctuation">=</span><span class="token attr-value">002</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token attr-name">customer.industry.type</span><span class="token punctuation">=</span><span class="token attr-value">001</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token attr-name">customer.level.type</span><span class="token punctuation">=</span><span class="token attr-value">006</span></pre></td></tr></table></figure><h4 id="mybatis配置文件mybatis-configxml"><a class="anchor" href="#mybatis配置文件mybatis-configxml">#</a> MyBatis 配置文件：mybatis-config.xml</h4><figure class="highlight xml"><figcaption data-lang="XML"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token prolog">&lt;?xml version="1.0" encoding="UTF-8" ?></span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">configuration</span> <span class="token name">PUBLIC</span> <span class="token string">"-//mybatis.org//DTD Config 3.0//EN"</span></span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token string">"http://mybatis.org/dtd/mybatis-3-config.dtd"</span><span class="token punctuation">></span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>configuration</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="5"></td><td><pre>	<span class="token comment">&lt;!-- 别名定义 --></span></pre></td></tr><tr><td data-num="6"></td><td><pre>	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>typeAliases</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="7"></td><td><pre>		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>package</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>com.itheima.core.po<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span></pre></td></tr><tr><td data-num="8"></td><td><pre>	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>typeAliases</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="9"></td><td><pre><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>configuration</span><span class="token punctuation">></span></span></pre></td></tr></table></figure><h4 id="spring-mvc配置文件springmvc-configxml"><a class="anchor" href="#spring-mvc配置文件springmvc-configxml">#</a> Spring MVC 配置文件 springmvc-config.xml</h4><figure class="highlight xml"><figcaption data-lang="XML"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>beans</span> <span class="token attr-name">xmlns</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://www.springframework.org/schema/beans<span class="token punctuation">"</span></span></span></pre></td></tr><tr><td data-num="2"></td><td><pre>    <span class="token attr-name"><span class="token namespace">xmlns:</span>xsi</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://www.w3.org/2001/XMLSchema-instance<span class="token punctuation">"</span></span> </pre></td></tr><tr><td data-num="3"></td><td><pre>    <span class="token attr-name"><span class="token namespace">xmlns:</span>mvc</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://www.springframework.org/schema/mvc<span class="token punctuation">"</span></span></pre></td></tr><tr><td data-num="4"></td><td><pre>    <span class="token attr-name"><span class="token namespace">xmlns:</span>context</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://www.springframework.org/schema/context<span class="token punctuation">"</span></span></pre></td></tr><tr><td data-num="5"></td><td><pre>    <span class="token attr-name"><span class="token namespace">xmlns:</span>aop</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://www.springframework.org/schema/aop<span class="token punctuation">"</span></span> </pre></td></tr><tr><td data-num="6"></td><td><pre>    <span class="token attr-name"><span class="token namespace">xmlns:</span>tx</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://www.springframework.org/schema/tx<span class="token punctuation">"</span></span></pre></td></tr><tr><td data-num="7"></td><td><pre>    <span class="token attr-name"><span class="token namespace">xsi:</span>schemaLocation</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://www.springframework.org/schema/beans </span></pre></td></tr><tr><td data-num="8"></td><td><pre>    http://www.springframework.org/schema/beans/spring-beans-4.3.xsd </pre></td></tr><tr><td data-num="9"></td><td><pre>    http://www.springframework.org/schema/mvc </pre></td></tr><tr><td data-num="10"></td><td><pre>    http://www.springframework.org/schema/mvc/spring-mvc-4.3.xsd </pre></td></tr><tr><td data-num="11"></td><td><pre>    http://www.springframework.org/schema/context </pre></td></tr><tr><td data-num="12"></td><td><pre>    http://www.springframework.org/schema/context/spring-context-4.3.xsd </pre></td></tr><tr><td data-num="13"></td><td><pre>    http://www.springframework.org/schema/aop </pre></td></tr><tr><td data-num="14"></td><td><pre>    http://www.springframework.org/schema/aop/spring-aop-4.3.xsd </pre></td></tr><tr><td data-num="15"></td><td><pre>    http://www.springframework.org/schema/tx </pre></td></tr><tr><td data-num="16"></td><td><pre>    http://www.springframework.org/schema/tx/spring-tx-4.3.xsd<span class="token punctuation">"</span><span class="token punctuation">></span></pre></td></tr><tr><td data-num="17"></td><td><pre>    <span class="token comment">&lt;!-- 加载属性文件 --></span></pre></td></tr><tr><td data-num="18"></td><td><pre>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">context:</span>property-placeholder</span>    <span class="token attr-name">location</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>classpath:resource.properties<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span></pre></td></tr><tr><td data-num="19"></td><td><pre>    <span class="token comment">&lt;!-- 配置扫描器 --></span></pre></td></tr><tr><td data-num="20"></td><td><pre>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">context:</span>component-scan</span>   <span class="token attr-name">base-package</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>com.itheima.core.web.controller<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span></pre></td></tr><tr><td data-num="21"></td><td><pre>    <span class="token comment">&lt;!-- 注解驱动：配置处理器映射器和适配器 --></span></pre></td></tr><tr><td data-num="22"></td><td><pre>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">mvc:</span>annotation-driven</span> <span class="token punctuation">/></span></span></pre></td></tr><tr><td data-num="23"></td><td><pre>    <span class="token comment">&lt;!-- 配置静态资源的访问映射，此配置中的文件，将不被前端控制器拦截 --></span></pre></td></tr><tr><td data-num="24"></td><td><pre>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">mvc:</span>resources</span> <span class="token attr-name">location</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>/js/<span class="token punctuation">"</span></span> <span class="token attr-name">mapping</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>/js/**<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span></pre></td></tr><tr><td data-num="25"></td><td><pre>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">mvc:</span>resources</span> <span class="token attr-name">location</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>/css/<span class="token punctuation">"</span></span> <span class="token attr-name">mapping</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>/css/**<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span></pre></td></tr><tr><td data-num="26"></td><td><pre>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">mvc:</span>resources</span> <span class="token attr-name">location</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>/fonts/<span class="token punctuation">"</span></span> <span class="token attr-name">mapping</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>/fonts/**<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span></pre></td></tr><tr><td data-num="27"></td><td><pre>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">mvc:</span>resources</span> <span class="token attr-name">location</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>/images/<span class="token punctuation">"</span></span> <span class="token attr-name">mapping</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>/images/**<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>	</pre></td></tr><tr><td data-num="28"></td><td><pre>    <span class="token comment">&lt;!-- 配置视图解释器 ViewResolver --></span></pre></td></tr><tr><td data-num="29"></td><td><pre>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>jspViewResolver<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span></span></span></pre></td></tr><tr><td data-num="30"></td><td><pre>                          <span class="token punctuation">"</span>org.springframework.web.servlet.view.InternalResourceViewResolver<span class="token punctuation">"</span><span class="token punctuation">></span></pre></td></tr><tr><td data-num="31"></td><td><pre>		 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>prefix<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>/WEB-INF/jsp/<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span></pre></td></tr><tr><td data-num="32"></td><td><pre>		 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>suffix<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>.jsp<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span></pre></td></tr><tr><td data-num="33"></td><td><pre>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">></span></span>	</pre></td></tr><tr><td data-num="34"></td><td><pre>    </pre></td></tr><tr><td data-num="35"></td><td><pre>    <span class="token comment">&lt;!-- 配置拦截器 --></span></pre></td></tr><tr><td data-num="36"></td><td><pre>	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">mvc:</span>interceptors</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="37"></td><td><pre>    	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">mvc:</span>interceptor</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="38"></td><td><pre>         <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">mvc:</span>mapping</span> <span class="token attr-name">path</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>/**<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span></pre></td></tr><tr><td data-num="39"></td><td><pre>         <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>com.itheima.core.interceptor.LoginInterceptor<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span></pre></td></tr><tr><td data-num="40"></td><td><pre>    	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token namespace">mvc:</span>interceptor</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="41"></td><td><pre>	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token namespace">mvc:</span>interceptors</span><span class="token punctuation">></span></span>	</pre></td></tr><tr><td data-num="42"></td><td><pre><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>beans</span><span class="token punctuation">></span></span></pre></td></tr></table></figure><h3 id="登录拦截器类logininterceptorjava"><a class="anchor" href="#登录拦截器类logininterceptorjava">#</a> 登录拦截器类：LoginInterceptor.java</h3><blockquote><p>提升系统的安全性，只有已登录用户的请求才能够通过，而对于未登录用户的请求，系统会将请求转发到登录页面，并提示用户登录。</p></blockquote><figure class="highlight java"><figcaption data-lang="java"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>itheima<span class="token punctuation">.</span>core<span class="token punctuation">.</span>interceptor</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">import</span> <span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpServletRequest</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">import</span> <span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpServletResponse</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token keyword">import</span> <span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpSession</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>web<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span></span><span class="token class-name">HandlerInterceptor</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>web<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span></span><span class="token class-name">ModelAndView</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>itheima<span class="token punctuation">.</span>core<span class="token punctuation">.</span>po<span class="token punctuation">.</span></span><span class="token class-name">User</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="8"></td><td><pre><span class="token comment">/**</span></pre></td></tr><tr><td data-num="9"></td><td><pre> * 登录拦截器</pre></td></tr><tr><td data-num="10"></td><td><pre> */</pre></td></tr><tr><td data-num="11"></td><td><pre><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">LoginInterceptor</span> <span class="token keyword">implements</span> <span class="token class-name">HandlerInterceptor</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="12"></td><td><pre>	<span class="token annotation punctuation">@Override</span></pre></td></tr><tr><td data-num="13"></td><td><pre>	<span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">preHandle</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">,</span> <span class="token class-name">Object</span> handler<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="14"></td><td><pre>			                                                                                  <span class="token keyword">throws</span> <span class="token class-name">Exception</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="15"></td><td><pre>		<span class="token comment">// 获取请求的 URL</span></pre></td></tr><tr><td data-num="16"></td><td><pre>		<span class="token class-name">String</span> url <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getRequestURI</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="17"></td><td><pre>		<span class="token comment">// URL: 除了登录请求外，其他的 URL 都进行拦截控制</span></pre></td></tr><tr><td data-num="18"></td><td><pre>		<span class="token keyword">if</span> <span class="token punctuation">(</span>url<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token string">"/login.action"</span><span class="token punctuation">)</span> <span class="token operator">>=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="19"></td><td><pre>			<span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="20"></td><td><pre>		<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="21"></td><td><pre>		<span class="token comment">// 获取 Session</span></pre></td></tr><tr><td data-num="22"></td><td><pre>		<span class="token class-name">HttpSession</span> session <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getSession</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="23"></td><td><pre>		<span class="token class-name">User</span> user <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">User</span><span class="token punctuation">)</span> session<span class="token punctuation">.</span><span class="token function">getAttribute</span><span class="token punctuation">(</span><span class="token string">"USER_SESSION"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="24"></td><td><pre>		<span class="token comment">// 判断 Session 中是否有用户数据，如果有，则返回 true, 继续向下执行</span></pre></td></tr><tr><td data-num="25"></td><td><pre>		<span class="token keyword">if</span> <span class="token punctuation">(</span>user <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="26"></td><td><pre>			<span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="27"></td><td><pre>		<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="28"></td><td><pre>		<span class="token comment">// 不符合条件的给出提示信息，并转发到登录页面</span></pre></td></tr><tr><td data-num="29"></td><td><pre>		request<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">"msg"</span><span class="token punctuation">,</span> <span class="token string">"您还没有登录，请先登录！"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="30"></td><td><pre>		request<span class="token punctuation">.</span><span class="token function">getRequestDispatcher</span><span class="token punctuation">(</span><span class="token string">"/WEB-INF/jsp/login.jsp"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forward</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span> response<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="31"></td><td><pre>		<span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="32"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="33"></td><td><pre>	<span class="token annotation punctuation">@Override</span></pre></td></tr><tr><td data-num="34"></td><td><pre>	<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">postHandle</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> </pre></td></tr><tr><td data-num="35"></td><td><pre>			<span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">,</span> <span class="token class-name">Object</span> handler<span class="token punctuation">,</span></pre></td></tr><tr><td data-num="36"></td><td><pre>			<span class="token class-name">ModelAndView</span> modelAndView<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="37"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="38"></td><td><pre>	<span class="token annotation punctuation">@Override</span></pre></td></tr><tr><td data-num="39"></td><td><pre>	<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">afterCompletion</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> </pre></td></tr><tr><td data-num="40"></td><td><pre>			<span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">,</span> <span class="token class-name">Object</span> handler<span class="token punctuation">,</span> <span class="token class-name">Exception</span> ex<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="41"></td><td><pre>			<span class="token keyword">throws</span> <span class="token class-name">Exception</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="42"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="43"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><h4 id="配置拦截器"><a class="anchor" href="#配置拦截器">#</a> 配置拦截器</h4><blockquote><p>spring-mvc-config.xml 文件中，配置拦截器信息</p></blockquote><figure class="highlight xml"><figcaption data-lang="XML"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment">&lt;!-- 配置拦截器 --></span></pre></td></tr><tr><td data-num="2"></td><td><pre>	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">mvc:</span>interceptors</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="3"></td><td><pre>    	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">mvc:</span>interceptor</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="4"></td><td><pre>        	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">mvc:</span>mapping</span> <span class="token attr-name">path</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>/**<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span></pre></td></tr><tr><td data-num="5"></td><td><pre>        	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>com.itheima.core.interceptor.LoginInterceptor<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span></pre></td></tr><tr><td data-num="6"></td><td><pre>    	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token namespace">mvc:</span>interceptor</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="7"></td><td><pre>	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token namespace">mvc:</span>interceptors</span><span class="token punctuation">></span></span></pre></td></tr></table></figure><h3 id="客户类customer"><a class="anchor" href="#客户类customer">#</a> 客户类：Customer</h3><h4 id="创建客户持久化类"><a class="anchor" href="#创建客户持久化类">#</a> 创建客户持久化类</h4><blockquote><p>boot-crm\src\com\itheima\core\po\Customer.java</p></blockquote><figure class="highlight java"><figcaption data-lang="java"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>itheima<span class="token punctuation">.</span>core<span class="token punctuation">.</span>po</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">Serializable</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Date</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token comment">/**</span></pre></td></tr><tr><td data-num="5"></td><td><pre> * 客户持久化类</pre></td></tr><tr><td data-num="6"></td><td><pre> */</pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Customer</span> <span class="token keyword">implements</span> <span class="token class-name">Serializable</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="8"></td><td><pre>	<span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">long</span> serialVersionUID <span class="token operator">=</span> <span class="token number">1L</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="9"></td><td><pre>	<span class="token keyword">private</span> <span class="token class-name">Integer</span> cust_id<span class="token punctuation">;</span>          <span class="token comment">// 客户编号</span></pre></td></tr><tr><td data-num="10"></td><td><pre>	<span class="token keyword">private</span> <span class="token class-name">String</span> cust_name<span class="token punctuation">;</span>         <span class="token comment">// 客户名称</span></pre></td></tr><tr><td data-num="11"></td><td><pre>	<span class="token keyword">private</span> <span class="token class-name">Integer</span> cust_user_id<span class="token punctuation">;</span>    <span class="token comment">// 负责人 id</span></pre></td></tr><tr><td data-num="12"></td><td><pre>	<span class="token keyword">private</span> <span class="token class-name">Integer</span> cust_create_id<span class="token punctuation">;</span>  <span class="token comment">// 创建人 id</span></pre></td></tr><tr><td data-num="13"></td><td><pre>	<span class="token keyword">private</span> <span class="token class-name">String</span> cust_source<span class="token punctuation">;</span>      <span class="token comment">// 客户信息来源</span></pre></td></tr><tr><td data-num="14"></td><td><pre>	<span class="token keyword">private</span> <span class="token class-name">String</span> cust_industry<span class="token punctuation">;</span>    <span class="token comment">// 客户所属行业</span></pre></td></tr><tr><td data-num="15"></td><td><pre>	<span class="token keyword">private</span> <span class="token class-name">String</span> cust_level<span class="token punctuation">;</span>       <span class="token comment">// 客户级别</span></pre></td></tr><tr><td data-num="16"></td><td><pre>	<span class="token keyword">private</span> <span class="token class-name">String</span> cust_linkman<span class="token punctuation">;</span>     <span class="token comment">// 联系人</span></pre></td></tr><tr><td data-num="17"></td><td><pre>	<span class="token keyword">private</span> <span class="token class-name">String</span> cust_phone<span class="token punctuation">;</span>       <span class="token comment">// 固定电话</span></pre></td></tr><tr><td data-num="18"></td><td><pre>	<span class="token keyword">private</span> <span class="token class-name">String</span> cust_mobile<span class="token punctuation">;</span>      <span class="token comment">// 移动电话</span></pre></td></tr><tr><td data-num="19"></td><td><pre>	<span class="token keyword">private</span> <span class="token class-name">String</span> cust_zipcode<span class="token punctuation">;</span>     <span class="token comment">// 邮政编码</span></pre></td></tr><tr><td data-num="20"></td><td><pre>	<span class="token keyword">private</span> <span class="token class-name">String</span> cust_address<span class="token punctuation">;</span>     <span class="token comment">// 联系地址</span></pre></td></tr><tr><td data-num="21"></td><td><pre>	<span class="token keyword">private</span> <span class="token class-name">Date</span> cust_createtime<span class="token punctuation">;</span>    <span class="token comment">// 创建时间	</span></pre></td></tr><tr><td data-num="22"></td><td><pre>	<span class="token keyword">private</span> <span class="token class-name">Integer</span> start<span class="token punctuation">;</span>            <span class="token comment">// 起始行</span></pre></td></tr><tr><td data-num="23"></td><td><pre>	<span class="token keyword">private</span> <span class="token class-name">Integer</span> rows<span class="token punctuation">;</span>             <span class="token comment">// 所取行数</span></pre></td></tr><tr><td data-num="24"></td><td><pre>	</pre></td></tr><tr><td data-num="25"></td><td><pre>	<span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getCust_zipcode</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="26"></td><td><pre>		<span class="token keyword">return</span> cust_zipcode<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="27"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="28"></td><td><pre>	<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setCust_zipcode</span><span class="token punctuation">(</span><span class="token class-name">String</span> cust_zipcode<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="29"></td><td><pre>		<span class="token keyword">this</span><span class="token punctuation">.</span>cust_zipcode <span class="token operator">=</span> cust_zipcode<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="30"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="31"></td><td><pre>	<span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getCust_address</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="32"></td><td><pre>		<span class="token keyword">return</span> cust_address<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="33"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="34"></td><td><pre>	<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setCust_address</span><span class="token punctuation">(</span><span class="token class-name">String</span> cust_address<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="35"></td><td><pre>		<span class="token keyword">this</span><span class="token punctuation">.</span>cust_address <span class="token operator">=</span> cust_address<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="36"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="37"></td><td><pre>	<span class="token keyword">public</span> <span class="token class-name">Integer</span> <span class="token function">getStart</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="38"></td><td><pre>		<span class="token keyword">return</span> start<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="39"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="40"></td><td><pre>	<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setStart</span><span class="token punctuation">(</span><span class="token class-name">Integer</span> start<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="41"></td><td><pre>		<span class="token keyword">this</span><span class="token punctuation">.</span>start <span class="token operator">=</span> start<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="42"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="43"></td><td><pre>	<span class="token keyword">public</span> <span class="token class-name">Integer</span> <span class="token function">getRows</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="44"></td><td><pre>		<span class="token keyword">return</span> rows<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="45"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="46"></td><td><pre>	<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setRows</span><span class="token punctuation">(</span><span class="token class-name">Integer</span> rows<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="47"></td><td><pre>		<span class="token keyword">this</span><span class="token punctuation">.</span>rows <span class="token operator">=</span> rows<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="48"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="49"></td><td><pre>	<span class="token keyword">public</span> <span class="token class-name">Integer</span> <span class="token function">getCust_id</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="50"></td><td><pre>		<span class="token keyword">return</span> cust_id<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="51"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="52"></td><td><pre>	<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setCust_id</span><span class="token punctuation">(</span><span class="token class-name">Integer</span> cust_id<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="53"></td><td><pre>		<span class="token keyword">this</span><span class="token punctuation">.</span>cust_id <span class="token operator">=</span> cust_id<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="54"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="55"></td><td><pre>	<span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getCust_name</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="56"></td><td><pre>		<span class="token keyword">return</span> cust_name<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="57"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="58"></td><td><pre>	<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setCust_name</span><span class="token punctuation">(</span><span class="token class-name">String</span> cust_name<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="59"></td><td><pre>		<span class="token keyword">this</span><span class="token punctuation">.</span>cust_name <span class="token operator">=</span> cust_name<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="60"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="61"></td><td><pre>	<span class="token keyword">public</span> <span class="token class-name">Integer</span> <span class="token function">getCust_user_id</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="62"></td><td><pre>		<span class="token keyword">return</span> cust_user_id<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="63"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="64"></td><td><pre>	<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setCust_user_id</span><span class="token punctuation">(</span><span class="token class-name">Integer</span> cust_user_id<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="65"></td><td><pre>		<span class="token keyword">this</span><span class="token punctuation">.</span>cust_user_id <span class="token operator">=</span> cust_user_id<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="66"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="67"></td><td><pre>	<span class="token keyword">public</span> <span class="token class-name">Integer</span> <span class="token function">getCust_create_id</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="68"></td><td><pre>		<span class="token keyword">return</span> cust_create_id<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="69"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="70"></td><td><pre>	<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setCust_create_id</span><span class="token punctuation">(</span><span class="token class-name">Integer</span> cust_create_id<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="71"></td><td><pre>		<span class="token keyword">this</span><span class="token punctuation">.</span>cust_create_id <span class="token operator">=</span> cust_create_id<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="72"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="73"></td><td><pre>	<span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getCust_source</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="74"></td><td><pre>		<span class="token keyword">return</span> cust_source<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="75"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="76"></td><td><pre>	<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setCust_source</span><span class="token punctuation">(</span><span class="token class-name">String</span> cust_source<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="77"></td><td><pre>		<span class="token keyword">this</span><span class="token punctuation">.</span>cust_source <span class="token operator">=</span> cust_source<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="78"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="79"></td><td><pre>	<span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getCust_industry</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="80"></td><td><pre>		<span class="token keyword">return</span> cust_industry<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="81"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="82"></td><td><pre>	<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setCust_industry</span><span class="token punctuation">(</span><span class="token class-name">String</span> cust_industry<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="83"></td><td><pre>		<span class="token keyword">this</span><span class="token punctuation">.</span>cust_industry <span class="token operator">=</span> cust_industry<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="84"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="85"></td><td><pre>	<span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getCust_level</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="86"></td><td><pre>		<span class="token keyword">return</span> cust_level<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="87"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="88"></td><td><pre>	<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setCust_level</span><span class="token punctuation">(</span><span class="token class-name">String</span> cust_level<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="89"></td><td><pre>		<span class="token keyword">this</span><span class="token punctuation">.</span>cust_level <span class="token operator">=</span> cust_level<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="90"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="91"></td><td><pre>	<span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getCust_linkman</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="92"></td><td><pre>		<span class="token keyword">return</span> cust_linkman<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="93"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="94"></td><td><pre>	<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setCust_linkman</span><span class="token punctuation">(</span><span class="token class-name">String</span> cust_linkman<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="95"></td><td><pre>		<span class="token keyword">this</span><span class="token punctuation">.</span>cust_linkman <span class="token operator">=</span> cust_linkman<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="96"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="97"></td><td><pre>	<span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getCust_phone</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="98"></td><td><pre>		<span class="token keyword">return</span> cust_phone<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="99"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="100"></td><td><pre>	<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setCust_phone</span><span class="token punctuation">(</span><span class="token class-name">String</span> cust_phone<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="101"></td><td><pre>		<span class="token keyword">this</span><span class="token punctuation">.</span>cust_phone <span class="token operator">=</span> cust_phone<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="102"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="103"></td><td><pre>	<span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getCust_mobile</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="104"></td><td><pre>		<span class="token keyword">return</span> cust_mobile<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="105"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="106"></td><td><pre>	<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setCust_mobile</span><span class="token punctuation">(</span><span class="token class-name">String</span> cust_mobile<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="107"></td><td><pre>		<span class="token keyword">this</span><span class="token punctuation">.</span>cust_mobile <span class="token operator">=</span> cust_mobile<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="108"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="109"></td><td><pre>	<span class="token keyword">public</span> <span class="token class-name">Date</span> <span class="token function">getCust_createtime</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="110"></td><td><pre>		<span class="token keyword">return</span> cust_createtime<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="111"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="112"></td><td><pre>	<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setCust_createtime</span><span class="token punctuation">(</span><span class="token class-name">Date</span> cust_createtime<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="113"></td><td><pre>		<span class="token keyword">this</span><span class="token punctuation">.</span>cust_createtime <span class="token operator">=</span> cust_createtime<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="114"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="115"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><h4 id="创建dao层的客户数据处理类"><a class="anchor" href="#创建dao层的客户数据处理类">#</a> 创建 DAO 层的客户数据处理类</h4><blockquote><p>boot-crm\src\com\itheima\core\dao\ CustomerDao.java</p></blockquote><figure class="highlight java"><figcaption data-lang="java"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>itheima<span class="token punctuation">.</span>core<span class="token punctuation">.</span>dao</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">List</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>itheima<span class="token punctuation">.</span>core<span class="token punctuation">.</span>po<span class="token punctuation">.</span></span><span class="token class-name">Customer</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token comment">/**</span></pre></td></tr><tr><td data-num="5"></td><td><pre> * Customer 接口</pre></td></tr><tr><td data-num="6"></td><td><pre> */</pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">CustomerDao</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="8"></td><td><pre>    <span class="token comment">// 客户列表</span></pre></td></tr><tr><td data-num="9"></td><td><pre>	<span class="token keyword">public</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Customer</span><span class="token punctuation">></span></span> <span class="token function">selectCustomerList</span><span class="token punctuation">(</span><span class="token class-name">Customer</span> customer<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="10"></td><td><pre>	<span class="token comment">// 客户数</span></pre></td></tr><tr><td data-num="11"></td><td><pre>	<span class="token keyword">public</span> <span class="token class-name">Integer</span> <span class="token function">selectCustomerListCount</span><span class="token punctuation">(</span><span class="token class-name">Customer</span> customer<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="12"></td><td><pre>	</pre></td></tr><tr><td data-num="13"></td><td><pre>	<span class="token comment">// 创建客户</span></pre></td></tr><tr><td data-num="14"></td><td><pre>	<span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">createCustomer</span><span class="token punctuation">(</span><span class="token class-name">Customer</span> customer<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="15"></td><td><pre>	<span class="token comment">// 通过 id 查询客户</span></pre></td></tr><tr><td data-num="16"></td><td><pre>	<span class="token keyword">public</span> <span class="token class-name">Customer</span> <span class="token function">getCustomerById</span><span class="token punctuation">(</span><span class="token class-name">Integer</span> id<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="17"></td><td><pre>	<span class="token comment">// 更新客户信息</span></pre></td></tr><tr><td data-num="18"></td><td><pre>	<span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">updateCustomer</span><span class="token punctuation">(</span><span class="token class-name">Customer</span> customer<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="19"></td><td><pre>	<span class="token comment">// 删除客户</span></pre></td></tr><tr><td data-num="20"></td><td><pre>	<span class="token keyword">int</span> deleteCustomer <span class="token punctuation">(</span><span class="token class-name">Integer</span> id<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="21"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><h4 id="创建客户数据处理类的映射文件"><a class="anchor" href="#创建客户数据处理类的映射文件">#</a> 创建客户数据处理类的映射文件</h4><blockquote><p>boot-crm\src\com\itheima\core\dao\ CustomerDao.xml</p></blockquote><figure class="highlight xml"><figcaption data-lang="XML"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token prolog">&lt;?xml version="1.0" encoding="UTF-8" ?></span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">mapper</span> <span class="token name">PUBLIC</span> <span class="token string">"-//mybatis.org//DTD Mapper 3.0//EN"</span> </span></pre></td></tr><tr><td data-num="3"></td><td><pre>     <span class="token string">"http://mybatis.org/dtd/mybatis-3-mapper.dtd"</span> <span class="token punctuation">></span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mapper</span> <span class="token attr-name">namespace</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>com.itheima.core.dao.CustomerDao<span class="token punctuation">"</span></span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="5"></td><td><pre>    <span class="token comment">&lt;!--SQL 片段  --></span></pre></td></tr><tr><td data-num="6"></td><td><pre>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>sql</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>selectCustomerListWhere<span class="token punctuation">"</span></span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="7"></td><td><pre>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>where</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="8"></td><td><pre>	       <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>if</span> <span class="token attr-name">test</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>cust_name != null<span class="token punctuation">"</span></span> <span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="9"></td><td><pre>	           cust_name like "%"#&#123;cust_name&#125;"%"</pre></td></tr><tr><td data-num="10"></td><td><pre>	       <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>if</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="11"></td><td><pre>	       <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>if</span> <span class="token attr-name">test</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>cust_source != null<span class="token punctuation">"</span></span> <span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="12"></td><td><pre>	        and cust_source = #&#123;cust_source&#125;</pre></td></tr><tr><td data-num="13"></td><td><pre>	       <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>if</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="14"></td><td><pre>	       <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>if</span> <span class="token attr-name">test</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>cust_industry != null<span class="token punctuation">"</span></span> <span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="15"></td><td><pre>	        and cust_industry = #&#123;cust_industry&#125;</pre></td></tr><tr><td data-num="16"></td><td><pre>	       <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>if</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="17"></td><td><pre>	       <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>if</span> <span class="token attr-name">test</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>cust_level != null<span class="token punctuation">"</span></span> <span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="18"></td><td><pre>	        and cust_level = #&#123;cust_level&#125;</pre></td></tr><tr><td data-num="19"></td><td><pre>	       <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>if</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="20"></td><td><pre>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>where</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="21"></td><td><pre>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>sql</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="22"></td><td><pre>	<span class="token comment">&lt;!-- 查询客户列表  --></span></pre></td></tr><tr><td data-num="23"></td><td><pre>	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>select</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>selectCustomerList<span class="token punctuation">"</span></span> <span class="token attr-name">parameterType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>customer<span class="token punctuation">"</span></span>   <span class="token attr-name">resultType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>customer<span class="token punctuation">"</span></span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="24"></td><td><pre>		SELECT</pre></td></tr><tr><td data-num="25"></td><td><pre>			cust_id,</pre></td></tr><tr><td data-num="26"></td><td><pre>			cust_name,</pre></td></tr><tr><td data-num="27"></td><td><pre>			cust_user_id,</pre></td></tr><tr><td data-num="28"></td><td><pre>			cust_create_id,</pre></td></tr><tr><td data-num="29"></td><td><pre>			b.dict_item_name cust_source,</pre></td></tr><tr><td data-num="30"></td><td><pre>			c.dict_item_name cust_industry,</pre></td></tr><tr><td data-num="31"></td><td><pre>			d.dict_item_name cust_level,</pre></td></tr><tr><td data-num="32"></td><td><pre>			cust_linkman,</pre></td></tr><tr><td data-num="33"></td><td><pre>			cust_phone,</pre></td></tr><tr><td data-num="34"></td><td><pre>			cust_mobile,</pre></td></tr><tr><td data-num="35"></td><td><pre>			cust_createtime</pre></td></tr><tr><td data-num="36"></td><td><pre>		FROM</pre></td></tr><tr><td data-num="37"></td><td><pre>			customer a</pre></td></tr><tr><td data-num="38"></td><td><pre>		LEFT JOIN (</pre></td></tr><tr><td data-num="39"></td><td><pre>			SELECT</pre></td></tr><tr><td data-num="40"></td><td><pre>				dict_id,</pre></td></tr><tr><td data-num="41"></td><td><pre>				dict_item_name</pre></td></tr><tr><td data-num="42"></td><td><pre>			FROM</pre></td></tr><tr><td data-num="43"></td><td><pre>				base_dict</pre></td></tr><tr><td data-num="44"></td><td><pre>			WHERE</pre></td></tr><tr><td data-num="45"></td><td><pre>				dict_type_code = '002'</pre></td></tr><tr><td data-num="46"></td><td><pre>		) b ON a.cust_source = b.dict_id</pre></td></tr><tr><td data-num="47"></td><td><pre>		LEFT JOIN (</pre></td></tr><tr><td data-num="48"></td><td><pre>			SELECT</pre></td></tr><tr><td data-num="49"></td><td><pre>				dict_id,</pre></td></tr><tr><td data-num="50"></td><td><pre>				dict_item_name</pre></td></tr><tr><td data-num="51"></td><td><pre>			FROM</pre></td></tr><tr><td data-num="52"></td><td><pre>				base_dict</pre></td></tr><tr><td data-num="53"></td><td><pre>			WHERE</pre></td></tr><tr><td data-num="54"></td><td><pre>				dict_type_code = '001'</pre></td></tr><tr><td data-num="55"></td><td><pre>		) c ON a.cust_industry = c.dict_id</pre></td></tr><tr><td data-num="56"></td><td><pre>		LEFT JOIN (</pre></td></tr><tr><td data-num="57"></td><td><pre>			SELECT</pre></td></tr><tr><td data-num="58"></td><td><pre>				dict_id,</pre></td></tr><tr><td data-num="59"></td><td><pre>				dict_item_name</pre></td></tr><tr><td data-num="60"></td><td><pre>			FROM</pre></td></tr><tr><td data-num="61"></td><td><pre>				base_dict</pre></td></tr><tr><td data-num="62"></td><td><pre>			WHERE</pre></td></tr><tr><td data-num="63"></td><td><pre>				dict_type_code = '006'</pre></td></tr><tr><td data-num="64"></td><td><pre>		) d ON a.cust_level = d.dict_id</pre></td></tr><tr><td data-num="65"></td><td><pre>		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>include</span> <span class="token attr-name">refid</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>selectCustomerListWhere<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span></pre></td></tr><tr><td data-num="66"></td><td><pre>		<span class="token comment">&lt;!-- 执行分页查询 --></span></pre></td></tr><tr><td data-num="67"></td><td><pre>		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>if</span> <span class="token attr-name">test</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>start !=null and rows != null<span class="token punctuation">"</span></span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="68"></td><td><pre>			limit #&#123;start&#125;,#&#123;rows&#125;</pre></td></tr><tr><td data-num="69"></td><td><pre>		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>if</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="70"></td><td><pre>	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>select</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="71"></td><td><pre>	<span class="token comment">&lt;!-- 查询客户总数 --></span></pre></td></tr><tr><td data-num="72"></td><td><pre>	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>select</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>selectCustomerListCount<span class="token punctuation">"</span></span> <span class="token attr-name">parameterType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>customer<span class="token punctuation">"</span></span> </span></pre></td></tr><tr><td data-num="73"></td><td><pre>                                                 <span class="token attr-name">resultType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Integer<span class="token punctuation">"</span></span><span class="token punctuation">></span></pre></td></tr><tr><td data-num="74"></td><td><pre>		select count(*) from customer</pre></td></tr><tr><td data-num="75"></td><td><pre>		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>include</span> <span class="token attr-name">refid</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>selectCustomerListWhere<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span></pre></td></tr><tr><td data-num="76"></td><td><pre>	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>select</span><span class="token punctuation">></span></span>	</pre></td></tr><tr><td data-num="77"></td><td><pre>	</pre></td></tr><tr><td data-num="78"></td><td><pre>	<span class="token comment">&lt;!-- 添加客户 --></span></pre></td></tr><tr><td data-num="79"></td><td><pre>	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>insert</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>createCustomer<span class="token punctuation">"</span></span> <span class="token attr-name">parameterType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>customer<span class="token punctuation">"</span></span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="80"></td><td><pre>	    insert into customer(</pre></td></tr><tr><td data-num="81"></td><td><pre>	                     cust_name,</pre></td></tr><tr><td data-num="82"></td><td><pre>	                     cust_user_id,</pre></td></tr><tr><td data-num="83"></td><td><pre>	                     cust_create_id,</pre></td></tr><tr><td data-num="84"></td><td><pre>	                     cust_source,</pre></td></tr><tr><td data-num="85"></td><td><pre>	                     cust_industry,</pre></td></tr><tr><td data-num="86"></td><td><pre>	                     cust_level,</pre></td></tr><tr><td data-num="87"></td><td><pre>	                     cust_linkman,</pre></td></tr><tr><td data-num="88"></td><td><pre>	                     cust_phone,</pre></td></tr><tr><td data-num="89"></td><td><pre>	                     cust_mobile,</pre></td></tr><tr><td data-num="90"></td><td><pre>	                     cust_zipcode,</pre></td></tr><tr><td data-num="91"></td><td><pre>	                     cust_address,</pre></td></tr><tr><td data-num="92"></td><td><pre>	                     cust_createtime</pre></td></tr><tr><td data-num="93"></td><td><pre>	             )</pre></td></tr><tr><td data-num="94"></td><td><pre>	             values(#&#123;cust_name&#125;,</pre></td></tr><tr><td data-num="95"></td><td><pre>	                    #&#123;cust_user_id&#125;,</pre></td></tr><tr><td data-num="96"></td><td><pre>	                    #&#123;cust_create_id&#125;,</pre></td></tr><tr><td data-num="97"></td><td><pre>	                    #&#123;cust_source&#125;,</pre></td></tr><tr><td data-num="98"></td><td><pre>	                    #&#123;cust_industry&#125;,</pre></td></tr><tr><td data-num="99"></td><td><pre>	                    #&#123;cust_level&#125;,</pre></td></tr><tr><td data-num="100"></td><td><pre>	                    #&#123;cust_linkman&#125;,</pre></td></tr><tr><td data-num="101"></td><td><pre>	                    #&#123;cust_phone&#125;,</pre></td></tr><tr><td data-num="102"></td><td><pre>	                    #&#123;cust_mobile&#125;,</pre></td></tr><tr><td data-num="103"></td><td><pre>	                    #&#123;cust_zipcode&#125;,</pre></td></tr><tr><td data-num="104"></td><td><pre>	                    #&#123;cust_address&#125;,</pre></td></tr><tr><td data-num="105"></td><td><pre>	                    #&#123;cust_createtime&#125;</pre></td></tr><tr><td data-num="106"></td><td><pre>	            )</pre></td></tr><tr><td data-num="107"></td><td><pre>	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>insert</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="108"></td><td><pre>	<span class="token comment">&lt;!-- 根据 id 获取客户信息 --></span></pre></td></tr><tr><td data-num="109"></td><td><pre>	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>select</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>getCustomerById<span class="token punctuation">"</span></span> <span class="token attr-name">parameterType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Integer<span class="token punctuation">"</span></span> </span></pre></td></tr><tr><td data-num="110"></td><td><pre>	<span class="token attr-name">resultType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>customer<span class="token punctuation">"</span></span><span class="token punctuation">></span></pre></td></tr><tr><td data-num="111"></td><td><pre>	    select * from customer where cust_id = #&#123;id&#125;</pre></td></tr><tr><td data-num="112"></td><td><pre>	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>select</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="113"></td><td><pre>	<span class="token comment">&lt;!-- 更新客户 --></span></pre></td></tr><tr><td data-num="114"></td><td><pre>	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>update</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>updateCustomer<span class="token punctuation">"</span></span> <span class="token attr-name">parameterType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>customer<span class="token punctuation">"</span></span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="115"></td><td><pre>	    update customer</pre></td></tr><tr><td data-num="116"></td><td><pre>	    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>set</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="117"></td><td><pre>	        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>if</span> <span class="token attr-name">test</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>cust_name!=null<span class="token punctuation">"</span></span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="118"></td><td><pre>	            cust_name=#&#123;cust_name&#125;,</pre></td></tr><tr><td data-num="119"></td><td><pre>	        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>if</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="120"></td><td><pre>	        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>if</span> <span class="token attr-name">test</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>cust_user_id!=null<span class="token punctuation">"</span></span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="121"></td><td><pre>	            cust_user_id=#&#123;cust_user_id&#125;,</pre></td></tr><tr><td data-num="122"></td><td><pre>	        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>if</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="123"></td><td><pre>	        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>if</span> <span class="token attr-name">test</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>cust_create_id!=null<span class="token punctuation">"</span></span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="124"></td><td><pre>	            cust_create_id=#&#123;cust_create_id&#125;,</pre></td></tr><tr><td data-num="125"></td><td><pre>	        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>if</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="126"></td><td><pre>	        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>if</span> <span class="token attr-name">test</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>cust_source!=null<span class="token punctuation">"</span></span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="127"></td><td><pre>	            cust_source=#&#123;cust_source&#125;,</pre></td></tr><tr><td data-num="128"></td><td><pre>	        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>if</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="129"></td><td><pre>	        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>if</span> <span class="token attr-name">test</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>cust_industry!=null<span class="token punctuation">"</span></span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="130"></td><td><pre>	            cust_industry=#&#123;cust_industry&#125;,</pre></td></tr><tr><td data-num="131"></td><td><pre>	        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>if</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="132"></td><td><pre>	        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>if</span> <span class="token attr-name">test</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>cust_level!=null<span class="token punctuation">"</span></span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="133"></td><td><pre>	            cust_level=#&#123;cust_level&#125;,</pre></td></tr><tr><td data-num="134"></td><td><pre>	        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>if</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="135"></td><td><pre>	        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>if</span> <span class="token attr-name">test</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>cust_linkman!=null<span class="token punctuation">"</span></span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="136"></td><td><pre>	            cust_linkman=#&#123;cust_linkman&#125;,</pre></td></tr><tr><td data-num="137"></td><td><pre>	        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>if</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="138"></td><td><pre>	        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>if</span> <span class="token attr-name">test</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>cust_phone!=null<span class="token punctuation">"</span></span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="139"></td><td><pre>	            cust_phone=#&#123;cust_phone&#125;,</pre></td></tr><tr><td data-num="140"></td><td><pre>	        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>if</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="141"></td><td><pre>	        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>if</span> <span class="token attr-name">test</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>cust_mobile!=null<span class="token punctuation">"</span></span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="142"></td><td><pre>	            cust_mobile=#&#123;cust_mobile&#125;,</pre></td></tr><tr><td data-num="143"></td><td><pre>	        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>if</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="144"></td><td><pre>	        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>if</span> <span class="token attr-name">test</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>cust_zipcode!=null<span class="token punctuation">"</span></span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="145"></td><td><pre>	            cust_zipcode=#&#123;cust_zipcode&#125;,</pre></td></tr><tr><td data-num="146"></td><td><pre>	        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>if</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="147"></td><td><pre>	        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>if</span> <span class="token attr-name">test</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>cust_address!=null<span class="token punctuation">"</span></span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="148"></td><td><pre>	            cust_address=#&#123;cust_address&#125;,</pre></td></tr><tr><td data-num="149"></td><td><pre>	        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>if</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="150"></td><td><pre>	        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>if</span> <span class="token attr-name">test</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>cust_createtime!=null<span class="token punctuation">"</span></span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="151"></td><td><pre>	            cust_createtime=#&#123;cust_createtime&#125;,</pre></td></tr><tr><td data-num="152"></td><td><pre>	        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>if</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="153"></td><td><pre>	    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>set</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="154"></td><td><pre>	    where cust_id=#&#123;cust_id&#125;</pre></td></tr><tr><td data-num="155"></td><td><pre>	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>update</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="156"></td><td><pre>	<span class="token comment">&lt;!-- 删除客户 --></span></pre></td></tr><tr><td data-num="157"></td><td><pre>	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>delete</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>deleteCustomer<span class="token punctuation">"</span></span> <span class="token attr-name">parameterType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Integer<span class="token punctuation">"</span></span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="158"></td><td><pre>	    delete from customer where cust_id=#&#123;id&#125;</pre></td></tr><tr><td data-num="159"></td><td><pre>	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>delete</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="160"></td><td><pre><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>mapper</span><span class="token punctuation">></span></span></pre></td></tr></table></figure><h4 id="创建客户的service层接口"><a class="anchor" href="#创建客户的service层接口">#</a> 创建客户的 service 层接口</h4><blockquote><p>boot-crm\src\com\itheima\core\service\ CustomerService.java</p></blockquote><figure class="highlight java"><figcaption data-lang="java"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>itheima<span class="token punctuation">.</span>core<span class="token punctuation">.</span>service</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>itheima<span class="token punctuation">.</span>common<span class="token punctuation">.</span>utils<span class="token punctuation">.</span></span><span class="token class-name">Page</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>itheima<span class="token punctuation">.</span>core<span class="token punctuation">.</span>po<span class="token punctuation">.</span></span><span class="token class-name">Customer</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">CustomerService</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="5"></td><td><pre>	<span class="token comment">// 查询客户列表</span></pre></td></tr><tr><td data-num="6"></td><td><pre>	<span class="token keyword">public</span> <span class="token class-name">Page</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Customer</span><span class="token punctuation">></span></span> <span class="token function">findCustomerList</span><span class="token punctuation">(</span><span class="token class-name">Integer</span> page<span class="token punctuation">,</span> <span class="token class-name">Integer</span> rows<span class="token punctuation">,</span> </pre></td></tr><tr><td data-num="7"></td><td><pre>                                        <span class="token class-name">String</span> custName<span class="token punctuation">,</span><span class="token class-name">String</span> custSource<span class="token punctuation">,</span></pre></td></tr><tr><td data-num="8"></td><td><pre>                                        <span class="token class-name">String</span> custIndustry<span class="token punctuation">,</span><span class="token class-name">String</span> custLevel<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="9"></td><td><pre>	</pre></td></tr><tr><td data-num="10"></td><td><pre>	<span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">createCustomer</span><span class="token punctuation">(</span><span class="token class-name">Customer</span> customer<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="11"></td><td><pre>	</pre></td></tr><tr><td data-num="12"></td><td><pre>	<span class="token comment">// 通过 id 查询客户</span></pre></td></tr><tr><td data-num="13"></td><td><pre>	<span class="token keyword">public</span> <span class="token class-name">Customer</span> <span class="token function">getCustomerById</span><span class="token punctuation">(</span><span class="token class-name">Integer</span> id<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="14"></td><td><pre>	<span class="token comment">// 更新客户</span></pre></td></tr><tr><td data-num="15"></td><td><pre>	<span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">updateCustomer</span><span class="token punctuation">(</span><span class="token class-name">Customer</span> customer<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="16"></td><td><pre>	<span class="token comment">// 删除客户</span></pre></td></tr><tr><td data-num="17"></td><td><pre>	<span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">deleteCustomer</span><span class="token punctuation">(</span><span class="token class-name">Integer</span> id<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="18"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><h4 id="创建客户的service层的实现类"><a class="anchor" href="#创建客户的service层的实现类">#</a> 创建客户的 service 层的实现类</h4><blockquote><p>boot-crm\src\com\itheima\core\service\impl\ CustomerServiceImpl.java</p></blockquote><figure class="highlight java"><figcaption data-lang="java"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>itheima<span class="token punctuation">.</span>core<span class="token punctuation">.</span>service<span class="token punctuation">.</span>impl</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">List</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>commons<span class="token punctuation">.</span>lang3<span class="token punctuation">.</span></span><span class="token class-name">StringUtils</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>beans<span class="token punctuation">.</span>factory<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Autowired</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>stereotype<span class="token punctuation">.</span></span><span class="token class-name">Service</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>transaction<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Transactional</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>itheima<span class="token punctuation">.</span>common<span class="token punctuation">.</span>utils<span class="token punctuation">.</span></span><span class="token class-name">Page</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="8"></td><td><pre><span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>itheima<span class="token punctuation">.</span>core<span class="token punctuation">.</span>dao<span class="token punctuation">.</span></span><span class="token class-name">CustomerDao</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="9"></td><td><pre><span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>itheima<span class="token punctuation">.</span>core<span class="token punctuation">.</span>po<span class="token punctuation">.</span></span><span class="token class-name">Customer</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="10"></td><td><pre><span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>itheima<span class="token punctuation">.</span>core<span class="token punctuation">.</span>service<span class="token punctuation">.</span></span><span class="token class-name">CustomerService</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="11"></td><td><pre><span class="token comment">/**</span></pre></td></tr><tr><td data-num="12"></td><td><pre> * 客户管理</pre></td></tr><tr><td data-num="13"></td><td><pre> */</pre></td></tr><tr><td data-num="14"></td><td><pre><span class="token annotation punctuation">@Service</span><span class="token punctuation">(</span><span class="token string">"customerService"</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="15"></td><td><pre><span class="token annotation punctuation">@Transactional</span></pre></td></tr><tr><td data-num="16"></td><td><pre><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">CustomerServiceImpl</span> <span class="token keyword">implements</span> <span class="token class-name">CustomerService</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="17"></td><td><pre>	<span class="token comment">// 声明 DAO 属性并注入</span></pre></td></tr><tr><td data-num="18"></td><td><pre>	<span class="token annotation punctuation">@Autowired</span></pre></td></tr><tr><td data-num="19"></td><td><pre>	<span class="token keyword">private</span> <span class="token class-name">CustomerDao</span> customerDao<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="20"></td><td><pre>	<span class="token comment">// 客户列表</span></pre></td></tr><tr><td data-num="21"></td><td><pre>	<span class="token keyword">public</span> <span class="token class-name">Page</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Customer</span><span class="token punctuation">></span></span> <span class="token function">findCustomerList</span><span class="token punctuation">(</span><span class="token class-name">Integer</span> page<span class="token punctuation">,</span> <span class="token class-name">Integer</span> rows<span class="token punctuation">,</span> </pre></td></tr><tr><td data-num="22"></td><td><pre>			<span class="token class-name">String</span> custName<span class="token punctuation">,</span>  <span class="token class-name">String</span> custSource<span class="token punctuation">,</span><span class="token class-name">String</span> custIndustry<span class="token punctuation">,</span>  <span class="token class-name">String</span> custLevel<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="23"></td><td><pre>		<span class="token comment">// 创建客户对象</span></pre></td></tr><tr><td data-num="24"></td><td><pre>         <span class="token class-name">Customer</span> customer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Customer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="25"></td><td><pre>		<span class="token comment">// 判断客户名称</span></pre></td></tr><tr><td data-num="26"></td><td><pre>		<span class="token keyword">if</span><span class="token punctuation">(</span><span class="token class-name">StringUtils</span><span class="token punctuation">.</span><span class="token function">isNotBlank</span><span class="token punctuation">(</span>custName<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="27"></td><td><pre>			customer<span class="token punctuation">.</span><span class="token function">setCust_name</span><span class="token punctuation">(</span>custName<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="28"></td><td><pre>		<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="29"></td><td><pre>		<span class="token comment">// 判断客户信息来源</span></pre></td></tr><tr><td data-num="30"></td><td><pre>		<span class="token keyword">if</span><span class="token punctuation">(</span><span class="token class-name">StringUtils</span><span class="token punctuation">.</span><span class="token function">isNotBlank</span><span class="token punctuation">(</span>custSource<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="31"></td><td><pre>			customer<span class="token punctuation">.</span><span class="token function">setCust_source</span><span class="token punctuation">(</span>custSource<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="32"></td><td><pre>		<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="33"></td><td><pre>		<span class="token comment">// 判断客户所属行业</span></pre></td></tr><tr><td data-num="34"></td><td><pre>		<span class="token keyword">if</span><span class="token punctuation">(</span><span class="token class-name">StringUtils</span><span class="token punctuation">.</span><span class="token function">isNotBlank</span><span class="token punctuation">(</span>custIndustry<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="35"></td><td><pre>			customer<span class="token punctuation">.</span><span class="token function">setCust_industry</span><span class="token punctuation">(</span>custIndustry<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="36"></td><td><pre>		<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="37"></td><td><pre>		<span class="token comment">// 判断客户级别</span></pre></td></tr><tr><td data-num="38"></td><td><pre>		<span class="token keyword">if</span><span class="token punctuation">(</span><span class="token class-name">StringUtils</span><span class="token punctuation">.</span><span class="token function">isNotBlank</span><span class="token punctuation">(</span>custLevel<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="39"></td><td><pre>			customer<span class="token punctuation">.</span><span class="token function">setCust_level</span><span class="token punctuation">(</span>custLevel<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="40"></td><td><pre>		<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="41"></td><td><pre>		<span class="token comment">// 当前页</span></pre></td></tr><tr><td data-num="42"></td><td><pre>		customer<span class="token punctuation">.</span><span class="token function">setStart</span><span class="token punctuation">(</span><span class="token punctuation">(</span>page<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">*</span> rows<span class="token punctuation">)</span> <span class="token punctuation">;</span></pre></td></tr><tr><td data-num="43"></td><td><pre>		<span class="token comment">// 每页数</span></pre></td></tr><tr><td data-num="44"></td><td><pre>		customer<span class="token punctuation">.</span><span class="token function">setRows</span><span class="token punctuation">(</span>rows<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="45"></td><td><pre>		<span class="token comment">// 查询客户列表</span></pre></td></tr><tr><td data-num="46"></td><td><pre>		<span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Customer</span><span class="token punctuation">></span></span> customers <span class="token operator">=</span>  customerDao<span class="token punctuation">.</span><span class="token function">selectCustomerList</span><span class="token punctuation">(</span>customer<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="47"></td><td><pre>		<span class="token comment">// 查询客户列表总记录数</span></pre></td></tr><tr><td data-num="48"></td><td><pre>		<span class="token class-name">Integer</span> count <span class="token operator">=</span> customerDao<span class="token punctuation">.</span><span class="token function">selectCustomerListCount</span><span class="token punctuation">(</span>customer<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="49"></td><td><pre>		<span class="token comment">// 创建 Page 返回对象</span></pre></td></tr><tr><td data-num="50"></td><td><pre>		<span class="token class-name">Page</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Customer</span><span class="token punctuation">></span></span> result <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Page</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="51"></td><td><pre>		result<span class="token punctuation">.</span><span class="token function">setPage</span><span class="token punctuation">(</span>page<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="52"></td><td><pre>		result<span class="token punctuation">.</span><span class="token function">setRows</span><span class="token punctuation">(</span>customers<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="53"></td><td><pre>		result<span class="token punctuation">.</span><span class="token function">setSize</span><span class="token punctuation">(</span>rows<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="54"></td><td><pre>		result<span class="token punctuation">.</span><span class="token function">setTotal</span><span class="token punctuation">(</span>count<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="55"></td><td><pre>		<span class="token keyword">return</span> result<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="56"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="57"></td><td><pre>	<span class="token comment">/**</span></pre></td></tr><tr><td data-num="58"></td><td><pre>	 * 创建客户</pre></td></tr><tr><td data-num="59"></td><td><pre>	 */</pre></td></tr><tr><td data-num="60"></td><td><pre>	<span class="token annotation punctuation">@Override</span></pre></td></tr><tr><td data-num="61"></td><td><pre>	<span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">createCustomer</span><span class="token punctuation">(</span><span class="token class-name">Customer</span> customer<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="62"></td><td><pre>	    <span class="token keyword">return</span> customerDao<span class="token punctuation">.</span><span class="token function">createCustomer</span><span class="token punctuation">(</span>customer<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="63"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="64"></td><td><pre>	<span class="token comment">/**</span></pre></td></tr><tr><td data-num="65"></td><td><pre>	 * 通过 id 查询客户</pre></td></tr><tr><td data-num="66"></td><td><pre>	 */</pre></td></tr><tr><td data-num="67"></td><td><pre>	<span class="token annotation punctuation">@Override</span></pre></td></tr><tr><td data-num="68"></td><td><pre>	<span class="token keyword">public</span> <span class="token class-name">Customer</span> <span class="token function">getCustomerById</span><span class="token punctuation">(</span><span class="token class-name">Integer</span> id<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>	</pre></td></tr><tr><td data-num="69"></td><td><pre>	    <span class="token class-name">Customer</span> customer <span class="token operator">=</span> customerDao<span class="token punctuation">.</span><span class="token function">getCustomerById</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="70"></td><td><pre>	    <span class="token keyword">return</span> customer<span class="token punctuation">;</span>		</pre></td></tr><tr><td data-num="71"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="72"></td><td><pre>	<span class="token comment">/**</span></pre></td></tr><tr><td data-num="73"></td><td><pre>	 * 更新客户</pre></td></tr><tr><td data-num="74"></td><td><pre>	 */</pre></td></tr><tr><td data-num="75"></td><td><pre>	<span class="token annotation punctuation">@Override</span></pre></td></tr><tr><td data-num="76"></td><td><pre>	<span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">updateCustomer</span><span class="token punctuation">(</span><span class="token class-name">Customer</span> customer<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="77"></td><td><pre>	    <span class="token keyword">return</span> customerDao<span class="token punctuation">.</span><span class="token function">updateCustomer</span><span class="token punctuation">(</span>customer<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="78"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="79"></td><td><pre>	<span class="token comment">/**</span></pre></td></tr><tr><td data-num="80"></td><td><pre>	 * 删除客户</pre></td></tr><tr><td data-num="81"></td><td><pre>	 */</pre></td></tr><tr><td data-num="82"></td><td><pre>	<span class="token annotation punctuation">@Override</span></pre></td></tr><tr><td data-num="83"></td><td><pre>	<span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">deleteCustomer</span><span class="token punctuation">(</span><span class="token class-name">Integer</span> id<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="84"></td><td><pre>	    <span class="token keyword">return</span> customerDao<span class="token punctuation">.</span><span class="token function">deleteCustomer</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>	</pre></td></tr><tr><td data-num="85"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="86"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><h4 id="创建客户控制器类"><a class="anchor" href="#创建客户控制器类">#</a> 创建客户控制器类</h4><blockquote><p>boot-crm\src\com\itheima\core\web\controller\ CustomerController.java</p></blockquote><figure class="highlight java"><figcaption data-lang="java"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>itheima<span class="token punctuation">.</span>core<span class="token punctuation">.</span>web<span class="token punctuation">.</span>controller</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>sql<span class="token punctuation">.</span></span><span class="token class-name">Timestamp</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Date</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">List</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="5"></td><td><pre></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token keyword">import</span> <span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpSession</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="7"></td><td><pre></pre></td></tr><tr><td data-num="8"></td><td><pre><span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>beans<span class="token punctuation">.</span>factory<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Autowired</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="9"></td><td><pre><span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>beans<span class="token punctuation">.</span>factory<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Value</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="10"></td><td><pre><span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>stereotype<span class="token punctuation">.</span></span><span class="token class-name">Controller</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="11"></td><td><pre><span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>ui<span class="token punctuation">.</span></span><span class="token class-name">Model</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="12"></td><td><pre><span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>web<span class="token punctuation">.</span>bind<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">RequestMapping</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="13"></td><td><pre><span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>web<span class="token punctuation">.</span>bind<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">RequestParam</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="14"></td><td><pre><span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>web<span class="token punctuation">.</span>bind<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">ResponseBody</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="15"></td><td><pre></pre></td></tr><tr><td data-num="16"></td><td><pre><span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>itheima<span class="token punctuation">.</span>common<span class="token punctuation">.</span>utils<span class="token punctuation">.</span></span><span class="token class-name">Page</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="17"></td><td><pre><span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>itheima<span class="token punctuation">.</span>core<span class="token punctuation">.</span>po<span class="token punctuation">.</span></span><span class="token class-name">BaseDict</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="18"></td><td><pre><span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>itheima<span class="token punctuation">.</span>core<span class="token punctuation">.</span>po<span class="token punctuation">.</span></span><span class="token class-name">Customer</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="19"></td><td><pre><span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>itheima<span class="token punctuation">.</span>core<span class="token punctuation">.</span>po<span class="token punctuation">.</span></span><span class="token class-name">User</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="20"></td><td><pre><span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>itheima<span class="token punctuation">.</span>core<span class="token punctuation">.</span>service<span class="token punctuation">.</span></span><span class="token class-name">BaseDictService</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="21"></td><td><pre><span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>itheima<span class="token punctuation">.</span>core<span class="token punctuation">.</span>service<span class="token punctuation">.</span></span><span class="token class-name">CustomerService</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="22"></td><td><pre><span class="token comment">/**</span></pre></td></tr><tr><td data-num="23"></td><td><pre> * 客户管理控制器类</pre></td></tr><tr><td data-num="24"></td><td><pre> */</pre></td></tr><tr><td data-num="25"></td><td><pre><span class="token annotation punctuation">@Controller</span></pre></td></tr><tr><td data-num="26"></td><td><pre><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">CustomerController</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="27"></td><td><pre>	<span class="token comment">// 依赖注入</span></pre></td></tr><tr><td data-num="28"></td><td><pre>	<span class="token annotation punctuation">@Autowired</span></pre></td></tr><tr><td data-num="29"></td><td><pre>	<span class="token keyword">private</span> <span class="token class-name">CustomerService</span> customerService<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="30"></td><td><pre>	<span class="token annotation punctuation">@Autowired</span></pre></td></tr><tr><td data-num="31"></td><td><pre>	<span class="token keyword">private</span> <span class="token class-name">BaseDictService</span> baseDictService<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="32"></td><td><pre>	<span class="token comment">// 客户来源</span></pre></td></tr><tr><td data-num="33"></td><td><pre>	<span class="token annotation punctuation">@Value</span><span class="token punctuation">(</span><span class="token string">"$&#123;customer.from.type&#125;"</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="34"></td><td><pre>	<span class="token keyword">private</span> <span class="token class-name">String</span> FROM_TYPE<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="35"></td><td><pre>	<span class="token comment">// 客户所属行业</span></pre></td></tr><tr><td data-num="36"></td><td><pre>	<span class="token annotation punctuation">@Value</span><span class="token punctuation">(</span><span class="token string">"$&#123;customer.industry.type&#125;"</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="37"></td><td><pre>	<span class="token keyword">private</span> <span class="token class-name">String</span> INDUSTRY_TYPE<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="38"></td><td><pre>	<span class="token comment">// 客户级别</span></pre></td></tr><tr><td data-num="39"></td><td><pre>	<span class="token annotation punctuation">@Value</span><span class="token punctuation">(</span><span class="token string">"$&#123;customer.level.type&#125;"</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="40"></td><td><pre>	<span class="token keyword">private</span> <span class="token class-name">String</span> LEVEL_TYPE<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="41"></td><td><pre>	<span class="token comment">/**</span></pre></td></tr><tr><td data-num="42"></td><td><pre>	 *  客户列表</pre></td></tr><tr><td data-num="43"></td><td><pre>	 */</pre></td></tr><tr><td data-num="44"></td><td><pre>	<span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">"/customer/list.action"</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="45"></td><td><pre>	<span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">list</span><span class="token punctuation">(</span><span class="token annotation punctuation">@RequestParam</span><span class="token punctuation">(</span>defaultValue<span class="token operator">=</span><span class="token string">"1"</span><span class="token punctuation">)</span><span class="token class-name">Integer</span> page<span class="token punctuation">,</span></pre></td></tr><tr><td data-num="46"></td><td><pre>			<span class="token annotation punctuation">@RequestParam</span><span class="token punctuation">(</span>defaultValue<span class="token operator">=</span><span class="token string">"10"</span><span class="token punctuation">)</span><span class="token class-name">Integer</span> rows<span class="token punctuation">,</span> </pre></td></tr><tr><td data-num="47"></td><td><pre>			<span class="token class-name">String</span> custName<span class="token punctuation">,</span> <span class="token class-name">String</span> custSource<span class="token punctuation">,</span> <span class="token class-name">String</span> custIndustry<span class="token punctuation">,</span></pre></td></tr><tr><td data-num="48"></td><td><pre>			<span class="token class-name">String</span> custLevel<span class="token punctuation">,</span> <span class="token class-name">Model</span> model<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="49"></td><td><pre>		<span class="token comment">// 条件查询所有客户</span></pre></td></tr><tr><td data-num="50"></td><td><pre>		<span class="token class-name">Page</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Customer</span><span class="token punctuation">></span></span> customers <span class="token operator">=</span> customerService</pre></td></tr><tr><td data-num="51"></td><td><pre>				<span class="token punctuation">.</span><span class="token function">findCustomerList</span><span class="token punctuation">(</span>page<span class="token punctuation">,</span> rows<span class="token punctuation">,</span> custName<span class="token punctuation">,</span> </pre></td></tr><tr><td data-num="52"></td><td><pre>                                                        custSource<span class="token punctuation">,</span> custIndustry<span class="token punctuation">,</span>custLevel<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="53"></td><td><pre>		model<span class="token punctuation">.</span><span class="token function">addAttribute</span><span class="token punctuation">(</span><span class="token string">"page"</span><span class="token punctuation">,</span> customers<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="54"></td><td><pre>		<span class="token comment">// 客户来源</span></pre></td></tr><tr><td data-num="55"></td><td><pre>		<span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">BaseDict</span><span class="token punctuation">></span></span> fromType <span class="token operator">=</span> baseDictService<span class="token punctuation">.</span><span class="token function">findBaseDictByTypeCode</span><span class="token punctuation">(</span>FROM_TYPE<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="56"></td><td><pre>		<span class="token comment">// 客户所属行业</span></pre></td></tr><tr><td data-num="57"></td><td><pre>		<span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">BaseDict</span><span class="token punctuation">></span></span> industryType <span class="token operator">=</span> baseDictService<span class="token punctuation">.</span><span class="token function">findBaseDictByTypeCode</span><span class="token punctuation">(</span>INDUSTRY_TYPE<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="58"></td><td><pre>		<span class="token comment">// 客户级别</span></pre></td></tr><tr><td data-num="59"></td><td><pre>		<span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">BaseDict</span><span class="token punctuation">></span></span> levelType <span class="token operator">=</span> baseDictService<span class="token punctuation">.</span><span class="token function">findBaseDictByTypeCode</span><span class="token punctuation">(</span>LEVEL_TYPE<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="60"></td><td><pre>		<span class="token comment">// 添加参数</span></pre></td></tr><tr><td data-num="61"></td><td><pre>		model<span class="token punctuation">.</span><span class="token function">addAttribute</span><span class="token punctuation">(</span><span class="token string">"fromType"</span><span class="token punctuation">,</span> fromType<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="62"></td><td><pre>		model<span class="token punctuation">.</span><span class="token function">addAttribute</span><span class="token punctuation">(</span><span class="token string">"industryType"</span><span class="token punctuation">,</span> industryType<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="63"></td><td><pre>		model<span class="token punctuation">.</span><span class="token function">addAttribute</span><span class="token punctuation">(</span><span class="token string">"levelType"</span><span class="token punctuation">,</span> levelType<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="64"></td><td><pre>		model<span class="token punctuation">.</span><span class="token function">addAttribute</span><span class="token punctuation">(</span><span class="token string">"custName"</span><span class="token punctuation">,</span> custName<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="65"></td><td><pre>		model<span class="token punctuation">.</span><span class="token function">addAttribute</span><span class="token punctuation">(</span><span class="token string">"custSource"</span><span class="token punctuation">,</span> custSource<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="66"></td><td><pre>		model<span class="token punctuation">.</span><span class="token function">addAttribute</span><span class="token punctuation">(</span><span class="token string">"custIndustry"</span><span class="token punctuation">,</span> custIndustry<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="67"></td><td><pre>		model<span class="token punctuation">.</span><span class="token function">addAttribute</span><span class="token punctuation">(</span><span class="token string">"custLevel"</span><span class="token punctuation">,</span> custLevel<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="68"></td><td><pre>		<span class="token keyword">return</span> <span class="token string">"customer"</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="69"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="70"></td><td><pre>	</pre></td></tr><tr><td data-num="71"></td><td><pre>	<span class="token comment">/**</span></pre></td></tr><tr><td data-num="72"></td><td><pre>	 * 创建客户</pre></td></tr><tr><td data-num="73"></td><td><pre>	 */</pre></td></tr><tr><td data-num="74"></td><td><pre>	<span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">"/customer/create.action"</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="75"></td><td><pre>	<span class="token annotation punctuation">@ResponseBody</span></pre></td></tr><tr><td data-num="76"></td><td><pre>	<span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">customerCreate</span><span class="token punctuation">(</span><span class="token class-name">Customer</span> customer<span class="token punctuation">,</span><span class="token class-name">HttpSession</span> session<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="77"></td><td><pre>	    <span class="token comment">// 获取 Session 中的当前用户信息</span></pre></td></tr><tr><td data-num="78"></td><td><pre>	    <span class="token class-name">User</span> user <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">User</span><span class="token punctuation">)</span> session<span class="token punctuation">.</span><span class="token function">getAttribute</span><span class="token punctuation">(</span><span class="token string">"USER_SESSION"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="79"></td><td><pre>	    <span class="token comment">// 将当前用户 id 存储在客户对象中</span></pre></td></tr><tr><td data-num="80"></td><td><pre>	    customer<span class="token punctuation">.</span><span class="token function">setCust_create_id</span><span class="token punctuation">(</span>user<span class="token punctuation">.</span><span class="token function">getUser_id</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="81"></td><td><pre>	    <span class="token comment">// 创建 Date 对象</span></pre></td></tr><tr><td data-num="82"></td><td><pre>	    <span class="token class-name">Date</span> date <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="83"></td><td><pre>	    <span class="token comment">// 得到一个 Timestamp 格式的时间，存入 mysql 中的时间格式 “yyyy/MM/dd HH:mm:ss”</span></pre></td></tr><tr><td data-num="84"></td><td><pre>	    <span class="token class-name">Timestamp</span> timeStamp <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Timestamp</span><span class="token punctuation">(</span>date<span class="token punctuation">.</span><span class="token function">getTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="85"></td><td><pre>	    customer<span class="token punctuation">.</span><span class="token function">setCust_createtime</span><span class="token punctuation">(</span>timeStamp<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="86"></td><td><pre>	    <span class="token comment">// 执行 Service 层中的创建方法，返回的是受影响的行数</span></pre></td></tr><tr><td data-num="87"></td><td><pre>	    <span class="token keyword">int</span> rows <span class="token operator">=</span> customerService<span class="token punctuation">.</span><span class="token function">createCustomer</span><span class="token punctuation">(</span>customer<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="88"></td><td><pre>	    <span class="token keyword">if</span><span class="token punctuation">(</span>rows <span class="token operator">></span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="89"></td><td><pre>	        <span class="token keyword">return</span> <span class="token string">"OK"</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="90"></td><td><pre>	    <span class="token punctuation">&#125;</span><span class="token keyword">else</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="91"></td><td><pre>	        <span class="token keyword">return</span> <span class="token string">"FAIL"</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="92"></td><td><pre>	    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="93"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="94"></td><td><pre></pre></td></tr><tr><td data-num="95"></td><td><pre>	<span class="token comment">/**</span></pre></td></tr><tr><td data-num="96"></td><td><pre>	 * 通过 id 获取客户信息</pre></td></tr><tr><td data-num="97"></td><td><pre>	 */</pre></td></tr><tr><td data-num="98"></td><td><pre>	<span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">"/customer/getCustomerById.action"</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="99"></td><td><pre>	<span class="token annotation punctuation">@ResponseBody</span></pre></td></tr><tr><td data-num="100"></td><td><pre>	<span class="token keyword">public</span> <span class="token class-name">Customer</span> <span class="token function">getCustomerById</span><span class="token punctuation">(</span><span class="token class-name">Integer</span> id<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="101"></td><td><pre>	    <span class="token class-name">Customer</span> customer <span class="token operator">=</span> customerService<span class="token punctuation">.</span><span class="token function">getCustomerById</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="102"></td><td><pre>	    <span class="token keyword">return</span> customer<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="103"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="104"></td><td><pre>	<span class="token comment">/**</span></pre></td></tr><tr><td data-num="105"></td><td><pre>	 * 更新客户</pre></td></tr><tr><td data-num="106"></td><td><pre>	 */</pre></td></tr><tr><td data-num="107"></td><td><pre>	<span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">"/customer/update.action"</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="108"></td><td><pre>	<span class="token annotation punctuation">@ResponseBody</span></pre></td></tr><tr><td data-num="109"></td><td><pre>	<span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">customerUpdate</span><span class="token punctuation">(</span><span class="token class-name">Customer</span> customer<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="110"></td><td><pre>	    <span class="token keyword">int</span> rows <span class="token operator">=</span> customerService<span class="token punctuation">.</span><span class="token function">updateCustomer</span><span class="token punctuation">(</span>customer<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="111"></td><td><pre>	    <span class="token keyword">if</span><span class="token punctuation">(</span>rows <span class="token operator">></span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="112"></td><td><pre>	        <span class="token keyword">return</span> <span class="token string">"OK"</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="113"></td><td><pre>	    <span class="token punctuation">&#125;</span><span class="token keyword">else</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="114"></td><td><pre>	        <span class="token keyword">return</span> <span class="token string">"FAIL"</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="115"></td><td><pre>	    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="116"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="117"></td><td><pre></pre></td></tr><tr><td data-num="118"></td><td><pre>	<span class="token comment">/**</span></pre></td></tr><tr><td data-num="119"></td><td><pre>	 * 删除客户</pre></td></tr><tr><td data-num="120"></td><td><pre>	 */</pre></td></tr><tr><td data-num="121"></td><td><pre>	<span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">"/customer/delete.action"</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="122"></td><td><pre>	<span class="token annotation punctuation">@ResponseBody</span></pre></td></tr><tr><td data-num="123"></td><td><pre>	<span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">customerDelete</span><span class="token punctuation">(</span><span class="token class-name">Integer</span> id<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="124"></td><td><pre>	    <span class="token keyword">int</span> rows <span class="token operator">=</span> customerService<span class="token punctuation">.</span><span class="token function">deleteCustomer</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="125"></td><td><pre>	    <span class="token keyword">if</span><span class="token punctuation">(</span>rows <span class="token operator">></span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>			</pre></td></tr><tr><td data-num="126"></td><td><pre>	        <span class="token keyword">return</span> <span class="token string">"OK"</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="127"></td><td><pre>	    <span class="token punctuation">&#125;</span><span class="token keyword">else</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="128"></td><td><pre>	        <span class="token keyword">return</span> <span class="token string">"FAIL"</span><span class="token punctuation">;</span>			</pre></td></tr><tr><td data-num="129"></td><td><pre>	    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="130"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="131"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><h3 id="查询客户信息"><a class="anchor" href="#查询客户信息">#</a> 查询客户信息</h3><blockquote><p>包括按条件查询、查询所有客户信息，以及分页查询</p></blockquote><h4 id="创建条件查询"><a class="anchor" href="#创建条件查询">#</a> 创建条件查询</h4><h5 id="总前端配置-customerjsp"><a class="anchor" href="#总前端配置-customerjsp">#</a> 总前端配置 customer.jsp</h5><pre><code class="language-jsp">&lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=UTF-8&quot;
	pageEncoding=&quot;UTF-8&quot;%&gt;
&lt;%@ page trimDirectiveWhitespaces=&quot;true&quot;%&gt;
&lt;%@ taglib prefix=&quot;c&quot; uri=&quot;http://java.sun.com/jsp/jstl/core&quot;%&gt;
&lt;%@ taglib prefix=&quot;itheima&quot; uri=&quot;http://itheima.com/common/&quot;%&gt;
&lt;%
	String path = request.getContextPath();
	String basePath = request.getScheme() + &quot;://&quot; + request.getServerName() 
	                   + &quot;:&quot; + request.getServerPort() + path + &quot;/&quot;;
%&gt;
&lt;!DOCTYPE HTML&gt;
&lt;html&gt;
&lt;head&gt;
	&lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=UTF-8&quot;&gt;
	&lt;title&gt;客户管理-BootCRM&lt;/title&gt;
	&lt;!-- 引入css样式文件 --&gt;
	&lt;!-- Bootstrap Core CSS --&gt;
	&lt;link href=&quot;&lt;%=basePath%&gt;css/bootstrap.min.css&quot; rel=&quot;stylesheet&quot; /&gt;
	&lt;!-- MetisMenu CSS --&gt;
	&lt;link href=&quot;&lt;%=basePath%&gt;css/metisMenu.min.css&quot; rel=&quot;stylesheet&quot; /&gt;
	&lt;!-- DataTables CSS --&gt;
	&lt;link href=&quot;&lt;%=basePath%&gt;css/dataTables.bootstrap.css&quot; rel=&quot;stylesheet&quot; /&gt;
	&lt;!-- Custom CSS --&gt;
	&lt;link href=&quot;&lt;%=basePath%&gt;css/sb-admin-2.css&quot; rel=&quot;stylesheet&quot; /&gt;
	&lt;!-- Custom Fonts --&gt;
	&lt;link href=&quot;&lt;%=basePath%&gt;css/font-awesome.min.css&quot; rel=&quot;stylesheet&quot; type=&quot;text/css&quot; /&gt;
	&lt;link href=&quot;&lt;%=basePath%&gt;css/boot-crm.css&quot; rel=&quot;stylesheet&quot; type=&quot;text/css&quot; /&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;div id=&quot;wrapper&quot;&gt;
  &lt;!-- 导航栏部分 --&gt;
  &lt;nav class=&quot;navbar navbar-default navbar-static-top&quot; role=&quot;navigation&quot;
		 style=&quot;margin-bottom: 0&quot;&gt;
	&lt;div class=&quot;navbar-header&quot;&gt;
		&lt;a class=&quot;navbar-brand&quot; href=&quot;&lt;%=basePath%&gt;customer/list.action&quot;&gt;BOOT客户管理系统 v2.0&lt;/a&gt;
	&lt;/div&gt;
	&lt;!-- 导航栏右侧图标部分 --&gt;
	&lt;ul class=&quot;nav navbar-top-links navbar-right&quot;&gt;
	    &lt;!-- 邮件通知 start --&gt;
		&lt;li class=&quot;dropdown&quot;&gt;
			&lt;a class=&quot;dropdown-toggle&quot; data-toggle=&quot;dropdown&quot; href=&quot;#&quot;&gt; 
				&lt;i class=&quot;fa fa-envelope fa-fw&quot;&gt;&lt;/i&gt;
				&lt;i class=&quot;fa fa-caret-down&quot;&gt;&lt;/i&gt;
			&lt;/a&gt;
			&lt;ul class=&quot;dropdown-menu dropdown-messages&quot;&gt;
				&lt;li&gt;
				    &lt;a href=&quot;#&quot;&gt;
						&lt;div&gt;
							&lt;strong&gt;张经理&lt;/strong&gt; &lt;span class=&quot;pull-right text-muted&quot;&gt;
								&lt;em&gt;昨天&lt;/em&gt;
							&lt;/span&gt;
						&lt;/div&gt;
						&lt;div&gt;今天晚上开会，讨论一下下个月工作的事...&lt;/div&gt;
				    &lt;/a&gt;
				&lt;/li&gt;
				&lt;li class=&quot;divider&quot;&gt;&lt;/li&gt;
				&lt;li&gt;
				    &lt;a class=&quot;text-center&quot; href=&quot;#&quot;&gt;
				        &lt;strong&gt;查看全部消息&lt;/strong&gt;
						&lt;i class=&quot;fa fa-angle-right&quot;&gt;&lt;/i&gt;
				    &lt;/a&gt;
				&lt;/li&gt;
			&lt;/ul&gt;
		&lt;/li&gt;
		&lt;!-- 邮件通知 end --&gt;
		&lt;!-- 任务通知 start --&gt;
		&lt;li class=&quot;dropdown&quot;&gt;
			&lt;a class=&quot;dropdown-toggle&quot; data-toggle=&quot;dropdown&quot; href=&quot;#&quot;&gt; 
			    &lt;i class=&quot;fa fa-tasks fa-fw&quot;&gt;&lt;/i&gt;
				&lt;i class=&quot;fa fa-caret-down&quot;&gt;&lt;/i&gt;
			&lt;/a&gt;
			&lt;ul class=&quot;dropdown-menu dropdown-tasks&quot;&gt;
				&lt;li&gt;
				    &lt;a href=&quot;#&quot;&gt;
						&lt;div&gt;
							&lt;p&gt;
								&lt;strong&gt;任务 1&lt;/strong&gt; 
								&lt;span class=&quot;pull-right text-muted&quot;&gt;完成40%&lt;/span&gt;
							&lt;/p&gt;
							&lt;div class=&quot;progress progress-striped active&quot;&gt;
								&lt;div class=&quot;progress-bar progress-bar-success&quot;
									role=&quot;progressbar&quot; aria-valuenow=&quot;40&quot; aria-valuemin=&quot;0&quot;
									aria-valuemax=&quot;100&quot; style=&quot;width: 40%&quot;&gt;
									&lt;span class=&quot;sr-only&quot;&gt;完成40%&lt;/span&gt;
								&lt;/div&gt;
							&lt;/div&gt;
						&lt;/div&gt;
				    &lt;/a&gt;
				&lt;/li&gt;
				&lt;li class=&quot;divider&quot;&gt;&lt;/li&gt;
				&lt;li&gt;
				    &lt;a href=&quot;#&quot;&gt;
						&lt;div&gt;
							&lt;p&gt;
								&lt;strong&gt;任务 2&lt;/strong&gt; 
								&lt;span class=&quot;pull-right text-muted&quot;&gt;完成20%&lt;/span&gt;
							&lt;/p&gt;
							&lt;div class=&quot;progress progress-striped active&quot;&gt;
								&lt;div class=&quot;progress-bar progress-bar-info&quot; role=&quot;progressbar&quot;
									aria-valuenow=&quot;20&quot; aria-valuemin=&quot;0&quot; aria-valuemax=&quot;100&quot;
									style=&quot;width: 20%&quot;&gt;
									&lt;span class=&quot;sr-only&quot;&gt;完成20%&lt;/span&gt;
								&lt;/div&gt;
							&lt;/div&gt;
						&lt;/div&gt;
				    &lt;/a&gt;
				&lt;/li&gt;
				&lt;li class=&quot;divider&quot;&gt;&lt;/li&gt;
				&lt;li&gt;
				    &lt;a class=&quot;text-center&quot; href=&quot;#&quot;&gt; 
				        &lt;strong&gt;查看所有任务&lt;/strong&gt;
						&lt;i class=&quot;fa fa-angle-right&quot;&gt;&lt;/i&gt;
				    &lt;/a&gt;
				&lt;/li&gt;
			&lt;/ul&gt; 
		&lt;/li&gt;
		&lt;!-- 任务通知 end --&gt;
		&lt;!-- 消息通知 start --&gt;
		&lt;li class=&quot;dropdown&quot;&gt;
			&lt;a class=&quot;dropdown-toggle&quot; data-toggle=&quot;dropdown&quot; href=&quot;#&quot;&gt; 
				&lt;i class=&quot;fa fa-bell fa-fw&quot;&gt;&lt;/i&gt;
				&lt;i class=&quot;fa fa-caret-down&quot;&gt;&lt;/i&gt;
			&lt;/a&gt;
			&lt;ul class=&quot;dropdown-menu dropdown-alerts&quot;&gt;
				&lt;li&gt;
				    &lt;a href=&quot;#&quot;&gt;
						&lt;div&gt;
							&lt;i class=&quot;fa fa-comment fa-fw&quot;&gt;&lt;/i&gt; 新回复 
							&lt;span class=&quot;pull-right text-muted small&quot;&gt;4分钟之前&lt;/span&gt;
						&lt;/div&gt;
				    &lt;/a&gt;
				&lt;/li&gt;
				&lt;li class=&quot;divider&quot;&gt;&lt;/li&gt;
				&lt;li&gt;
				    &lt;a href=&quot;#&quot;&gt;
						&lt;div&gt;
							&lt;i class=&quot;fa fa-envelope fa-fw&quot;&gt;&lt;/i&gt; 新消息 
							&lt;span class=&quot;pull-right text-muted small&quot;&gt;4分钟之前&lt;/span&gt;
						&lt;/div&gt;
				    &lt;/a&gt;
				&lt;/li&gt;
				&lt;li class=&quot;divider&quot;&gt;&lt;/li&gt;
				&lt;li&gt;
				    &lt;a href=&quot;#&quot;&gt;
						&lt;div&gt;
							&lt;i class=&quot;fa fa-tasks fa-fw&quot;&gt;&lt;/i&gt; 新任务 
							&lt;span class=&quot;pull-right text-muted small&quot;&gt;4分钟之前&lt;/span&gt;
						&lt;/div&gt;
				    &lt;/a&gt;
				&lt;/li&gt;
				&lt;li class=&quot;divider&quot;&gt;&lt;/li&gt;
				&lt;li&gt;
				    &lt;a href=&quot;#&quot;&gt;
						&lt;div&gt;
							&lt;i class=&quot;fa fa-upload fa-fw&quot;&gt;&lt;/i&gt; 服务器重启 
							&lt;span class=&quot;pull-right text-muted small&quot;&gt;4分钟之前&lt;/span&gt;
						&lt;/div&gt;
				    &lt;/a&gt;
				&lt;/li&gt;
				&lt;li class=&quot;divider&quot;&gt;&lt;/li&gt;
				&lt;li&gt;
				    &lt;a class=&quot;text-center&quot; href=&quot;#&quot;&gt; 
				        &lt;strong&gt;查看所有提醒&lt;/strong&gt;
						&lt;i class=&quot;fa fa-angle-right&quot;&gt;&lt;/i&gt;
				    &lt;/a&gt;
				&lt;/li&gt;
			&lt;/ul&gt; 
		&lt;/li&gt;
		&lt;!-- 消息通知 end --&gt;
		&lt;!-- 用户信息和系统设置 start --&gt;
		&lt;li class=&quot;dropdown&quot;&gt;
			&lt;a class=&quot;dropdown-toggle&quot; data-toggle=&quot;dropdown&quot; href=&quot;#&quot;&gt; 
				&lt;i class=&quot;fa fa-user fa-fw&quot;&gt;&lt;/i&gt;
				&lt;i class=&quot;fa fa-caret-down&quot;&gt;&lt;/i&gt;
			&lt;/a&gt;
			&lt;ul class=&quot;dropdown-menu dropdown-user&quot;&gt;
				&lt;li&gt;&lt;a href=&quot;#&quot;&gt;&lt;i class=&quot;fa fa-user fa-fw&quot;&gt;&lt;/i&gt;
				               用户：$&#123;USER_SESSION.user_name&#125;
				    &lt;/a&gt;
				&lt;/li&gt;
				&lt;li&gt;&lt;a href=&quot;#&quot;&gt;&lt;i class=&quot;fa fa-gear fa-fw&quot;&gt;&lt;/i&gt; 系统设置&lt;/a&gt;&lt;/li&gt;
				&lt;li class=&quot;divider&quot;&gt;&lt;/li&gt;
				&lt;li&gt;
					&lt;a href=&quot;$&#123;pageContext.request.contextPath &#125;/logout.action&quot;&gt;
					&lt;i class=&quot;fa fa-sign-out fa-fw&quot;&gt;&lt;/i&gt;退出登录
					&lt;/a&gt;
				&lt;/li&gt;
			&lt;/ul&gt; 
		&lt;/li&gt;
		&lt;!-- 用户信息和系统设置结束 --&gt;
	&lt;/ul&gt;
	&lt;!-- 左侧显示列表部分 start--&gt;
	&lt;div class=&quot;navbar-default sidebar&quot; role=&quot;navigation&quot;&gt;
		&lt;div class=&quot;sidebar-nav navbar-collapse&quot;&gt;
			&lt;ul class=&quot;nav&quot; id=&quot;side-menu&quot;&gt;
				&lt;li class=&quot;sidebar-search&quot;&gt;
					&lt;div class=&quot;input-group custom-search-form&quot;&gt;
						&lt;input type=&quot;text&quot; class=&quot;form-control&quot; placeholder=&quot;查询内容...&quot;&gt;
						&lt;span class=&quot;input-group-btn&quot;&gt;
							&lt;button class=&quot;btn btn-default&quot; type=&quot;button&quot;&gt;
								&lt;i class=&quot;fa fa-search&quot; style=&quot;padding: 3px 0 3px 0;&quot;&gt;&lt;/i&gt;
							&lt;/button&gt;
						&lt;/span&gt;
					&lt;/div&gt; 
				&lt;/li&gt;
				&lt;li&gt;
				    &lt;a href=&quot;$&#123;pageContext.request.contextPath &#125;/customer/list.action&quot; class=&quot;active&quot;&gt;
				      &lt;i class=&quot;fa fa-edit fa-fw&quot;&gt;&lt;/i&gt; 客户管理
				    &lt;/a&gt;
				&lt;/li&gt;
				&lt;li&gt;
				    &lt;a href=&quot;#&quot;&gt;
				      &lt;i class=&quot;fa fa-dashboard fa-fw&quot; &gt;&lt;/i&gt; 客户拜访
				    &lt;/a&gt;
				&lt;/li&gt;
			&lt;/ul&gt;
		&lt;/div&gt;
	&lt;/div&gt;
	&lt;!-- 左侧显示列表部分 end--&gt; 
  &lt;/nav&gt;
    &lt;!-- 客户列表查询部分  start--&gt;
	&lt;div id=&quot;page-wrapper&quot;&gt;
		&lt;div class=&quot;row&quot;&gt;
			&lt;div class=&quot;col-lg-12&quot;&gt;
				&lt;h1 class=&quot;page-header&quot;&gt;客户管理&lt;/h1&gt;
			&lt;/div&gt;
			&lt;!-- /.col-lg-12 --&gt;
		&lt;/div&gt;
		&lt;!-- /.row --&gt;
		&lt;div class=&quot;panel panel-default&quot;&gt;
			&lt;div class=&quot;panel-body&quot;&gt;
				&lt;form class=&quot;form-inline&quot; method=&quot;get&quot; 
				      action=&quot;$&#123;pageContext.request.contextPath &#125;/customer/list.action&quot;&gt;
					&lt;div class=&quot;form-group&quot;&gt;
						&lt;label for=&quot;customerName&quot;&gt;客户名称&lt;/label&gt; 
						&lt;input type=&quot;text&quot; class=&quot;form-control&quot; id=&quot;customerName&quot; 
						                   value=&quot;$&#123;custName &#125;&quot; name=&quot;custName&quot; /&gt;
					&lt;/div&gt;
					&lt;div class=&quot;form-group&quot;&gt;
						&lt;label for=&quot;customerFrom&quot;&gt;客户来源&lt;/label&gt; 
						&lt;select	class=&quot;form-control&quot; id=&quot;customerFrom&quot; name=&quot;custSource&quot;&gt;
							&lt;option value=&quot;&quot;&gt;--请选择--&lt;/option&gt;
							&lt;c:forEach items=&quot;$&#123;fromType&#125;&quot; var=&quot;item&quot;&gt;
								&lt;option value=&quot;$&#123;item.dict_id&#125;&quot;
								       &lt;c:if test=&quot;$&#123;item.dict_id == custSource&#125;&quot;&gt;selected&lt;/c:if&gt;&gt;
								    $&#123;item.dict_item_name &#125;
								&lt;/option&gt;
							&lt;/c:forEach&gt;
						&lt;/select&gt;
					&lt;/div&gt;
					&lt;div class=&quot;form-group&quot;&gt;
						&lt;label for=&quot;custIndustry&quot;&gt;所属行业&lt;/label&gt; 
						&lt;select	class=&quot;form-control&quot; id=&quot;custIndustry&quot;  name=&quot;custIndustry&quot;&gt;
							&lt;option value=&quot;&quot;&gt;--请选择--&lt;/option&gt;
							&lt;c:forEach items=&quot;$&#123;industryType&#125;&quot; var=&quot;item&quot;&gt;
								&lt;option value=&quot;$&#123;item.dict_id&#125;&quot;
								        &lt;c:if test=&quot;$&#123;item.dict_id == custIndustry&#125;&quot;&gt; selected&lt;/c:if&gt;&gt;
								    $&#123;item.dict_item_name &#125;
								&lt;/option&gt;
							&lt;/c:forEach&gt;
						&lt;/select&gt;
					&lt;/div&gt;
					&lt;div class=&quot;form-group&quot;&gt;
						&lt;label for=&quot;custLevel&quot;&gt;客户级别&lt;/label&gt;
						&lt;select	class=&quot;form-control&quot; id=&quot;custLevel&quot; name=&quot;custLevel&quot;&gt;
							&lt;option value=&quot;&quot;&gt;--请选择--&lt;/option&gt;
							&lt;c:forEach items=&quot;$&#123;levelType&#125;&quot; var=&quot;item&quot;&gt;
								&lt;option value=&quot;$&#123;item.dict_id&#125;&quot;
								        &lt;c:if test=&quot;$&#123;item.dict_id == custLevel&#125;&quot;&gt; selected&lt;/c:if&gt;&gt;
								    $&#123;item.dict_item_name &#125;
								&lt;/option&gt;
							&lt;/c:forEach&gt;
						&lt;/select&gt;
					&lt;/div&gt;
					&lt;button type=&quot;submit&quot; class=&quot;btn btn-primary&quot;&gt;查询&lt;/button&gt;
				&lt;/form&gt;
			&lt;/div&gt;
		&lt;/div&gt;
		&lt;a href=&quot;#&quot; class=&quot;btn btn-primary&quot; data-toggle=&quot;modal&quot; 
		           data-target=&quot;#newCustomerDialog&quot; onclick=&quot;clearCustomer()&quot;&gt;新建&lt;/a&gt;
		&lt;div class=&quot;row&quot;&gt;
			&lt;div class=&quot;col-lg-12&quot;&gt;
				&lt;div class=&quot;panel panel-default&quot;&gt;
					&lt;div class=&quot;panel-heading&quot;&gt;客户信息列表&lt;/div&gt;
					&lt;!-- /.panel-heading --&gt;
					&lt;table class=&quot;table table-bordered table-striped&quot;&gt;
						&lt;thead&gt;
							&lt;tr&gt;
								&lt;th&gt;编号&lt;/th&gt;
								&lt;th&gt;客户名称&lt;/th&gt;
								&lt;th&gt;客户来源&lt;/th&gt;
								&lt;th&gt;客户所属行业&lt;/th&gt;
								&lt;th&gt;客户级别&lt;/th&gt;
								&lt;th&gt;固定电话&lt;/th&gt;
								&lt;th&gt;手机&lt;/th&gt;
								&lt;th&gt;操作&lt;/th&gt;
							&lt;/tr&gt;
						&lt;/thead&gt;
						&lt;tbody&gt;
							&lt;c:forEach items=&quot;$&#123;page.rows&#125;&quot; var=&quot;row&quot;&gt;
								&lt;tr&gt;
									&lt;td&gt;$&#123;row.cust_id&#125;&lt;/td&gt;
									&lt;td&gt;$&#123;row.cust_name&#125;&lt;/td&gt;
									&lt;td&gt;$&#123;row.cust_source&#125;&lt;/td&gt;
									&lt;td&gt;$&#123;row.cust_industry&#125;&lt;/td&gt;
									&lt;td&gt;$&#123;row.cust_level&#125;&lt;/td&gt;
									&lt;td&gt;$&#123;row.cust_phone&#125;&lt;/td&gt;
								    &lt;td&gt;$&#123;row.cust_mobile&#125;&lt;/td&gt;
									&lt;td&gt;
										&lt;a href=&quot;#&quot; class=&quot;btn btn-primary btn-xs&quot; data-toggle=&quot;modal&quot; data-target=&quot;#customerEditDialog&quot; onclick= &quot;editCustomer($&#123;row.cust_id&#125;)&quot;&gt;修改&lt;/a&gt;
										&lt;a href=&quot;#&quot; class=&quot;btn btn-danger btn-xs&quot; onclick=&quot;deleteCustomer($&#123;row.cust_id&#125;)&quot;&gt;删除&lt;/a&gt;
									&lt;/td&gt;
								&lt;/tr&gt;
							&lt;/c:forEach&gt;
						&lt;/tbody&gt;
					&lt;/table&gt;
					&lt;div class=&quot;col-md-12 text-right&quot;&gt;
						&lt;itheima:page url=&quot;$&#123;pageContext.request.contextPath &#125;/customer/list.action&quot; /&gt;
					&lt;/div&gt;
					&lt;!-- /.panel-body --&gt;
				&lt;/div&gt;
				&lt;!-- /.panel --&gt;
			&lt;/div&gt;
			&lt;!-- /.col-lg-12 --&gt;
		&lt;/div&gt;
	&lt;/div&gt;
	&lt;!-- 客户列表查询部分  end--&gt;
&lt;/div&gt;
&lt;!-- 创建客户模态框 --&gt;
&lt;div class=&quot;modal fade&quot; id=&quot;newCustomerDialog&quot; tabindex=&quot;-1&quot; role=&quot;dialog&quot;
	aria-labelledby=&quot;myModalLabel&quot;&gt;
	&lt;div class=&quot;modal-dialog&quot; role=&quot;document&quot;&gt;
		&lt;div class=&quot;modal-content&quot;&gt;
			&lt;div class=&quot;modal-header&quot;&gt;
				&lt;button type=&quot;button&quot; class=&quot;close&quot; data-dismiss=&quot;modal&quot; aria-label=&quot;Close&quot;&gt;
					&lt;span aria-hidden=&quot;true&quot;&gt;&amp;times;&lt;/span&gt;
				&lt;/button&gt;
				&lt;h4 class=&quot;modal-title&quot; id=&quot;myModalLabel&quot;&gt;新建客户信息&lt;/h4&gt;
			&lt;/div&gt;
			&lt;div class=&quot;modal-body&quot;&gt;
				&lt;form class=&quot;form-horizontal&quot; id=&quot;new_customer_form&quot;&gt;
					&lt;div class=&quot;form-group&quot;&gt;
						&lt;label for=&quot;new_customerName&quot; class=&quot;col-sm-2 control-label&quot;&gt;
						    客户名称
						&lt;/label&gt;
						&lt;div class=&quot;col-sm-10&quot;&gt;
							&lt;input type=&quot;text&quot; class=&quot;form-control&quot; id=&quot;new_customerName&quot; placeholder=&quot;客户名称&quot; name=&quot;cust_name&quot; /&gt;
						&lt;/div&gt;
					&lt;/div&gt;
					&lt;div class=&quot;form-group&quot;&gt;
						&lt;label for=&quot;new_customerFrom&quot; style=&quot;float:left;padding:7px 15px 0 27px;&quot;&gt;客户来源&lt;/label&gt; 
						&lt;div class=&quot;col-sm-10&quot;&gt;
							&lt;select	class=&quot;form-control&quot; id=&quot;new_customerFrom&quot; name=&quot;cust_source&quot;&gt;
								&lt;option value=&quot;&quot;&gt;--请选择--&lt;/option&gt;
								&lt;c:forEach items=&quot;$&#123;fromType&#125;&quot; var=&quot;item&quot;&gt;
									&lt;option value=&quot;$&#123;item.dict_id&#125;&quot;&lt;c:if test=&quot;$&#123;item.dict_id == custSource&#125;&quot;&gt;selected&lt;/c:if&gt;&gt;
									$&#123;item.dict_item_name &#125;									
									&lt;/option&gt;
								&lt;/c:forEach&gt;
							&lt;/select&gt;
						&lt;/div&gt;
					&lt;/div&gt;
					&lt;div class=&quot;form-group&quot;&gt;
						&lt;label for=&quot;new_custIndustry&quot; style=&quot;float:left;padding:7px 15px 0 27px;&quot;&gt;所属行业&lt;/label&gt;
						&lt;div class=&quot;col-sm-10&quot;&gt; 
							&lt;select	class=&quot;form-control&quot; id=&quot;new_custIndustry&quot;  name=&quot;cust_industry&quot;&gt;
								&lt;option value=&quot;&quot;&gt;--请选择--&lt;/option&gt;
								&lt;c:forEach items=&quot;$&#123;industryType&#125;&quot; var=&quot;item&quot;&gt;
									&lt;option value=&quot;$&#123;item.dict_id&#125;&quot;&lt;c:if test=&quot;$&#123;item.dict_id == custIndustry&#125;&quot;&gt; selected&lt;/c:if&gt;&gt;
									$&#123;item.dict_item_name &#125;
									&lt;/option&gt;
								&lt;/c:forEach&gt;
							&lt;/select&gt;
						&lt;/div&gt;
					&lt;/div&gt;
					&lt;div class=&quot;form-group&quot;&gt;
						&lt;label for=&quot;new_custLevel&quot; style=&quot;float:left;padding:7px 15px 0 27px;&quot;&gt;客户级别&lt;/label&gt;
						&lt;div class=&quot;col-sm-10&quot;&gt;
							&lt;select	class=&quot;form-control&quot; id=&quot;new_custLevel&quot; name=&quot;cust_level&quot;&gt;
								&lt;option value=&quot;&quot;&gt;--请选择--&lt;/option&gt;
								&lt;c:forEach items=&quot;$&#123;levelType&#125;&quot; var=&quot;item&quot;&gt;
									&lt;option value=&quot;$&#123;item.dict_id&#125;&quot;&lt;c:if test=&quot;$&#123;item.dict_id == custLevel&#125;&quot;&gt; selected&lt;/c:if&gt;&gt;$&#123;item.dict_item_name &#125;&lt;/option&gt;
								&lt;/c:forEach&gt;
							&lt;/select&gt;
						&lt;/div&gt;
					&lt;/div&gt;
					&lt;div class=&quot;form-group&quot;&gt;
						&lt;label for=&quot;new_linkMan&quot; class=&quot;col-sm-2 control-label&quot;&gt;联系人&lt;/label&gt;
						&lt;div class=&quot;col-sm-10&quot;&gt;
							&lt;input type=&quot;text&quot; class=&quot;form-control&quot; id=&quot;new_linkMan&quot; placeholder=&quot;联系人&quot; name=&quot;cust_linkman&quot; /&gt;
						&lt;/div&gt;
					&lt;/div&gt;
					&lt;div class=&quot;form-group&quot;&gt;
						&lt;label for=&quot;new_phone&quot; class=&quot;col-sm-2 control-label&quot;&gt;固定电话&lt;/label&gt;
						&lt;div class=&quot;col-sm-10&quot;&gt;
							&lt;input type=&quot;text&quot; class=&quot;form-control&quot; id=&quot;new_phone&quot; placeholder=&quot;固定电话&quot; name=&quot;cust_phone&quot; /&gt;
						&lt;/div&gt;
					&lt;/div&gt;
					&lt;div class=&quot;form-group&quot;&gt;
						&lt;label for=&quot;new_mobile&quot; class=&quot;col-sm-2 control-label&quot;&gt;移动电话&lt;/label&gt;
						&lt;div class=&quot;col-sm-10&quot;&gt;
							&lt;input type=&quot;text&quot; class=&quot;form-control&quot; id=&quot;new_mobile&quot; placeholder=&quot;移动电话&quot; name=&quot;cust_mobile&quot; /&gt;
						&lt;/div&gt;
					&lt;/div&gt;
					&lt;div class=&quot;form-group&quot;&gt;
						&lt;label for=&quot;new_zipcode&quot; class=&quot;col-sm-2 control-label&quot;&gt;邮政编码&lt;/label&gt;
						&lt;div class=&quot;col-sm-10&quot;&gt;
							&lt;input type=&quot;text&quot; class=&quot;form-control&quot; id=&quot;new_zipcode&quot; placeholder=&quot;邮政编码&quot; name=&quot;cust_zipcode&quot; /&gt;
						&lt;/div&gt;
					&lt;/div&gt;
					&lt;div class=&quot;form-group&quot;&gt;
						&lt;label for=&quot;new_address&quot; class=&quot;col-sm-2 control-label&quot;&gt;联系地址&lt;/label&gt;
						&lt;div class=&quot;col-sm-10&quot;&gt;
							&lt;input type=&quot;text&quot; class=&quot;form-control&quot; id=&quot;new_address&quot; placeholder=&quot;联系地址&quot; name=&quot;cust_address&quot; /&gt;
						&lt;/div&gt;
					&lt;/div&gt;
				&lt;/form&gt;
			&lt;/div&gt;
			&lt;div class=&quot;modal-footer&quot;&gt;
				&lt;button type=&quot;button&quot; class=&quot;btn btn-default&quot; data-dismiss=&quot;modal&quot;&gt;关闭&lt;/button&gt;
				&lt;button type=&quot;button&quot; class=&quot;btn btn-primary&quot; onclick=&quot;createCustomer()&quot;&gt;创建客户&lt;/button&gt;
			&lt;/div&gt;
		&lt;/div&gt;
	&lt;/div&gt;
&lt;/div&gt;
&lt;!-- 修改客户模态框 --&gt;
&lt;div class=&quot;modal fade&quot; id=&quot;customerEditDialog&quot; tabindex=&quot;-1&quot; role=&quot;dialog&quot;
	aria-labelledby=&quot;myModalLabel&quot;&gt;
	&lt;div class=&quot;modal-dialog&quot; role=&quot;document&quot;&gt;
		&lt;div class=&quot;modal-content&quot;&gt;
			&lt;div class=&quot;modal-header&quot;&gt;
				&lt;button type=&quot;button&quot; class=&quot;close&quot; data-dismiss=&quot;modal&quot; aria-label=&quot;Close&quot;&gt;
					&lt;span aria-hidden=&quot;true&quot;&gt;&amp;times;&lt;/span&gt;
				&lt;/button&gt;
				&lt;h4 class=&quot;modal-title&quot; id=&quot;myModalLabel&quot;&gt;修改客户信息&lt;/h4&gt;
			&lt;/div&gt;
			&lt;div class=&quot;modal-body&quot;&gt;
				&lt;form class=&quot;form-horizontal&quot; id=&quot;edit_customer_form&quot;&gt;
					&lt;input type=&quot;hidden&quot; id=&quot;edit_cust_id&quot; name=&quot;cust_id&quot;/&gt;
					&lt;div class=&quot;form-group&quot;&gt;
						&lt;label for=&quot;edit_customerName&quot; class=&quot;col-sm-2 control-label&quot;&gt;客户名称&lt;/label&gt;
						&lt;div class=&quot;col-sm-10&quot;&gt;
							&lt;input type=&quot;text&quot; class=&quot;form-control&quot; id=&quot;edit_customerName&quot; placeholder=&quot;客户名称&quot; name=&quot;cust_name&quot; /&gt;
						&lt;/div&gt;
					&lt;/div&gt;
					&lt;div class=&quot;form-group&quot;&gt;
						&lt;label for=&quot;edit_customerFrom&quot; style=&quot;float:left;padding:7px 15px 0 27px;&quot;&gt;客户来源&lt;/label&gt; 
						&lt;div class=&quot;col-sm-10&quot;&gt;
							&lt;select	class=&quot;form-control&quot; id=&quot;edit_customerFrom&quot; name=&quot;cust_source&quot;&gt;
								&lt;option value=&quot;&quot;&gt;--请选择--&lt;/option&gt;
								&lt;c:forEach items=&quot;$&#123;fromType&#125;&quot; var=&quot;item&quot;&gt;
									&lt;option value=&quot;$&#123;item.dict_id&#125;&quot;&lt;c:if test=&quot;$&#123;item.dict_id == custSource&#125;&quot;&gt; selected&lt;/c:if&gt;&gt;$&#123;item.dict_item_name &#125;&lt;/option&gt;
								&lt;/c:forEach&gt;
							&lt;/select&gt;
						&lt;/div&gt;
					&lt;/div&gt;
					&lt;div class=&quot;form-group&quot;&gt;
						&lt;label for=&quot;edit_custIndustry&quot; style=&quot;float:left;padding:7px 15px 0 27px;&quot;&gt;所属行业&lt;/label&gt;
						&lt;div class=&quot;col-sm-10&quot;&gt; 
							&lt;select	class=&quot;form-control&quot; id=&quot;edit_custIndustry&quot;  name=&quot;cust_industry&quot;&gt;
								&lt;option value=&quot;&quot;&gt;--请选择--&lt;/option&gt;
								&lt;c:forEach items=&quot;$&#123;industryType&#125;&quot; var=&quot;item&quot;&gt;
									&lt;option value=&quot;$&#123;item.dict_id&#125;&quot;&lt;c:if test=&quot;$&#123;item.dict_id == custIndustry&#125;&quot;&gt; selected&lt;/c:if&gt;&gt;$&#123;item.dict_item_name &#125;&lt;/option&gt;
								&lt;/c:forEach&gt;
							&lt;/select&gt;
						&lt;/div&gt;
					&lt;/div&gt;
					&lt;div class=&quot;form-group&quot;&gt;
						&lt;label for=&quot;edit_custLevel&quot; style=&quot;float:left;padding:7px 15px 0 27px;&quot;&gt;客户级别&lt;/label&gt;
						&lt;div class=&quot;col-sm-10&quot;&gt;
							&lt;select	class=&quot;form-control&quot; id=&quot;edit_custLevel&quot; name=&quot;cust_level&quot;&gt;
								&lt;option value=&quot;&quot;&gt;--请选择--&lt;/option&gt;
								&lt;c:forEach items=&quot;$&#123;levelType&#125;&quot; var=&quot;item&quot;&gt;
									&lt;option value=&quot;$&#123;item.dict_id&#125;&quot;&lt;c:if test=&quot;$&#123;item.dict_id == custLevel&#125;&quot;&gt; selected&lt;/c:if&gt;&gt;$&#123;item.dict_item_name &#125;&lt;/option&gt;
								&lt;/c:forEach&gt;
							&lt;/select&gt;
						&lt;/div&gt;
					&lt;/div&gt;
					&lt;div class=&quot;form-group&quot;&gt;
						&lt;label for=&quot;edit_linkMan&quot; class=&quot;col-sm-2 control-label&quot;&gt;联系人&lt;/label&gt;
						&lt;div class=&quot;col-sm-10&quot;&gt;
							&lt;input type=&quot;text&quot; class=&quot;form-control&quot; id=&quot;edit_linkMan&quot; placeholder=&quot;联系人&quot; name=&quot;cust_linkman&quot; /&gt;
						&lt;/div&gt;
					&lt;/div&gt;
					&lt;div class=&quot;form-group&quot;&gt;
						&lt;label for=&quot;edit_phone&quot; class=&quot;col-sm-2 control-label&quot;&gt;固定电话&lt;/label&gt;
						&lt;div class=&quot;col-sm-10&quot;&gt;
							&lt;input type=&quot;text&quot; class=&quot;form-control&quot; id=&quot;edit_phone&quot; placeholder=&quot;固定电话&quot; name=&quot;cust_phone&quot; /&gt;
						&lt;/div&gt;
					&lt;/div&gt;
					&lt;div class=&quot;form-group&quot;&gt;
						&lt;label for=&quot;edit_mobile&quot; class=&quot;col-sm-2 control-label&quot;&gt;移动电话&lt;/label&gt;
						&lt;div class=&quot;col-sm-10&quot;&gt;
							&lt;input type=&quot;text&quot; class=&quot;form-control&quot; id=&quot;edit_mobile&quot; placeholder=&quot;移动电话&quot; name=&quot;cust_mobile&quot; /&gt;
						&lt;/div&gt;
					&lt;/div&gt;
					&lt;div class=&quot;form-group&quot;&gt;
						&lt;label for=&quot;edit_zipcode&quot; class=&quot;col-sm-2 control-label&quot;&gt;邮政编码&lt;/label&gt;
						&lt;div class=&quot;col-sm-10&quot;&gt;
							&lt;input type=&quot;text&quot; class=&quot;form-control&quot; id=&quot;edit_zipcode&quot; placeholder=&quot;邮政编码&quot; name=&quot;cust_zipcode&quot; /&gt;
						&lt;/div&gt;
					&lt;/div&gt;
					&lt;div class=&quot;form-group&quot;&gt;
						&lt;label for=&quot;edit_address&quot; class=&quot;col-sm-2 control-label&quot;&gt;联系地址&lt;/label&gt;
						&lt;div class=&quot;col-sm-10&quot;&gt;
							&lt;input type=&quot;text&quot; class=&quot;form-control&quot; id=&quot;edit_address&quot; placeholder=&quot;联系地址&quot; name=&quot;cust_address&quot; /&gt;
						&lt;/div&gt;
					&lt;/div&gt;
				&lt;/form&gt;
			&lt;/div&gt;
			&lt;div class=&quot;modal-footer&quot;&gt;
				&lt;button type=&quot;button&quot; class=&quot;btn btn-default&quot; data-dismiss=&quot;modal&quot;&gt;关闭&lt;/button&gt;
				&lt;button type=&quot;button&quot; class=&quot;btn btn-primary&quot; onclick=&quot;updateCustomer()&quot;&gt;保存修改&lt;/button&gt;
			&lt;/div&gt;
		&lt;/div&gt;
	&lt;/div&gt;
&lt;/div&gt;
&lt;!-- 引入js文件 --&gt;
&lt;!-- jQuery --&gt;
&lt;script src=&quot;&lt;%=basePath%&gt;js/jquery-1.11.3.min.js&quot;&gt;&lt;/script&gt;
&lt;!-- Bootstrap Core JavaScript --&gt;
&lt;script src=&quot;&lt;%=basePath%&gt;js/bootstrap.min.js&quot;&gt;&lt;/script&gt;
&lt;!-- Metis Menu Plugin JavaScript --&gt;
&lt;script src=&quot;&lt;%=basePath%&gt;js/metisMenu.min.js&quot;&gt;&lt;/script&gt;
&lt;!-- DataTables JavaScript --&gt;
&lt;script src=&quot;&lt;%=basePath%&gt;js/jquery.dataTables.min.js&quot;&gt;&lt;/script&gt;
&lt;script src=&quot;&lt;%=basePath%&gt;js/dataTables.bootstrap.min.js&quot;&gt;&lt;/script&gt;
&lt;!-- Custom Theme JavaScript --&gt;
&lt;script src=&quot;&lt;%=basePath%&gt;js/sb-admin-2.js&quot;&gt;&lt;/script&gt;
&lt;!-- 编写js代码 --&gt;
&lt;script type=&quot;text/javascript&quot;&gt;
//清空新建客户窗口中的数据
	function clearCustomer() &#123;
	    $(&quot;#new_customerName&quot;).val(&quot;&quot;);
	    $(&quot;#new_customerFrom&quot;).val(&quot;&quot;)
	    $(&quot;#new_custIndustry&quot;).val(&quot;&quot;)
	    $(&quot;#new_custLevel&quot;).val(&quot;&quot;)
	    $(&quot;#new_linkMan&quot;).val(&quot;&quot;);
	    $(&quot;#new_phone&quot;).val(&quot;&quot;);
	    $(&quot;#new_mobile&quot;).val(&quot;&quot;);
	    $(&quot;#new_zipcode&quot;).val(&quot;&quot;);
	    $(&quot;#new_address&quot;).val(&quot;&quot;);
	&#125;
	// 创建客户
	function createCustomer() &#123;
	$.post(&quot;&lt;%=basePath%&gt;customer/create.action&quot;,
	$(&quot;#new_customer_form&quot;).serialize(),function(data)&#123;
	        if(data ==&quot;OK&quot;)&#123;
	            alert(&quot;客户创建成功！&quot;);
	            window.location.reload();
	        &#125;else&#123;
	            alert(&quot;客户创建失败！&quot;);
	            window.location.reload();
	        &#125;
	    &#125;);
	&#125;
	// 通过id获取修改的客户信息
	function editCustomer(id) &#123;
	    $.ajax(&#123;
	        type:&quot;get&quot;,
	        url:&quot;&lt;%=basePath%&gt;customer/getCustomerById.action&quot;,
	        data:&#123;&quot;id&quot;:id&#125;,
	        success:function(data) &#123;
	            $(&quot;#edit_cust_id&quot;).val(data.cust_id);
	            $(&quot;#edit_customerName&quot;).val(data.cust_name);
	            $(&quot;#edit_customerFrom&quot;).val(data.cust_source)
	            $(&quot;#edit_custIndustry&quot;).val(data.cust_industry)
	            $(&quot;#edit_custLevel&quot;).val(data.cust_level)
	            $(&quot;#edit_linkMan&quot;).val(data.cust_linkman);
	            $(&quot;#edit_phone&quot;).val(data.cust_phone);
	            $(&quot;#edit_mobile&quot;).val(data.cust_mobile);
	            $(&quot;#edit_zipcode&quot;).val(data.cust_zipcode);
	            $(&quot;#edit_address&quot;).val(data.cust_address);
	            
	        &#125;
	    &#125;);
	&#125;
    // 执行修改客户操作
	function updateCustomer() &#123;
		$.post(&quot;&lt;%=basePath%&gt;customer/update.action&quot;,$(&quot;#edit_customer_form&quot;).serialize(),function(data)&#123;
			if(data ==&quot;OK&quot;)&#123;
				alert(&quot;客户信息更新成功！&quot;);
				window.location.reload();
			&#125;else&#123;
				alert(&quot;客户信息更新失败！&quot;);
				window.location.reload();
			&#125;
		&#125;);
	&#125;
	// 删除客户
	function deleteCustomer(id) &#123;
	    if(confirm('确实要删除该客户吗?')) &#123;
	$.post(&quot;&lt;%=basePath%&gt;customer/delete.action&quot;,&#123;&quot;id&quot;:id&#125;,
	function(data)&#123;
	            if(data ==&quot;OK&quot;)&#123;
	                alert(&quot;客户删除成功！&quot;);
	                window.location.reload();
	            &#125;else&#123;
	                alert(&quot;删除客户失败！&quot;);
	                window.location.reload();
	            &#125;
	        &#125;);
	    &#125;
	&#125;
&lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre><h4 id="创建分页查询"><a class="anchor" href="#创建分页查询">#</a> 创建分页查询</h4><h5 id="实现分页功能"><a class="anchor" href="#实现分页功能">#</a> 实现分页功能</h5><blockquote><p>自定义标签文件主要用于实现分页功能：commons.tld</p></blockquote><figure class="highlight xml"><figcaption data-lang="XML"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token prolog">&lt;?xml version="1.0" encoding="UTF-8" ?></span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">taglib</span></span></pre></td></tr><tr><td data-num="3"></td><td><pre>   <span class="token name">PUBLIC</span> <span class="token string">"-//Sun Microsystems, Inc.//DTD JSP Tag Library 1.2//EN"</span></pre></td></tr><tr><td data-num="4"></td><td><pre>   <span class="token string">"http://java.sun.com/dtd/web-jsptaglibrary_1_2.dtd"</span><span class="token punctuation">></span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>taglib</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="6"></td><td><pre>    <span class="token comment">&lt;!-- 指定标签库的版本号 --></span></pre></td></tr><tr><td data-num="7"></td><td><pre>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tlib-version</span><span class="token punctuation">></span></span>2.0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tlib-version</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="8"></td><td><pre>    <span class="token comment">&lt;!-- 指定 JSP 的版本号 --></span></pre></td></tr><tr><td data-num="9"></td><td><pre>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>jsp-version</span><span class="token punctuation">></span></span>1.2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>jsp-version</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="10"></td><td><pre>    <span class="token comment">&lt;!-- 指定标签库的名称 --></span></pre></td></tr><tr><td data-num="11"></td><td><pre>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>short-name</span><span class="token punctuation">></span></span>common<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>short-name</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="12"></td><td><pre>    <span class="token comment">&lt;!-- 指定标签库的 URI --></span></pre></td></tr><tr><td data-num="13"></td><td><pre>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>uri</span><span class="token punctuation">></span></span>http://itheima.com/common/<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>uri</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="14"></td><td><pre>    <span class="token comment">&lt;!-- 指定标签库的显示名称 --></span></pre></td></tr><tr><td data-num="15"></td><td><pre>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>display-name</span><span class="token punctuation">></span></span>Common Tag<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>display-name</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="16"></td><td><pre>    <span class="token comment">&lt;!-- 指定标签库的描述 --></span></pre></td></tr><tr><td data-num="17"></td><td><pre>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>description</span><span class="token punctuation">></span></span>Common Tag library<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>description</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="18"></td><td><pre>    <span class="token comment">&lt;!-- 注册一个自定义标签 --></span></pre></td></tr><tr><td data-num="19"></td><td><pre>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tag</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="20"></td><td><pre>        <span class="token comment">&lt;!-- 指定注册的自定义标签名称 --></span></pre></td></tr><tr><td data-num="21"></td><td><pre>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">></span></span>page<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="22"></td><td><pre>        <span class="token comment">&lt;!-- 指定自定义标签的标签处理器类 --></span></pre></td></tr><tr><td data-num="23"></td><td><pre>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tag-class</span><span class="token punctuation">></span></span>com.itheima.common.utils.NavigationTag<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tag-class</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="24"></td><td><pre>        <span class="token comment">&lt;!-- 指定标签体类型 --></span></pre></td></tr><tr><td data-num="25"></td><td><pre>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body-content</span><span class="token punctuation">></span></span>JSP<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body-content</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="26"></td><td><pre>        <span class="token comment">&lt;!-- 描述 --></span></pre></td></tr><tr><td data-num="27"></td><td><pre>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>description</span><span class="token punctuation">></span></span>create navigation for paging<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>description</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="28"></td><td><pre>        <span class="token comment">&lt;!-- 指定标签中的属性 --></span></pre></td></tr><tr><td data-num="29"></td><td><pre>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>attribute</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="30"></td><td><pre>            <span class="token comment">&lt;!-- 指定属性名称 --></span></pre></td></tr><tr><td data-num="31"></td><td><pre>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">></span></span>url<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="32"></td><td><pre>            <span class="token comment">&lt;!-- 该属性为 true 时表示其指定是属性为必须属性 --></span></pre></td></tr><tr><td data-num="33"></td><td><pre>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>required</span><span class="token punctuation">></span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>required</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="34"></td><td><pre>            <span class="token comment">&lt;!-- 该属性用于指定能不能使用表达式来动态指定数据，为 true 时表示可以 --></span></pre></td></tr><tr><td data-num="35"></td><td><pre>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>rtexprvalue</span><span class="token punctuation">></span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>rtexprvalue</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="36"></td><td><pre>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>attribute</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="37"></td><td><pre>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>attribute</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="38"></td><td><pre>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">></span></span>bean<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">></span></span> </pre></td></tr><tr><td data-num="39"></td><td><pre>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>rtexprvalue</span><span class="token punctuation">></span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>rtexprvalue</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="40"></td><td><pre>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>attribute</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="41"></td><td><pre>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>attribute</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="42"></td><td><pre>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">></span></span>number<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">></span></span> </pre></td></tr><tr><td data-num="43"></td><td><pre>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>rtexprvalue</span><span class="token punctuation">></span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>rtexprvalue</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="44"></td><td><pre>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>attribute</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="45"></td><td><pre>	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tag</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="46"></td><td><pre><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>taglib</span><span class="token punctuation">></span></span></pre></td></tr></table></figure><h5 id="引入分页标签类"><a class="anchor" href="#引入分页标签类">#</a> 引入分页标签类</h5><ol><li>Page.java</li></ol><blockquote><p>boot-crm\src\com\itheima\common\utils\Page.java</p></blockquote><figure class="highlight java"><figcaption data-lang="java"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>itheima<span class="token punctuation">.</span>common<span class="token punctuation">.</span>utils</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">List</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Page</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">></span></span> <span class="token punctuation">&#123;</span>   </pre></td></tr><tr><td data-num="4"></td><td><pre>	<span class="token keyword">private</span> <span class="token keyword">int</span> total<span class="token punctuation">;</span>    <span class="token comment">// 总条数</span></pre></td></tr><tr><td data-num="5"></td><td><pre>	<span class="token keyword">private</span> <span class="token keyword">int</span> page<span class="token punctuation">;</span>     <span class="token comment">// 当前页</span></pre></td></tr><tr><td data-num="6"></td><td><pre>	<span class="token keyword">private</span> <span class="token keyword">int</span> size<span class="token punctuation">;</span>     <span class="token comment">// 每页数</span></pre></td></tr><tr><td data-num="7"></td><td><pre>	<span class="token keyword">private</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">></span></span> rows<span class="token punctuation">;</span> <span class="token comment">// 结果集</span></pre></td></tr><tr><td data-num="8"></td><td><pre>	<span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">getTotal</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="9"></td><td><pre>		<span class="token keyword">return</span> total<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="10"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="11"></td><td><pre>	<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setTotal</span><span class="token punctuation">(</span><span class="token keyword">int</span> total<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="12"></td><td><pre>		<span class="token keyword">this</span><span class="token punctuation">.</span>total <span class="token operator">=</span> total<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="13"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="14"></td><td><pre>	<span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">getPage</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="15"></td><td><pre>		<span class="token keyword">return</span> page<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="16"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="17"></td><td><pre>	<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setPage</span><span class="token punctuation">(</span><span class="token keyword">int</span> page<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="18"></td><td><pre>		<span class="token keyword">this</span><span class="token punctuation">.</span>page <span class="token operator">=</span> page<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="19"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="20"></td><td><pre>	<span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">getSize</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="21"></td><td><pre>		<span class="token keyword">return</span> size<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="22"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="23"></td><td><pre>	<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setSize</span><span class="token punctuation">(</span><span class="token keyword">int</span> size<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="24"></td><td><pre>		<span class="token keyword">this</span><span class="token punctuation">.</span>size <span class="token operator">=</span> size<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="25"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="26"></td><td><pre>	<span class="token keyword">public</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">></span></span> <span class="token function">getRows</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="27"></td><td><pre>		<span class="token keyword">return</span> rows<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="28"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="29"></td><td><pre>	<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setRows</span><span class="token punctuation">(</span><span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">></span></span> rows<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="30"></td><td><pre>		<span class="token keyword">this</span><span class="token punctuation">.</span>rows <span class="token operator">=</span> rows<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="31"></td><td><pre>	<span class="token punctuation">&#125;</span>  </pre></td></tr><tr><td data-num="32"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><ol start="2"><li>NavigationTag.java</li></ol><blockquote><p>boot-crm\src\com\itheima\common\utils\ NavigationTag.java</p></blockquote><figure class="highlight java"><figcaption data-lang="java"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>itheima<span class="token punctuation">.</span>common<span class="token punctuation">.</span>utils</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">IOException</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Map</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token keyword">import</span> <span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpServletRequest</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token keyword">import</span> <span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>jsp<span class="token punctuation">.</span></span><span class="token class-name">JspException</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token keyword">import</span> <span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>jsp<span class="token punctuation">.</span></span><span class="token class-name">JspWriter</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token keyword">import</span> <span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>jsp<span class="token punctuation">.</span>tagext<span class="token punctuation">.</span></span><span class="token class-name">TagSupport</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="8"></td><td><pre><span class="token comment">/**</span></pre></td></tr><tr><td data-num="9"></td><td><pre> * 显示格式：首页 上一页 1 2 3 4 5 下一页 尾页</pre></td></tr><tr><td data-num="10"></td><td><pre> */</pre></td></tr><tr><td data-num="11"></td><td><pre><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">NavigationTag</span> <span class="token keyword">extends</span> <span class="token class-name">TagSupport</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="12"></td><td><pre>	<span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">long</span> serialVersionUID <span class="token operator">=</span> <span class="token number">2372405317744358833L</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="13"></td><td><pre>	<span class="token comment">/**</span></pre></td></tr><tr><td data-num="14"></td><td><pre>	 * request 中用于保存 Page&lt;E> 对象的变量名，默认为 “page”</pre></td></tr><tr><td data-num="15"></td><td><pre>	 */</pre></td></tr><tr><td data-num="16"></td><td><pre>	<span class="token keyword">private</span> <span class="token class-name">String</span> bean <span class="token operator">=</span> <span class="token string">"page"</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="17"></td><td><pre>	<span class="token comment">/**</span></pre></td></tr><tr><td data-num="18"></td><td><pre>	 * 分页跳转的 url 地址，此属性必须</pre></td></tr><tr><td data-num="19"></td><td><pre>	 */</pre></td></tr><tr><td data-num="20"></td><td><pre>	<span class="token keyword">private</span> <span class="token class-name">String</span> url <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="21"></td><td><pre>	<span class="token comment">/**</span></pre></td></tr><tr><td data-num="22"></td><td><pre>	 * 显示页码数量</pre></td></tr><tr><td data-num="23"></td><td><pre>	 */</pre></td></tr><tr><td data-num="24"></td><td><pre>	<span class="token keyword">private</span> <span class="token keyword">int</span> number <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="25"></td><td><pre></pre></td></tr><tr><td data-num="26"></td><td><pre>	<span class="token annotation punctuation">@Override</span></pre></td></tr><tr><td data-num="27"></td><td><pre>	<span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">doStartTag</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">JspException</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="28"></td><td><pre>		<span class="token class-name">JspWriter</span> writer <span class="token operator">=</span> pageContext<span class="token punctuation">.</span><span class="token function">getOut</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="29"></td><td><pre>		<span class="token class-name">HttpServletRequest</span> request <span class="token operator">=</span> </pre></td></tr><tr><td data-num="30"></td><td><pre>				<span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span><span class="token punctuation">)</span> pageContext<span class="token punctuation">.</span><span class="token function">getRequest</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="31"></td><td><pre>		<span class="token class-name">Page</span> page <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">Page</span><span class="token punctuation">)</span> request<span class="token punctuation">.</span><span class="token function">getAttribute</span><span class="token punctuation">(</span>bean<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="32"></td><td><pre>		<span class="token keyword">if</span> <span class="token punctuation">(</span>page <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="33"></td><td><pre>			<span class="token keyword">return</span> SKIP_BODY<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="34"></td><td><pre>		url <span class="token operator">=</span> <span class="token function">resolveUrl</span><span class="token punctuation">(</span>url<span class="token punctuation">,</span> pageContext<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="35"></td><td><pre>		<span class="token keyword">try</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="36"></td><td><pre>			<span class="token comment">// 计算总页数</span></pre></td></tr><tr><td data-num="37"></td><td><pre>			<span class="token keyword">int</span> pageCount <span class="token operator">=</span> page<span class="token punctuation">.</span><span class="token function">getTotal</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">/</span> page<span class="token punctuation">.</span><span class="token function">getSize</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="38"></td><td><pre>			<span class="token keyword">if</span> <span class="token punctuation">(</span>page<span class="token punctuation">.</span><span class="token function">getTotal</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">%</span> page<span class="token punctuation">.</span><span class="token function">getSize</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">></span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="39"></td><td><pre>				pageCount<span class="token operator">++</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="40"></td><td><pre>			<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="41"></td><td><pre>			writer<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"&lt;nav>&lt;ul class=\"pagination\">"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="42"></td><td><pre>			<span class="token comment">// 首页链接路径</span></pre></td></tr><tr><td data-num="43"></td><td><pre>			<span class="token class-name">String</span> homeUrl <span class="token operator">=</span> <span class="token function">append</span><span class="token punctuation">(</span>url<span class="token punctuation">,</span> <span class="token string">"page"</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="44"></td><td><pre>			<span class="token comment">// 末页链接路径</span></pre></td></tr><tr><td data-num="45"></td><td><pre>			<span class="token class-name">String</span> backUrl <span class="token operator">=</span> <span class="token function">append</span><span class="token punctuation">(</span>url<span class="token punctuation">,</span> <span class="token string">"page"</span><span class="token punctuation">,</span> pageCount<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="46"></td><td><pre>			<span class="token comment">// 显示 “上一页” 按钮</span></pre></td></tr><tr><td data-num="47"></td><td><pre>			<span class="token keyword">if</span> <span class="token punctuation">(</span>page<span class="token punctuation">.</span><span class="token function">getPage</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">></span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="48"></td><td><pre>				<span class="token class-name">String</span> preUrl <span class="token operator">=</span> <span class="token function">append</span><span class="token punctuation">(</span>url<span class="token punctuation">,</span> <span class="token string">"page"</span><span class="token punctuation">,</span> page<span class="token punctuation">.</span><span class="token function">getPage</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="49"></td><td><pre>				preUrl <span class="token operator">=</span> <span class="token function">append</span><span class="token punctuation">(</span>preUrl<span class="token punctuation">,</span> <span class="token string">"rows"</span><span class="token punctuation">,</span> page<span class="token punctuation">.</span><span class="token function">getSize</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="50"></td><td><pre>		writer<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"&lt;li>&lt;a href=\""</span> <span class="token operator">+</span> homeUrl <span class="token operator">+</span> <span class="token string">"\">"</span> <span class="token operator">+</span> <span class="token string">"首页&lt;/a>&lt;/li>"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="51"></td><td><pre>		writer<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"&lt;li>&lt;a href=\""</span> <span class="token operator">+</span> preUrl <span class="token operator">+</span> <span class="token string">"\">"</span> <span class="token operator">+</span> <span class="token string">"上一页&lt;/a>&lt;/li>"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="52"></td><td><pre>			<span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="53"></td><td><pre>writer<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"&lt;li class=\"disabled\">&lt;a href=\"#\">"</span> <span class="token operator">+</span> <span class="token string">"首页 &lt;/a>&lt;/li>"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="54"></td><td><pre>writer<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"&lt;li class=\"disabled\">&lt;a href=\"#\">"</span> <span class="token operator">+</span> <span class="token string">"上一页 &lt;/a>&lt;/li>"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="55"></td><td><pre>			<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="56"></td><td><pre>			<span class="token comment">// 显示当前页码的前 2 页码和后两页码</span></pre></td></tr><tr><td data-num="57"></td><td><pre>			<span class="token comment">// 若 1 则 1 2 3 4 5, 若 2 则 1 2 3 4 5, 若 3 则 1 2 3 4 5,</span></pre></td></tr><tr><td data-num="58"></td><td><pre>			<span class="token comment">// 若 4 则 2 3 4 5 6 , 若 10 则 8 9 10 11 12</span></pre></td></tr><tr><td data-num="59"></td><td><pre>			<span class="token keyword">int</span> indexPage <span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="60"></td><td><pre>			<span class="token keyword">if</span><span class="token punctuation">(</span>page<span class="token punctuation">.</span><span class="token function">getPage</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">2</span> <span class="token operator">&lt;=</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="61"></td><td><pre>				indexPage<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="62"></td><td><pre>			<span class="token punctuation">&#125;</span><span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>pageCount<span class="token operator">-</span>page<span class="token punctuation">.</span><span class="token function">getPage</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;=</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="63"></td><td><pre>				indexPage<span class="token operator">=</span>pageCount<span class="token operator">-</span><span class="token number">4</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="64"></td><td><pre>			<span class="token punctuation">&#125;</span><span class="token keyword">else</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="65"></td><td><pre>				indexPage<span class="token operator">=</span> page<span class="token punctuation">.</span><span class="token function">getPage</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">2</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="66"></td><td><pre>			<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="67"></td><td><pre>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>i <span class="token operator">&lt;=</span> number <span class="token operator">&amp;&amp;</span> indexPage <span class="token operator">&lt;=</span> pageCount<span class="token punctuation">;</span>indexPage<span class="token operator">++</span><span class="token punctuation">,</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="68"></td><td><pre>				<span class="token keyword">if</span> <span class="token punctuation">(</span>indexPage <span class="token operator">==</span> page<span class="token punctuation">.</span><span class="token function">getPage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="69"></td><td><pre>			writer<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"&lt;li class=\"active\">&lt;a href=\"#\">"</span> <span class="token operator">+</span> indexPage</pre></td></tr><tr><td data-num="70"></td><td><pre>				<span class="token operator">+</span><span class="token string">"&lt;spanclass=\"sr-only\">&lt;/span>&lt;/a>&lt;/li>"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="71"></td><td><pre>					<span class="token keyword">continue</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="72"></td><td><pre>				<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="73"></td><td><pre>				<span class="token class-name">String</span> pageUrl <span class="token operator">=</span> <span class="token function">append</span><span class="token punctuation">(</span>url<span class="token punctuation">,</span> <span class="token string">"page"</span><span class="token punctuation">,</span> indexPage<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="74"></td><td><pre>				pageUrl <span class="token operator">=</span> <span class="token function">append</span><span class="token punctuation">(</span>pageUrl<span class="token punctuation">,</span> <span class="token string">"rows"</span><span class="token punctuation">,</span> page<span class="token punctuation">.</span><span class="token function">getSize</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="75"></td><td><pre>writer<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"&lt;li>&lt;a href=\""</span> <span class="token operator">+</span> pageUrl <span class="token operator">+</span> <span class="token string">"\">"</span> <span class="token operator">+</span> indexPage <span class="token operator">+</span> <span class="token string">"&lt;/a>&lt;/li>"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="76"></td><td><pre>			<span class="token punctuation">&#125;</span>	</pre></td></tr><tr><td data-num="77"></td><td><pre>			<span class="token comment">// 显示 “下一页” 按钮</span></pre></td></tr><tr><td data-num="78"></td><td><pre>			<span class="token keyword">if</span> <span class="token punctuation">(</span>page<span class="token punctuation">.</span><span class="token function">getPage</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;</span> pageCount<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="79"></td><td><pre>				<span class="token class-name">String</span> nextUrl <span class="token operator">=</span> <span class="token function">append</span><span class="token punctuation">(</span>url<span class="token punctuation">,</span> <span class="token string">"page"</span><span class="token punctuation">,</span> page<span class="token punctuation">.</span><span class="token function">getPage</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="80"></td><td><pre>				nextUrl <span class="token operator">=</span> <span class="token function">append</span><span class="token punctuation">(</span>nextUrl<span class="token punctuation">,</span> <span class="token string">"rows"</span><span class="token punctuation">,</span> page<span class="token punctuation">.</span><span class="token function">getSize</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="81"></td><td><pre>		writer<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"&lt;li>&lt;a href=\""</span> <span class="token operator">+</span> nextUrl <span class="token operator">+</span> <span class="token string">"\">"</span> <span class="token operator">+</span> <span class="token string">"下一页&lt;/a>&lt;/li>"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="82"></td><td><pre>		writer<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"&lt;li>&lt;a href=\""</span> <span class="token operator">+</span> backUrl <span class="token operator">+</span> <span class="token string">"\">"</span> <span class="token operator">+</span> <span class="token string">"尾页&lt;/a>&lt;/li>"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="83"></td><td><pre>			<span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="84"></td><td><pre>writer<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"&lt;li class=\"disabled\">&lt;a href=\"#\">"</span> <span class="token operator">+</span> <span class="token string">"下一页&lt;/a>&lt;/li>"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="85"></td><td><pre>writer<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"&lt;li class=\"disabled\">&lt;a href=\"#\">"</span> <span class="token operator">+</span> <span class="token string">"尾页&lt;/a>&lt;/li>"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="86"></td><td><pre>			<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="87"></td><td><pre>			writer<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"&lt;/nav>"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="88"></td><td><pre>		<span class="token punctuation">&#125;</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">IOException</span> e<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="89"></td><td><pre>			e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="90"></td><td><pre>		<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="91"></td><td><pre>		<span class="token keyword">return</span> SKIP_BODY<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="92"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="93"></td><td><pre></pre></td></tr><tr><td data-num="94"></td><td><pre>	<span class="token keyword">private</span> <span class="token class-name">String</span> <span class="token function">append</span><span class="token punctuation">(</span><span class="token class-name">String</span> url<span class="token punctuation">,</span> <span class="token class-name">String</span> key<span class="token punctuation">,</span> <span class="token keyword">int</span> value<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="95"></td><td><pre>		<span class="token keyword">return</span> <span class="token function">append</span><span class="token punctuation">(</span>url<span class="token punctuation">,</span> key<span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="96"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="97"></td><td><pre>	<span class="token comment">/**</span></pre></td></tr><tr><td data-num="98"></td><td><pre>	 * 为 url 参加参数对儿</pre></td></tr><tr><td data-num="99"></td><td><pre>	 */</pre></td></tr><tr><td data-num="100"></td><td><pre>	<span class="token keyword">private</span> <span class="token class-name">String</span> <span class="token function">append</span><span class="token punctuation">(</span><span class="token class-name">String</span> url<span class="token punctuation">,</span> <span class="token class-name">String</span> key<span class="token punctuation">,</span> <span class="token class-name">String</span> value<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="101"></td><td><pre>		<span class="token keyword">if</span> <span class="token punctuation">(</span>url <span class="token operator">==</span> <span class="token keyword">null</span> <span class="token operator">||</span> url<span class="token punctuation">.</span><span class="token function">trim</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="102"></td><td><pre>			<span class="token keyword">return</span> <span class="token string">""</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="103"></td><td><pre>		<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="104"></td><td><pre>		<span class="token keyword">if</span> <span class="token punctuation">(</span>url<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token string">"?"</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="105"></td><td><pre>			url <span class="token operator">=</span> url <span class="token operator">+</span> <span class="token string">"?"</span> <span class="token operator">+</span> key <span class="token operator">+</span> <span class="token string">"="</span> <span class="token operator">+</span> value<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="106"></td><td><pre>		<span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="107"></td><td><pre>			<span class="token keyword">if</span> <span class="token punctuation">(</span>url<span class="token punctuation">.</span><span class="token function">endsWith</span><span class="token punctuation">(</span><span class="token string">"?"</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="108"></td><td><pre>				url <span class="token operator">=</span> url <span class="token operator">+</span> key <span class="token operator">+</span> <span class="token string">"="</span> <span class="token operator">+</span> value<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="109"></td><td><pre>			<span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="110"></td><td><pre>				url <span class="token operator">=</span> url <span class="token operator">+</span> <span class="token string">"&amp;amp;"</span> <span class="token operator">+</span> key <span class="token operator">+</span> <span class="token string">"="</span> <span class="token operator">+</span> value<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="111"></td><td><pre>			<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="112"></td><td><pre>		<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="113"></td><td><pre>		<span class="token keyword">return</span> url<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="114"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="115"></td><td><pre>	<span class="token comment">/**</span></pre></td></tr><tr><td data-num="116"></td><td><pre>	 * 为 url 添加翻页请求参数</pre></td></tr><tr><td data-num="117"></td><td><pre>	 */</pre></td></tr><tr><td data-num="118"></td><td><pre>	<span class="token keyword">private</span> <span class="token class-name">String</span> <span class="token function">resolveUrl</span><span class="token punctuation">(</span><span class="token class-name">String</span> url<span class="token punctuation">,</span> </pre></td></tr><tr><td data-num="119"></td><td><pre>        <span class="token class-name"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>jsp<span class="token punctuation">.</span></span>PageContext</span> pageContext<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">JspException</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="120"></td><td><pre>		<span class="token class-name">Map</span> params <span class="token operator">=</span> pageContext<span class="token punctuation">.</span><span class="token function">getRequest</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getParameterMap</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="121"></td><td><pre>		<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">Object</span> key <span class="token operator">:</span> params<span class="token punctuation">.</span><span class="token function">keySet</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="122"></td><td><pre>			<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token string">"page"</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token string">"rows"</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="123"></td><td><pre>				<span class="token keyword">continue</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="124"></td><td><pre>			<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="125"></td><td><pre>			<span class="token class-name">Object</span> value <span class="token operator">=</span> params<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="126"></td><td><pre>			<span class="token keyword">if</span> <span class="token punctuation">(</span>value <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="127"></td><td><pre>				<span class="token keyword">continue</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="128"></td><td><pre>			<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="129"></td><td><pre>			<span class="token keyword">if</span> <span class="token punctuation">(</span>value<span class="token punctuation">.</span><span class="token function">getClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">isArray</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="130"></td><td><pre>				url <span class="token operator">=</span> <span class="token function">append</span><span class="token punctuation">(</span>url<span class="token punctuation">,</span> key<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span> value<span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="131"></td><td><pre>			<span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>value <span class="token keyword">instanceof</span> <span class="token class-name">String</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="132"></td><td><pre>				url <span class="token operator">=</span> <span class="token function">append</span><span class="token punctuation">(</span>url<span class="token punctuation">,</span> key<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> value<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="133"></td><td><pre>			<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="134"></td><td><pre>		<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="135"></td><td><pre>		<span class="token keyword">return</span> url<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="136"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="137"></td><td><pre>	<span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getBean</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="138"></td><td><pre>		<span class="token keyword">return</span> bean<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="139"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="140"></td><td><pre>	<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setBean</span><span class="token punctuation">(</span><span class="token class-name">String</span> bean<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="141"></td><td><pre>		<span class="token keyword">this</span><span class="token punctuation">.</span>bean <span class="token operator">=</span> bean<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="142"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="143"></td><td><pre>	<span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getUrl</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="144"></td><td><pre>		<span class="token keyword">return</span> url<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="145"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="146"></td><td><pre>	<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setUrl</span><span class="token punctuation">(</span><span class="token class-name">String</span> url<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="147"></td><td><pre>		<span class="token keyword">this</span><span class="token punctuation">.</span>url <span class="token operator">=</span> url<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="148"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="149"></td><td><pre>	<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setNumber</span><span class="token punctuation">(</span><span class="token keyword">int</span> number<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="150"></td><td><pre>		<span class="token keyword">this</span><span class="token punctuation">.</span>number <span class="token operator">=</span> number<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="151"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="152"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><h2 id="项目小结"><a class="anchor" href="#项目小结">#</a> 项目小结</h2><p>整体来看，基本功能（增删改查）都已较为熟练。例如：</p><ul><li>增加一个功能的流程</li></ul><ol><li>在 Dao 层接口里定义方法，xml 映射里编写 SQL 语句，用于实现方法</li><li>在 Service 层接口，为服务端添加方法，并在 Impl 实现类中实现方法</li><li>在前端界面 customer 中，添加触发器，用于客户使用，测试方法</li><li>在控制器类 Controller 中，调用方法，并放回数据。（利用注释：返回界面）</li></ol><p>前端技术，开始看<em> KuangStudy</em> 的学习视频；</p><p>后端技术，对于分页查询还有一部分不会的地方，有待把握。</p></div><footer><div class="meta"><span class="item"><span class="icon"><i class="ic i-calendar-check"></i> </span><span class="text">更新于</span> <time title="修改时间：2021-08-12 12:02:40" itemprop="dateModified" datetime="2021-08-12T12:02:40+08:00">2021-08-12</time></span></div><div class="reward"><button><i class="ic i-heartbeat"></i> 赞赏</button><p>请我喝[茶]~(￣▽￣)~*</p><div id="qr"><div><img data-src="/images/wechatpay.png" alt="谢剑锋 微信支付"><p>微信支付</p></div><div><img data-src="/images/alipay.png" alt="谢剑锋 支付宝"><p>支付宝</p></div><div><img data-src="/images/paypal.png" alt="谢剑锋 贝宝"><p>贝宝</p></div></div></div><div id="copyright"><ul><li class="author"><strong>本文作者： </strong>谢剑锋 <i class="ic i-at"><em>@</em></i>谢剑锋的博客</li><li class="link"><strong>本文链接：</strong> <a href="http://yoursite.com/SSMproject%E6%B5%81%E7%A8%8B/" title="SSMproject流程">http://yoursite.com/SSMproject流程/</a></li><li class="license"><strong>版权声明： </strong>本站所有文章除特别声明外，均采用 <span class="exturl" data-url="aHR0cHM6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL2xpY2Vuc2VzL2J5LW5jLXNhLzQuMC9kZWVkLnpo"><i class="ic i-creative-commons"><em>(CC)</em></i>BY-NC-SA</span> 许可协议。转载请注明出处！</li></ul></div></footer></article></div><div class="post-nav"><div class="item left"><a href="/Maven%E5%AE%89%E8%A3%85%E4%B8%8E%E9%85%8D%E7%BD%AE/" itemprop="url" rel="prev" data-background-image="https:&#x2F;&#x2F;tva3.sinaimg.cn&#x2F;mw690&#x2F;6833939bly1gipewkhf1zj20zk0m81kx.jpg" title="Maven安装与配置"><span class="type">上一篇</span> <span class="category"><i class="ic i-flag"></i></span><h3>Maven安装与配置</h3></a></div><div class="item right"></div></div><div class="wrap" id="comments"></div></div><div id="sidebar"><div class="inner"><div class="panels"><div class="inner"><div class="contents panel pjax" data-title="文章目录"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#ssmproject%E6%B5%81%E7%A8%8B"><span class="toc-number">1.</span> <span class="toc-text">SSMproject 流程</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%A1%B9%E7%9B%AE%E9%9C%80%E6%B1%82%E5%88%86%E6%9E%90"><span class="toc-number">1.1.</span> <span class="toc-text">项目需求分析</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%B3%BB%E7%BB%9F%E6%9E%B6%E6%9E%84%E8%AE%BE%E8%AE%A1"><span class="toc-number">1.2.</span> <span class="toc-text">系统架构设计</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%B3%BB%E7%BB%9F%E7%8E%AF%E5%A2%83%E6%89%80%E9%9C%80jar%E5%8C%85"><span class="toc-number">1.3.</span> <span class="toc-text">系统环境所需 jar 包</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%AE%BE%E8%AE%A1%E6%95%B0%E6%8D%AE%E8%A1%A8%E7%BB%93%E6%9E%84"><span class="toc-number">1.4.</span> <span class="toc-text">设计数据表结构</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%85%8D%E7%BD%AE%E7%9B%AE%E5%BD%95"><span class="toc-number">1.5.</span> <span class="toc-text">配置目录</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%A1%B9%E7%9B%AE%E5%BC%80%E5%A7%8B"><span class="toc-number">1.6.</span> <span class="toc-text">项目开始</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA%E6%8C%81%E4%B9%85%E5%8C%96%E7%B1%BBuserjava"><span class="toc-number">1.6.1.</span> <span class="toc-text">创建持久化类 User.java</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%9B%E5%BB%BAdao%E5%B1%82%E6%8E%A5%E5%8F%A3userdaojava"><span class="toc-number">1.6.2.</span> <span class="toc-text">创建 DAO 层接口 UserDao.java</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA%E6%98%A0%E5%B0%84%E6%96%87%E4%BB%B6userdaoxml"><span class="toc-number">1.6.3.</span> <span class="toc-text">创建映射文件 UserDao.xml</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%9B%E5%BB%BAservice%E5%B1%82%E6%8E%A5%E5%8F%A3userservicejava"><span class="toc-number">1.6.4.</span> <span class="toc-text">创建 Service 层接口 UserService.java</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%9B%E5%BB%BAservice%E5%B1%82%E7%B1%BBuserserviceimpljava"><span class="toc-number">1.6.5.</span> <span class="toc-text">创建 Service 层类 UserServiceImpl.java</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA%E7%94%A8%E6%88%B7%E6%8E%A7%E5%88%B6%E5%99%A8%E7%B1%BBusercontrollerjava%E6%A0%B8%E5%BF%83%E4%BB%A3%E7%A0%81"><span class="toc-number">1.6.6.</span> <span class="toc-text">创建用户控制器类 UserController.java (核心代码)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AF%BC%E5%85%A5web%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6"><span class="toc-number">1.6.7.</span> <span class="toc-text">导入 web 配置文件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AF%BC%E5%85%A5jsp%E9%A1%B5%E9%9D%A2%E8%B5%84%E6%BA%90"><span class="toc-number">1.6.8.</span> <span class="toc-text">导入 JSP 页面资源:</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%B3%BB%E7%BB%9F%E7%99%BB%E5%BD%95%E9%A1%B5%E9%9D%A2"><span class="toc-number">1.6.8.1.</span> <span class="toc-text">系统登录页面</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%94%A8%E6%88%B7%E4%BF%A1%E6%81%AF%E7%AE%A1%E7%90%86%E9%A1%B5%E9%9D%A2"><span class="toc-number">1.6.8.2.</span> <span class="toc-text">用户信息管理页面</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%86%E9%A1%B5%E6%A0%87%E8%AE%B0%E6%96%87%E4%BB%B6%E4%BB%A3%E7%A0%81"><span class="toc-number">1.6.8.3.</span> <span class="toc-text">分页标记文件代码</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AF%BC%E5%85%A5%E5%9B%BE%E7%89%87%E6%96%87%E4%BB%B6"><span class="toc-number">1.6.8.4.</span> <span class="toc-text">导入图片文件</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AF%BC%E5%85%A5config%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6"><span class="toc-number">1.6.9.</span> <span class="toc-text">导入 config 配置文件:</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#spring%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6applicationcontextxml"><span class="toc-number">1.6.9.1.</span> <span class="toc-text">spring 配置文件：applicationContext.xml</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E5%BA%93%E5%B8%B8%E9%87%8F%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6dbproperties"><span class="toc-number">1.6.9.2.</span> <span class="toc-text">数据库常量配置文件：db.properties</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#log4j%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6log4jproperties"><span class="toc-number">1.6.9.3.</span> <span class="toc-text">log4j 配置文件：log4j.properties</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%B5%84%E6%BA%90%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6resourceproperties"><span class="toc-number">1.6.9.4.</span> <span class="toc-text">资源配置文件：resource.properties</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#mybatis%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6mybatis-configxml"><span class="toc-number">1.6.9.5.</span> <span class="toc-text">MyBatis 配置文件：mybatis-config.xml</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#spring-mvc%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6springmvc-configxml"><span class="toc-number">1.6.9.6.</span> <span class="toc-text">Spring MVC 配置文件 springmvc-config.xml</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%99%BB%E5%BD%95%E6%8B%A6%E6%88%AA%E5%99%A8%E7%B1%BBlogininterceptorjava"><span class="toc-number">1.6.10.</span> <span class="toc-text">登录拦截器类：LoginInterceptor.java</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%85%8D%E7%BD%AE%E6%8B%A6%E6%88%AA%E5%99%A8"><span class="toc-number">1.6.10.1.</span> <span class="toc-text">配置拦截器</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%A2%E6%88%B7%E7%B1%BBcustomer"><span class="toc-number">1.6.11.</span> <span class="toc-text">客户类：Customer</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA%E5%AE%A2%E6%88%B7%E6%8C%81%E4%B9%85%E5%8C%96%E7%B1%BB"><span class="toc-number">1.6.11.1.</span> <span class="toc-text">创建客户持久化类</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%9B%E5%BB%BAdao%E5%B1%82%E7%9A%84%E5%AE%A2%E6%88%B7%E6%95%B0%E6%8D%AE%E5%A4%84%E7%90%86%E7%B1%BB"><span class="toc-number">1.6.11.2.</span> <span class="toc-text">创建 DAO 层的客户数据处理类</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA%E5%AE%A2%E6%88%B7%E6%95%B0%E6%8D%AE%E5%A4%84%E7%90%86%E7%B1%BB%E7%9A%84%E6%98%A0%E5%B0%84%E6%96%87%E4%BB%B6"><span class="toc-number">1.6.11.3.</span> <span class="toc-text">创建客户数据处理类的映射文件</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA%E5%AE%A2%E6%88%B7%E7%9A%84service%E5%B1%82%E6%8E%A5%E5%8F%A3"><span class="toc-number">1.6.11.4.</span> <span class="toc-text">创建客户的 service 层接口</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA%E5%AE%A2%E6%88%B7%E7%9A%84service%E5%B1%82%E7%9A%84%E5%AE%9E%E7%8E%B0%E7%B1%BB"><span class="toc-number">1.6.11.5.</span> <span class="toc-text">创建客户的 service 层的实现类</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA%E5%AE%A2%E6%88%B7%E6%8E%A7%E5%88%B6%E5%99%A8%E7%B1%BB"><span class="toc-number">1.6.11.6.</span> <span class="toc-text">创建客户控制器类</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9F%A5%E8%AF%A2%E5%AE%A2%E6%88%B7%E4%BF%A1%E6%81%AF"><span class="toc-number">1.6.12.</span> <span class="toc-text">查询客户信息</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA%E6%9D%A1%E4%BB%B6%E6%9F%A5%E8%AF%A2"><span class="toc-number">1.6.12.1.</span> <span class="toc-text">创建条件查询</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%80%BB%E5%89%8D%E7%AB%AF%E9%85%8D%E7%BD%AE-customerjsp"><span class="toc-number">1.6.12.1.1.</span> <span class="toc-text">总前端配置 customer.jsp</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA%E5%88%86%E9%A1%B5%E6%9F%A5%E8%AF%A2"><span class="toc-number">1.6.12.2.</span> <span class="toc-text">创建分页查询</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%AE%9E%E7%8E%B0%E5%88%86%E9%A1%B5%E5%8A%9F%E8%83%BD"><span class="toc-number">1.6.12.2.1.</span> <span class="toc-text">实现分页功能</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%BC%95%E5%85%A5%E5%88%86%E9%A1%B5%E6%A0%87%E7%AD%BE%E7%B1%BB"><span class="toc-number">1.6.12.2.2.</span> <span class="toc-text">引入分页标签类</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%A1%B9%E7%9B%AE%E5%B0%8F%E7%BB%93"><span class="toc-number">1.7.</span> <span class="toc-text">项目小结</span></a></li></ol></li></ol></div><div class="related panel pjax" data-title="系列文章"></div><div class="overview panel" data-title="站点概览"><div class="author" itemprop="author" itemscope itemtype="http://schema.org/Person"><img class="image" itemprop="image" alt="谢剑锋" data-src="/images/avatar.jpg"><p class="name" itemprop="name">谢剑锋</p><div class="description" itemprop="description">阿巴阿巴，像个憨瓜</div></div><nav class="state"><div class="item posts"><a href="/archives/"><span class="count">4</span> <span class="name">文章</span></a></div></nav><div class="social"><span class="exturl item github" data-url="aHR0cHM6Ly9naXRodWIuY29tL1hpZWppYW5mZW5nMjAwMA==" title="https:&#x2F;&#x2F;github.com&#x2F;Xiejianfeng2000"><i class="ic i-github"></i></span> <a href="/%E6%9A%82%E6%97%A0" title="暂无" class="item twitter"><i class="ic i-twitter"></i></a> <span class="exturl item zhihu" data-url="aHR0cHM6Ly93d3cuemhpaHUuY29tL3Blb3BsZS9tci14aW9uZy02MA==" title="https:&#x2F;&#x2F;www.zhihu.com&#x2F;people&#x2F;mr-xiong-60"><i class="ic i-zhihu"></i></span> <span class="exturl item music" data-url="aHR0cHM6Ly9tdXNpYy4xNjMuY29tLyMvdXNlci9ob21lP2lkPTQyODA2NDY3OA==" title="https:&#x2F;&#x2F;music.163.com&#x2F;#&#x2F;user&#x2F;home?id&#x3D;428064678"><i class="ic i-cloud-music"></i></span> <span class="exturl item weibo" data-url="aHR0cHM6Ly93d3cud2VpYm8uY29tL3UvNjIxMjM1MzM2OS9ob21lP3d2cj01" title="https:&#x2F;&#x2F;www.weibo.com&#x2F;u&#x2F;6212353369&#x2F;home?wvr&#x3D;5"><i class="ic i-weibo"></i></span> <span class="exturl item email" data-url="bWFpbHRvOjI1NzExMjExMzRAcXEuY29t" title="mailto:2571121134@qq.com"><i class="ic i-envelope"></i></span></div><ul class="menu"></ul></div></div></div><ul id="quick"><li class="prev pjax"></li><li class="up"><i class="ic i-arrow-up"></i></li><li class="down"><i class="ic i-arrow-down"></i></li><li class="next pjax"></li><li class="percent"></li></ul></div></div><div class="dimmer"></div></div></main><footer id="footer"><div class="inner"><div class="widgets"><div class="rpost pjax"><h2>随机文章</h2><ul><li class="item"><div class="breadcrumb"></div><span><a href="/Maven%E5%AE%89%E8%A3%85%E4%B8%8E%E9%85%8D%E7%BD%AE/" title="Maven安装与配置">Maven安装与配置</a></span></li><li class="item"><div class="breadcrumb"></div><span><a href="/MyBatis%E6%95%B0%E6%8D%AE%E5%BA%93%E6%A1%86%E6%9E%B6/" title="MyBatis数据库框架">MyBatis数据库框架</a></span></li><li class="item"><div class="breadcrumb"></div><span><a href="/hello-world/" title="Hello World">Hello World</a></span></li><li class="item"><div class="breadcrumb"></div><span><a href="/SSMproject%E6%B5%81%E7%A8%8B/" title="SSMproject流程">SSMproject流程</a></span></li></ul></div><div><h2>最新评论</h2><ul class="leancloud-recent-comment"></ul></div></div><div class="status"><div class="copyright">&copy; 2010 – <span itemprop="copyrightYear">2021</span> <span class="with-love"><i class="ic i-sakura rotate"></i> </span><span class="author" itemprop="copyrightHolder">谢剑锋 @ Ricardo·M·Xie</span></div><div class="powered-by">基于 <span class="exturl" data-url="aHR0cHM6Ly9oZXhvLmlv">Hexo</span> & Theme.<span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL2FtZWhpbWUvaGV4by10aGVtZS1zaG9rYQ==">Shoka</span></div></div></div></footer></div><script data-config type="text/javascript">var LOCAL={path:"SSMproject流程/",favicon:{show:"（●´3｀●）やれやれだぜ",hide:"(´Д｀)大変だ！"},search:{placeholder:"文章搜索",empty:"关于 「 ${query} 」，什么也没搜到",stats:"${time} ms 内找到 ${hits} 条结果"},valine:!0,fancybox:!0,copyright:'复制成功，转载请遵守 <i class="ic i-creative-commons"></i>BY-NC-SA 协议。',ignores:[function(e){return e.includes("#")},function(e){return new RegExp(LOCAL.path+"$").test(e)}]}</script><script src="https://cdn.polyfill.io/v2/polyfill.js"></script><script src="//cdn.jsdelivr.net/combine/npm/pace-js@1.0.2/pace.min.js,npm/pjax@0.2.8/pjax.min.js,npm/whatwg-fetch@3.4.0/dist/fetch.umd.min.js,npm/animejs@3.2.0/lib/anime.min.js,npm/algoliasearch@4/dist/algoliasearch-lite.umd.js,npm/instantsearch.js@4/dist/instantsearch.production.min.js,npm/lozad@1/dist/lozad.min.js,npm/quicklink@2/dist/quicklink.umd.js"></script><script src="/js/app.js?v=0.2.5"></script></body></html>